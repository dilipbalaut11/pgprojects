Parsed test spec with 3 sessions

starting permutation: s1_insert s2_insert s2_insert s2_insert s1_insert s2_insert s1begin s1c_sel_dec s1a_sel_dec s1c_sel_end s2_insert s2_insert s1c_sel_dec s1commit s2begin s1_insert s1c_sel_next s2b_sel_dec s1a_sel_next s1a_sel_prior s1_insert s2_insert s2b_sel_prior s2a_sel_dec s1c_sel_next s1c_sel_forward s1_insert s2a_sel_forward s3begin s2a_sel_prior s2b_sel_end s2a_sel_end s1c_sel_end s1a_sel_end s3abort s2commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
  a|b|  c
---+-+---
  3|1|  3
  4|1|  4
  5|1|  5
  6|1|  6
  7|1|  7
  8|1|  8
  9|1|  9
 10|1| 10
 11|2|  1
 12|2|  2
 13|2|  3
 14|2|  4
 15|2|  5
 16|2|  6
 17|2|  7
 18|2|  8
 19|2|  9
 20|2| 10
 21|2| 11
 22|2| 12
 23|2| 13
 24|2| 14
 25|2| 15
 26|2| 16
 27|2| 17
 28|2| 18
 29|2| 19
 30|2| 20
 31|2| 21
 32|2| 22
 33|2| 23
 34|2| 24
 35|2| 25
 36|2| 26
 37|2| 27
 38|2| 28
 39|2| 29
 40|2| 30
 41|2| 31
 42|2| 32
 43|2| 33
 44|2| 34
 45|2| 35
 46|2| 36
 47|2| 37
 48|2| 38
 49|2| 39
 50|2| 40
 51|2| 41
 52|2| 42
 53|2| 43
 54|2| 44
 55|2| 45
 56|2| 46
 57|2| 47
 58|2| 48
 59|2| 49
 60|2| 50
 61|2| 51
 62|2| 52
 63|2| 53
 64|2| 54
 65|2| 55
 66|2| 56
 67|2| 57
 68|1| 11
 69|1| 12
 70|1| 13
 71|1| 14
 72|1| 15
 73|1| 16
 74|1| 17
 75|1| 18
 76|1| 19
 77|1| 20
 78|2| 58
 79|2| 59
 80|2| 60
 81|2| 61
 82|2| 62
 83|2| 63
 84|2| 64
 85|2| 65
 86|2| 66
 87|2| 67
 88|2| 68
 89|2| 69
 90|2| 70
 91|2| 71
 92|2| 72
 93|2| 73
 94|2| 74
 95|2| 75
 96|2| 76
 97|2| 77
 98|2| 78
 99|2| 79
100|2| 80
101|2| 81
102|2| 82
103|2| 83
104|2| 84
105|2| 85
106|2| 86
107|2| 87
108|2| 88
109|2| 89
110|2| 90
111|2| 91
112|2| 92
113|2| 93
114|2| 94
115|2| 95
116|2| 96
117|2| 97
118|2| 98
119|2| 99
120|2|100
121|2|101
122|2|102
123|2|103
124|2|104
125|2|105
126|2|106
127|2|107
128|2|108
129|2|109
130|2|110
131|2|111
132|2|112
133|2|113
134|2|114
(132 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b|  c
---+-+---
  1|1|  1
  2|1|  2
  3|1|  3
  4|1|  4
  5|1|  5
  6|1|  6
  7|1|  7
  8|1|  8
  9|1|  9
 10|1| 10
 11|2|  1
 12|2|  2
 13|2|  3
 14|2|  4
 15|2|  5
 16|2|  6
 17|2|  7
 18|2|  8
 19|2|  9
 20|2| 10
 21|2| 11
 22|2| 12
 23|2| 13
 24|2| 14
 25|2| 15
 26|2| 16
 27|2| 17
 28|2| 18
 29|2| 19
 30|2| 20
 31|2| 21
 32|2| 22
 33|2| 23
 34|2| 24
 35|2| 25
 36|2| 26
 37|2| 27
 38|2| 28
 39|2| 29
 40|2| 30
 41|2| 31
 42|2| 32
 43|2| 33
 44|2| 34
 45|2| 35
 46|2| 36
 47|2| 37
 48|2| 38
 49|2| 39
 50|2| 40
 51|2| 41
 52|2| 42
 53|2| 43
 54|2| 44
 55|2| 45
 56|2| 46
 57|2| 47
 58|2| 48
 59|2| 49
 60|2| 50
 61|2| 51
 62|2| 52
 63|2| 53
 64|2| 54
 65|2| 55
 66|2| 56
 67|2| 57
 68|1| 11
 69|1| 12
 70|1| 13
 71|1| 14
 72|1| 15
 73|1| 16
 74|1| 17
 75|1| 18
 76|1| 19
 77|1| 20
 78|2| 58
 79|2| 59
 80|2| 60
 81|2| 61
 82|2| 62
 83|2| 63
 84|2| 64
 85|2| 65
 86|2| 66
 87|2| 67
 88|2| 68
 89|2| 69
 90|2| 70
 91|2| 71
 92|2| 72
 93|2| 73
 94|2| 74
 95|2| 75
 96|2| 76
 97|2| 77
 98|2| 78
 99|2| 79
100|2| 80
101|2| 81
102|2| 82
103|2| 83
104|2| 84
105|2| 85
106|2| 86
107|2| 87
108|2| 88
109|2| 89
110|2| 90
111|2| 91
112|2| 92
113|2| 93
114|2| 94
115|2| 95
116|2| 96
117|2| 97
118|2| 98
119|2| 99
120|2|100
121|2|101
122|2|102
123|2|103
124|2|104
125|2|105
126|2|106
127|2|107
128|2|108
129|2|109
130|2|110
131|2|111
132|2|112
133|2|113
134|2|114
135|1| 21
136|1| 22
137|1| 23
138|1| 24
139|1| 25
140|1| 26
141|1| 27
142|1| 28
143|1| 29
144|1| 30
145|1| 31
146|1| 32
147|1| 33
148|1| 34
149|1| 35
150|1| 36
151|1| 37
152|1| 38
153|1| 39
154|1| 40
155|2|115
156|2|116
157|2|117
158|2|118
159|2|119
160|2|120
161|2|121
162|2|122
163|2|123
164|2|124
165|2|125
166|2|126
167|2|127
168|2|128
169|2|129
170|2|130
171|2|131
172|2|132
173|2|133
(173 rows)

step s3begin: BEGIN;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
  a|b|  c
---+-+---
173|2|133
(1 row)

step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s1_insert s1_insert s3_insert s3_insert s3_insert s3begin s2begin s1_insert s1begin s3commit s2d_sel_dec s1b_sel_dec s2c_sel_dec s2_insert s2abort s1a_sel_dec s2c_sel_next s1a_sel_end s1abort s2d_sel_forward s1b_sel_prior s1b_sel_end s2c_sel_next s2c_sel_end s2d_sel_forward s1_insert s1begin s1d_sel_dec s2begin s1a_sel_dec s1d_sel_end s1a_sel_end s2d_sel_end s2commit s1abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1_insert s1begin s1d_sel_dec s1c_sel_dec s1c_sel_forward s1b_sel_dec s1d_sel_end s1b_sel_end s2begin s3begin s3d_sel_dec s2commit s1c_sel_forward s1abort s1c_sel_forward s1c_sel_forward s3c_sel_dec s2_insert s1_insert s3c_sel_end s3_insert s1begin s1_insert s3_insert s1d_sel_dec s1commit s3abort s2begin s2_insert s1begin s1d_sel_end s1c_sel_end s3d_sel_end s2commit s1abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s3begin s1_insert s2_insert s3a_sel_dec s3a_sel_end s3commit s1begin s1a_sel_dec s1abort s2_insert s2_insert s2begin s1a_sel_backward s2b_sel_dec s3begin s3abort s2_insert s2b_sel_forward s2b_sel_end s1a_sel_end s2abort s2_insert s3_insert s2_insert s1begin s1c_sel_dec s1c_sel_end s1a_sel_dec s2_insert s3_insert s1a_sel_end s1commit
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
49|2|39
50|2|40
51|2|41
52|2|42
53|2|43
54|2|44
55|2|45
56|2|46
57|2|47
58|2|48
59|2|49
60|2|50
61|2|51
62|2|52
63|2|53
64|2|54
65|2|55
66|2|56
67|2|57
(67 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;

starting permutation: s3begin s2begin s2abort s1_insert s1begin s2begin s1_insert s3c_sel_dec s1b_sel_dec s3b_sel_dec s3b_sel_forward s3b_sel_end s1_insert s3a_sel_dec s3abort s1d_sel_dec s1a_sel_dec s1b_sel_backward s3c_sel_forward s2c_sel_dec s1abort s1a_sel_prior s1d_sel_forward s1b_sel_forward s3a_sel_prior s1d_sel_next s3a_sel_next s1b_sel_backward s2d_sel_dec s1begin s1a_sel_end s2c_sel_end s2d_sel_end s3a_sel_end s3c_sel_end s1b_sel_end s1d_sel_end s2abort s1commit
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s1_insert s1begin s1c_sel_dec s1abort s1c_sel_forward s3begin s1c_sel_next s2begin s3_insert s1c_sel_forward s2c_sel_dec s3b_sel_dec s2c_sel_end s1c_sel_end s2d_sel_dec s3c_sel_dec s2_insert s3c_sel_end s3b_sel_prior s1_insert s1begin s2a_sel_dec s1commit s2commit s3b_sel_backward s2d_sel_end s2a_sel_backward s2a_sel_backward s2_insert s3b_sel_backward s2a_sel_end s3b_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2commit: COMMIT;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s1_insert s2begin s3_insert s2commit s2_insert s1_insert s1begin s2begin s1_insert s1_insert s2c_sel_dec s2c_sel_next s1d_sel_dec s1b_sel_dec s2_insert s3_insert s3_insert s1c_sel_dec s2_insert s2abort s2c_sel_forward s2_insert s1b_sel_forward s1d_sel_next s1c_sel_end s1commit s2c_sel_forward s1b_sel_prior s3begin s1d_sel_next s1b_sel_end s1d_sel_end s2c_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|1|11
59|1|12
60|1|13
61|1|14
62|1|15
63|1|16
64|1|17
65|1|18
66|1|19
67|1|20
68|1|21
69|1|22
70|1|23
71|1|24
72|1|25
73|1|26
74|1|27
75|1|28
76|1|29
77|1|30
78|1|31
79|1|32
80|1|33
81|1|34
82|1|35
83|1|36
84|1|37
85|1|38
86|1|39
87|1|40
(87 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3commit: COMMIT;

starting permutation: s3_insert s1_insert s1begin s1b_sel_dec s2_insert s1b_sel_end s3begin s3abort s1a_sel_dec s1abort s3begin s1a_sel_end s1begin s1d_sel_dec s1d_sel_end s3a_sel_dec s3abort s3a_sel_forward s2begin s1b_sel_dec s2abort s1_insert s2_insert s1b_sel_end s2_insert s1abort s3a_sel_forward s3a_sel_prior s2begin s1begin s3a_sel_end s1commit s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2begin: BEGIN;
step s1begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s3begin s3b_sel_dec s1_insert s3b_sel_next s3_insert s3a_sel_dec s3_insert s2begin s3commit s1begin s2b_sel_dec s2b_sel_next s3b_sel_prior s3a_sel_forward s2c_sel_dec s1commit s3a_sel_forward s3b_sel_forward s2d_sel_dec s2b_sel_next s2b_sel_end s3b_sel_end s1_insert s2abort s2d_sel_next s3a_sel_forward s3a_sel_prior s3_insert s3a_sel_prior s2c_sel_end s2d_sel_end s3a_sel_end
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
(38 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2b_sel_end: CLOSE s2b_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
38|3|28
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
37|3|27
(1 row)

step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;

starting permutation: s1_insert s2_insert s1_insert s2begin s2b_sel_dec s2b_sel_prior s2abort s3_insert s2b_sel_prior s3_insert s2b_sel_forward s2b_sel_prior s2b_sel_prior s1begin s1d_sel_dec s2b_sel_prior s2b_sel_forward s1d_sel_next s1c_sel_dec s1c_sel_forward s1_insert s1c_sel_next s1c_sel_forward s1b_sel_dec s2b_sel_forward s2begin s1d_sel_forward s1d_sel_end s1d_sel_dec s2b_sel_backward s1c_sel_end s1d_sel_end s2b_sel_end s1b_sel_end s2abort s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|3| 1
41|3| 2
42|3| 3
43|3| 4
44|3| 5
45|3| 6
46|3| 7
47|3| 8
48|3| 9
49|3|10
50|3|11
51|3|12
52|3|13
53|3|14
54|3|15
55|3|16
56|3|17
57|3|18
58|3|19
59|3|20
60|3|21
61|3|22
62|3|23
63|3|24
64|3|25
65|3|26
66|3|27
67|3|28
68|3|29
69|3|30
70|3|31
71|3|32
72|3|33
73|3|34
74|3|35
75|3|36
76|3|37
77|3|38
78|3|39
79|3|40
80|3|41
81|3|42
82|3|43
83|3|44
84|3|45
85|3|46
86|3|47
87|3|48
88|3|49
89|3|50
90|3|51
91|3|52
92|3|53
93|3|54
94|3|55
95|3|56
(95 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|3| 1
41|3| 2
42|3| 3
43|3| 4
44|3| 5
45|3| 6
46|3| 7
47|3| 8
48|3| 9
49|3|10
50|3|11
51|3|12
52|3|13
53|3|14
54|3|15
55|3|16
56|3|17
57|3|18
58|3|19
59|3|20
60|3|21
61|3|22
62|3|23
63|3|24
64|3|25
65|3|26
66|3|27
67|3|28
68|3|29
69|3|30
70|3|31
71|3|32
72|3|33
73|3|34
74|3|35
75|3|36
76|3|37
77|3|38
78|3|39
79|3|40
80|3|41
81|3|42
82|3|43
83|3|44
84|3|45
85|3|46
86|3|47
87|3|48
88|3|49
89|3|50
90|3|51
91|3|52
92|3|53
93|3|54
94|3|55
95|3|56
(94 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s2begin s1begin s2d_sel_dec s2d_sel_next s1b_sel_dec s2d_sel_next s1b_sel_next s1b_sel_forward s1c_sel_dec s2d_sel_forward s1b_sel_backward s2abort s1b_sel_backward s1c_sel_forward s1_insert s1b_sel_next s2_insert s1a_sel_dec s1_insert s1c_sel_end s1a_sel_forward s2begin s1c_sel_dec s1a_sel_end s1c_sel_next s2d_sel_forward s1abort s2_insert s2_insert s2commit s1b_sel_end s1c_sel_end s2d_sel_end
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
(29 rows)

step s2begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s1_insert s3_insert s2begin s3_insert s1_insert s2abort s3_insert s1_insert s3begin s3abort s2begin s2commit s2begin s2abort s2_insert s2begin s2d_sel_dec s2c_sel_dec s2commit s2c_sel_next s2c_sel_forward s3begin s3b_sel_dec s2d_sel_next s2c_sel_end s1_insert s3a_sel_dec s1begin s2d_sel_next s1_insert s3a_sel_end s3b_sel_end s2d_sel_end s1commit s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a|b| c
---+-+--
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|3| 1
 12|3| 2
 13|3| 3
 14|3| 4
 15|3| 5
 16|3| 6
 17|3| 7
 18|3| 8
 19|3| 9
 20|3|10
 21|3|11
 22|3|12
 23|3|13
 24|3|14
 25|3|15
 26|3|16
 27|3|17
 28|3|18
 29|3|19
 30|3|20
 31|3|21
 32|3|22
 33|3|23
 34|3|24
 35|3|25
 36|3|26
 37|3|27
 38|3|28
 39|3|29
 40|3|30
 41|3|31
 42|3|32
 43|3|33
 44|3|34
 45|3|35
 46|3|36
 47|3|37
 48|3|38
 49|3|39
 50|3|40
 51|3|41
 52|3|42
 53|3|43
 54|3|44
 55|3|45
 56|3|46
 57|3|47
 58|3|48
 59|3|49
 60|3|50
 61|3|51
 62|3|52
 63|3|53
 64|3|54
 65|3|55
 66|3|56
 67|1|11
 68|1|12
 69|1|13
 70|1|14
 71|1|15
 72|1|16
 73|1|17
 74|1|18
 75|1|19
 76|1|20
 77|3|57
 78|3|58
 79|3|59
 80|3|60
 81|3|61
 82|3|62
 83|3|63
 84|3|64
 85|3|65
 86|3|66
 87|3|67
 88|3|68
 89|3|69
 90|3|70
 91|3|71
 92|3|72
 93|3|73
 94|3|74
 95|3|75
 96|3|76
 97|3|77
 98|3|78
 99|3|79
100|3|80
101|3|81
102|3|82
103|3|83
104|3|84
105|1|21
106|1|22
107|1|23
108|1|24
109|1|25
110|1|26
111|1|27
112|1|28
113|1|29
114|1|30
115|2| 1
116|2| 2
117|2| 3
118|2| 4
119|2| 5
120|2| 6
121|2| 7
122|2| 8
123|2| 9
124|2|10
125|2|11
126|2|12
127|2|13
128|2|14
129|2|15
130|2|16
131|2|17
132|2|18
133|2|19
(132 rows)

step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s3begin s3commit s2commit s1begin s1abort s3begin s2_insert s3commit s3_insert s3begin s3d_sel_dec s3commit s3begin s3d_sel_next s1begin s3d_sel_end s2_insert s1abort s3c_sel_dec s3_insert s3b_sel_dec s3b_sel_end s3a_sel_dec s3c_sel_end s1_insert s3_insert s3a_sel_forward s3abort s3a_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist

starting permutation: s3begin s3c_sel_dec s3abort s3_insert s1_insert s2begin s3_insert s1begin s1a_sel_dec s2a_sel_dec s2a_sel_backward s1a_sel_end s2a_sel_prior s2a_sel_prior s1c_sel_dec s2d_sel_dec s2a_sel_backward s3_insert s3c_sel_end s2_insert s2a_sel_next s1c_sel_forward s2d_sel_next s1b_sel_dec s1c_sel_next s1c_sel_next s1abort s1b_sel_forward s2d_sel_next s1begin s1b_sel_end s1c_sel_end s2a_sel_end s2d_sel_end s2abort s1commit
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
(66 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1begin: BEGIN;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s3_insert s1begin s2_insert s2_insert s1a_sel_dec s1c_sel_dec s3begin s1d_sel_dec s1a_sel_end s1d_sel_next s1c_sel_forward s3abort s1_insert s1commit s2begin s1d_sel_forward s1_insert s1_insert s1d_sel_forward s2abort s1d_sel_end s2begin s2abort s1c_sel_end s2begin s2commit s1begin s3begin s3_insert s1a_sel_dec s1a_sel_end s3abort s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
(66 rows)

step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2abort: ROLLBACK;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1c_sel_end: CLOSE s1c_sel;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s2_insert s2_insert s2begin s2d_sel_dec s3_insert s3_insert s2c_sel_dec s2a_sel_dec s2c_sel_forward s2c_sel_forward s2c_sel_end s3_insert s2commit s2a_sel_prior s1_insert s2begin s2d_sel_end s2a_sel_next s2a_sel_next s1begin s3begin s2abort s3d_sel_dec s2_insert s1_insert s2a_sel_prior s2_insert s3b_sel_dec s3abort s2a_sel_prior s3d_sel_end s2a_sel_end s3b_sel_end s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
39|3| 1
40|3| 2
41|3| 3
42|3| 4
43|3| 5
44|3| 6
45|3| 7
46|3| 8
47|3| 9
48|3|10
49|3|11
50|3|12
51|3|13
52|3|14
53|3|15
54|3|16
55|3|17
56|3|18
57|3|19
58|3|20
59|3|21
60|3|22
61|3|23
62|3|24
63|3|25
64|3|26
65|3|27
66|3|28
67|3|29
68|3|30
69|3|31
70|3|32
71|3|33
72|3|34
73|3|35
74|3|36
75|3|37
76|3|38
77|3|39
78|3|40
79|3|41
80|3|42
81|3|43
82|3|44
83|3|45
84|3|46
85|3|47
86|3|48
87|3|49
88|3|50
89|3|51
90|3|52
91|3|53
92|3|54
93|3|55
94|3|56
(94 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2abort: ROLLBACK;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1commit: COMMIT;

starting permutation: s1_insert s1_insert s1begin s2_insert s3_insert s3_insert s2_insert s2begin s1d_sel_dec s1b_sel_dec s1d_sel_end s1d_sel_dec s1d_sel_end s1abort s2abort s1_insert s2_insert s1b_sel_forward s3_insert s1b_sel_next s1b_sel_prior s3begin s1b_sel_backward s3commit s1begin s1d_sel_dec s1b_sel_prior s2_insert s1a_sel_dec s1a_sel_backward s1a_sel_end s1b_sel_end s1d_sel_end s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;

starting permutation: s1begin s1commit s1begin s1_insert s1a_sel_dec s1a_sel_next s3_insert s2begin s1abort s2c_sel_dec s2abort s1a_sel_end s2_insert s3_insert s1begin s1a_sel_dec s1b_sel_dec s1abort s1a_sel_forward s1begin s2c_sel_end s3begin s1d_sel_dec s3a_sel_dec s1a_sel_forward s3a_sel_prior s3d_sel_dec s1b_sel_prior s1b_sel_end s1a_sel_backward s1a_sel_end s3d_sel_end s3a_sel_end s1d_sel_end s3abort s1abort
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2_insert s3_insert s2begin s2d_sel_dec s2_insert s2a_sel_dec s2a_sel_backward s2_insert s2a_sel_backward s2d_sel_forward s3begin s3a_sel_dec s3b_sel_dec s3abort s1_insert s1_insert s2_insert s3_insert s2commit s2a_sel_next s3b_sel_backward s3b_sel_backward s3b_sel_next s3b_sel_next s2d_sel_next s2d_sel_next s3b_sel_prior s3a_sel_end s1_insert s3b_sel_backward s2d_sel_end s2a_sel_end s3b_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s2_insert s3_insert s2_insert s3begin s3d_sel_dec s3commit s1_insert s3begin s1begin s3d_sel_forward s1c_sel_dec s3d_sel_forward s3_insert s3d_sel_next s3c_sel_dec s3abort s3c_sel_end s1a_sel_dec s1c_sel_forward s1a_sel_next s1c_sel_forward s3d_sel_end s1a_sel_forward s2begin s1_insert s1c_sel_forward s2abort s1_insert s1c_sel_forward s1a_sel_forward s1a_sel_end s1c_sel_end s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
67|1| 1
68|1| 2
69|1| 3
70|1| 4
71|1| 5
72|1| 6
73|1| 7
74|1| 8
75|1| 9
76|1|10
(76 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
67|1| 1
68|1| 2
69|1| 3
70|1| 4
71|1| 5
72|1| 6
73|1| 7
74|1| 8
75|1| 9
76|1|10
(75 rows)

step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;

starting permutation: s1_insert s1begin s2begin s1b_sel_dec s1d_sel_dec s1_insert s2commit s1commit s1b_sel_next s2_insert s1d_sel_forward s1b_sel_backward s1begin s1abort s2_insert s1b_sel_next s3_insert s1d_sel_end s1begin s1c_sel_dec s1abort s1b_sel_next s1c_sel_forward s3begin s1c_sel_next s1b_sel_next s1begin s1commit s3commit s1_insert s1c_sel_end s1b_sel_end
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s1commit: COMMIT;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s3_insert s2begin s3begin s2_insert s3b_sel_dec s2b_sel_dec s3b_sel_end s2abort s2b_sel_prior s3commit s2b_sel_end s1begin s1a_sel_dec s1a_sel_prior s1a_sel_backward s1a_sel_forward s1b_sel_dec s1_insert s1_insert s2begin s2b_sel_dec s2c_sel_dec s1a_sel_prior s2c_sel_next s2b_sel_backward s1b_sel_next s1a_sel_backward s1d_sel_dec s2d_sel_dec s2c_sel_forward s2d_sel_end s2c_sel_end s1a_sel_end s2b_sel_end s1d_sel_end s1b_sel_end s1commit s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s2abort: ROLLBACK;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3commit: COMMIT;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
 a|b| c
--+-+--
28|3|28
(1 row)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(27 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s1_insert s1_insert s3begin s3abort s2_insert s1_insert s3_insert s2begin s2_insert s3_insert s3_insert s2d_sel_dec s2d_sel_forward s2a_sel_dec s2a_sel_backward s2b_sel_dec s1begin s2b_sel_next s1abort s2commit s3begin s3c_sel_dec s2b_sel_prior s3c_sel_forward s3c_sel_next s2a_sel_end s3c_sel_forward s2b_sel_forward s2b_sel_forward s3c_sel_end s2b_sel_end s2d_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|1|11
 12|1|12
 13|1|13
 14|1|14
 15|1|15
 16|1|16
 17|1|17
 18|1|18
 19|1|19
 20|1|20
 21|2| 1
 22|2| 2
 23|2| 3
 24|2| 4
 25|2| 5
 26|2| 6
 27|2| 7
 28|2| 8
 29|2| 9
 30|2|10
 31|2|11
 32|2|12
 33|2|13
 34|2|14
 35|2|15
 36|2|16
 37|2|17
 38|2|18
 39|2|19
 40|1|21
 41|1|22
 42|1|23
 43|1|24
 44|1|25
 45|1|26
 46|1|27
 47|1|28
 48|1|29
 49|1|30
 50|3| 1
 51|3| 2
 52|3| 3
 53|3| 4
 54|3| 5
 55|3| 6
 56|3| 7
 57|3| 8
 58|3| 9
 59|3|10
 60|3|11
 61|3|12
 62|3|13
 63|3|14
 64|3|15
 65|3|16
 66|3|17
 67|3|18
 68|3|19
 69|3|20
 70|3|21
 71|3|22
 72|3|23
 73|3|24
 74|3|25
 75|3|26
 76|3|27
 77|3|28
 78|2|20
 79|2|21
 80|2|22
 81|2|23
 82|2|24
 83|2|25
 84|2|26
 85|2|27
 86|2|28
 87|2|29
 88|2|30
 89|2|31
 90|2|32
 91|2|33
 92|2|34
 93|2|35
 94|2|36
 95|2|37
 96|2|38
 97|3|29
 98|3|30
 99|3|31
100|3|32
101|3|33
102|3|34
103|3|35
104|3|36
105|3|37
106|3|38
107|3|39
108|3|40
109|3|41
110|3|42
111|3|43
112|3|44
113|3|45
114|3|46
115|3|47
116|3|48
117|3|49
118|3|50
119|3|51
120|3|52
121|3|53
122|3|54
123|3|55
124|3|56
125|3|57
126|3|58
127|3|59
128|3|60
129|3|61
130|3|62
131|3|63
132|3|64
133|3|65
134|3|66
135|3|67
136|3|68
137|3|69
138|3|70
139|3|71
140|3|72
141|3|73
142|3|74
143|3|75
144|3|76
145|3|77
146|3|78
147|3|79
148|3|80
149|3|81
150|3|82
151|3|83
152|3|84
(152 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|1|11
 12|1|12
 13|1|13
 14|1|14
 15|1|15
 16|1|16
 17|1|17
 18|1|18
 19|1|19
 20|1|20
 21|2| 1
 22|2| 2
 23|2| 3
 24|2| 4
 25|2| 5
 26|2| 6
 27|2| 7
 28|2| 8
 29|2| 9
 30|2|10
 31|2|11
 32|2|12
 33|2|13
 34|2|14
 35|2|15
 36|2|16
 37|2|17
 38|2|18
 39|2|19
 40|1|21
 41|1|22
 42|1|23
 43|1|24
 44|1|25
 45|1|26
 46|1|27
 47|1|28
 48|1|29
 49|1|30
 50|3| 1
 51|3| 2
 52|3| 3
 53|3| 4
 54|3| 5
 55|3| 6
 56|3| 7
 57|3| 8
 58|3| 9
 59|3|10
 60|3|11
 61|3|12
 62|3|13
 63|3|14
 64|3|15
 65|3|16
 66|3|17
 67|3|18
 68|3|19
 69|3|20
 70|3|21
 71|3|22
 72|3|23
 73|3|24
 74|3|25
 75|3|26
 76|3|27
 77|3|28
 78|2|20
 79|2|21
 80|2|22
 81|2|23
 82|2|24
 83|2|25
 84|2|26
 85|2|27
 86|2|28
 87|2|29
 88|2|30
 89|2|31
 90|2|32
 91|2|33
 92|2|34
 93|2|35
 94|2|36
 95|2|37
 96|2|38
 97|3|29
 98|3|30
 99|3|31
100|3|32
101|3|33
102|3|34
103|3|35
104|3|36
105|3|37
106|3|38
107|3|39
108|3|40
109|3|41
110|3|42
111|3|43
112|3|44
113|3|45
114|3|46
115|3|47
116|3|48
117|3|49
118|3|50
119|3|51
120|3|52
121|3|53
122|3|54
123|3|55
124|3|56
125|3|57
126|3|58
127|3|59
128|3|60
129|3|61
130|3|62
131|3|63
132|3|64
133|3|65
134|3|66
135|3|67
136|3|68
137|3|69
138|3|70
139|3|71
140|3|72
141|3|73
142|3|74
143|3|75
144|3|76
145|3|77
146|3|78
147|3|79
148|3|80
149|3|81
150|3|82
151|3|83
152|3|84
(152 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s2commit s3_insert s3_insert s1begin s1abort s2_insert s2begin s1_insert s2d_sel_dec s2abort s2begin s2_insert s2commit s2d_sel_forward s1begin s1d_sel_dec s1d_sel_end s1c_sel_dec s1a_sel_dec s1c_sel_end s1a_sel_forward s2d_sel_next s1d_sel_dec s1a_sel_prior s2d_sel_end s1d_sel_next s1abort s1d_sel_end s1a_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|3|29
 30|3|30
 31|3|31
 32|3|32
 33|3|33
 34|3|34
 35|3|35
 36|3|36
 37|3|37
 38|3|38
 39|3|39
 40|3|40
 41|3|41
 42|3|42
 43|3|43
 44|3|44
 45|3|45
 46|3|46
 47|3|47
 48|3|48
 49|3|49
 50|3|50
 51|3|51
 52|3|52
 53|3|53
 54|3|54
 55|3|55
 56|3|56
 57|3|57
 58|3|58
 59|3|59
 60|3|60
 61|3|61
 62|3|62
 63|3|63
 64|3|64
 65|3|65
 66|3|66
 67|3|67
 68|3|68
 69|3|69
 70|3|70
 71|3|71
 72|3|72
 73|3|73
 74|3|74
 75|3|75
 76|3|76
 77|3|77
 78|3|78
 79|3|79
 80|3|80
 81|3|81
 82|3|82
 83|3|83
 84|3|84
 85|2| 1
 86|2| 2
 87|2| 3
 88|2| 4
 89|2| 5
 90|2| 6
 91|2| 7
 92|2| 8
 93|2| 9
 94|2|10
 95|2|11
 96|2|12
 97|2|13
 98|2|14
 99|2|15
100|2|16
101|2|17
102|2|18
103|2|19
104|1| 1
105|1| 2
106|1| 3
107|1| 4
108|1| 5
109|1| 6
110|1| 7
111|1| 8
112|1| 9
113|1|10
114|2|20
115|2|21
116|2|22
117|2|23
118|2|24
119|2|25
120|2|26
121|2|27
122|2|28
123|2|29
124|2|30
125|2|31
126|2|32
127|2|33
128|2|34
129|2|35
130|2|36
131|2|37
132|2|38
(132 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
  a|b| c
---+-+--
132|2|38
(1 row)

step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1abort: ROLLBACK;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist

starting permutation: s2begin s2a_sel_dec s2abort s2a_sel_backward s2a_sel_forward s3begin s1begin s2a_sel_end s2_insert s1a_sel_dec s1a_sel_prior s3c_sel_dec s1_insert s3d_sel_dec s3d_sel_end s1a_sel_prior s3_insert s1a_sel_end s3abort s1commit s3c_sel_end s2begin s2commit s3begin s3abort s1_insert s2_insert s2begin s3_insert s1_insert s2commit
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3begin: BEGIN;
step s1begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;

starting permutation: s1begin s1abort s3_insert s1_insert s2begin s3begin s2b_sel_dec s3b_sel_dec s1_insert s3d_sel_dec s2b_sel_next s2b_sel_prior s2abort s2begin s2_insert s3b_sel_forward s3b_sel_forward s2b_sel_backward s2abort s3c_sel_dec s3d_sel_end s3b_sel_backward s2b_sel_forward s3c_sel_forward s3abort s3b_sel_forward s3b_sel_prior s3b_sel_backward s2b_sel_backward s2b_sel_forward s3b_sel_end s2b_sel_end s3c_sel_end
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
(38 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
38|1|10
37|1| 9
36|1| 8
35|1| 7
34|1| 6
33|1| 5
32|1| 4
31|1| 3
30|1| 2
29|1| 1
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(38 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|1|11
40|1|12
41|1|13
42|1|14
43|1|15
44|1|16
45|1|17
46|1|18
47|1|19
48|1|20
(48 rows)

step s3abort: ROLLBACK;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist

starting permutation: s2begin s2a_sel_dec s2a_sel_backward s2a_sel_forward s2_insert s2a_sel_backward s2d_sel_dec s3_insert s3_insert s2a_sel_next s2d_sel_next s1begin s1_insert s2d_sel_end s2abort s3begin s1b_sel_dec s3abort s2a_sel_prior s3_insert s2a_sel_forward s2a_sel_next s1b_sel_backward s2a_sel_next s1abort s2a_sel_backward s2a_sel_end s1b_sel_backward s3begin s3commit s1b_sel_end
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s3begin s3commit s3_insert s1_insert s1_insert s1_insert s2_insert s1_insert s2begin s1begin s2abort s2_insert s3begin s3commit s1d_sel_dec s1abort s1d_sel_forward s1begin s2_insert s1d_sel_end s1commit s3_insert s2begin s2_insert s3_insert s2a_sel_dec s2a_sel_end s2a_sel_dec s2a_sel_next s2c_sel_dec s2a_sel_end s2c_sel_end s2abort
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2abort: ROLLBACK;

starting permutation: s1begin s3begin s3c_sel_dec s3d_sel_dec s3_insert s3c_sel_next s3d_sel_forward s3_insert s3c_sel_end s3d_sel_forward s1b_sel_dec s1d_sel_dec s1d_sel_forward s1d_sel_forward s3c_sel_dec s3c_sel_end s1_insert s1b_sel_prior s1b_sel_next s1commit s1b_sel_end s1d_sel_end s1_insert s3d_sel_next s3c_sel_dec s3a_sel_dec s2begin s3c_sel_next s3c_sel_forward s3commit s3c_sel_end s3a_sel_end s3d_sel_end s2abort
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
59|1| 3
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1|11
68|1|12
69|1|13
70|1|14
71|1|15
72|1|16
73|1|17
74|1|18
75|1|19
76|1|20
(75 rows)

step s3commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s1_insert s2_insert s2_insert s2begin s2_insert s1begin s2c_sel_dec s2d_sel_dec s2d_sel_end s2c_sel_end s1b_sel_dec s2d_sel_dec s2a_sel_dec s2d_sel_forward s2_insert s2b_sel_dec s2abort s2a_sel_next s2b_sel_backward s1b_sel_backward s1b_sel_end s1abort s2d_sel_next s2b_sel_backward s1begin s2a_sel_backward s2d_sel_next s2b_sel_prior s1a_sel_dec s1b_sel_dec s2b_sel_end s1b_sel_end s2a_sel_end s2d_sel_end s1a_sel_end s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
49|2|39
50|2|40
51|2|41
52|2|42
53|2|43
54|2|44
55|2|45
56|2|46
57|2|47
58|2|48
59|2|49
60|2|50
61|2|51
62|2|52
63|2|53
64|2|54
65|2|55
66|2|56
67|2|57
(67 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;

starting permutation: s3_insert s2begin s1_insert s2c_sel_dec s1_insert s2c_sel_forward s2a_sel_dec s2a_sel_backward s3begin s2a_sel_backward s2abort s2_insert s1begin s2a_sel_forward s2a_sel_end s3_insert s2c_sel_next s3commit s1_insert s1abort s2begin s2c_sel_forward s1_insert s2c_sel_next s2c_sel_end s2c_sel_dec s2abort s1begin s1b_sel_dec s1b_sel_backward s1b_sel_end s2c_sel_end s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
(38 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s2_insert s3begin s3d_sel_dec s1_insert s2_insert s1begin s3commit s1_insert s3d_sel_forward s2begin s1c_sel_dec s1a_sel_dec s2d_sel_dec s1b_sel_dec s2commit s1commit s2_insert s1b_sel_forward s3d_sel_end s3_insert s1a_sel_forward s2d_sel_end s1a_sel_next s1_insert s1_insert s1b_sel_end s3_insert s1c_sel_next s1begin s1a_sel_next s1c_sel_end s1a_sel_end s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
49|1|11
50|1|12
51|1|13
52|1|14
53|1|15
54|1|16
55|1|17
56|1|18
57|1|19
58|1|20
(58 rows)

step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;

starting permutation: s2_insert s2begin s1_insert s3_insert s2c_sel_dec s3begin s2c_sel_end s1_insert s3a_sel_dec s1_insert s3a_sel_end s3c_sel_dec s3c_sel_next s1_insert s3_insert s3c_sel_end s3c_sel_dec s3d_sel_dec s2b_sel_dec s2c_sel_dec s3commit s3c_sel_end s2b_sel_backward s1begin s2d_sel_dec s2c_sel_end s3d_sel_next s3d_sel_next s3d_sel_end s1b_sel_dec s2b_sel_end s1b_sel_end s2d_sel_end s2commit s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;
step s1commit: COMMIT;

starting permutation: s3_insert s2begin s2commit s3_insert s3begin s3_insert s3_insert s3commit s3_insert s3_insert s2_insert s1begin s2_insert s1_insert s3begin s3commit s3_insert s1_insert s2_insert s2_insert s1b_sel_dec s1a_sel_dec s1b_sel_forward s2begin s1_insert s1b_sel_forward s1abort s2commit s1begin s1b_sel_next s1b_sel_end s1a_sel_end s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|3| 29
 30|3| 30
 31|3| 31
 32|3| 32
 33|3| 33
 34|3| 34
 35|3| 35
 36|3| 36
 37|3| 37
 38|3| 38
 39|3| 39
 40|3| 40
 41|3| 41
 42|3| 42
 43|3| 43
 44|3| 44
 45|3| 45
 46|3| 46
 47|3| 47
 48|3| 48
 49|3| 49
 50|3| 50
 51|3| 51
 52|3| 52
 53|3| 53
 54|3| 54
 55|3| 55
 56|3| 56
 57|3| 57
 58|3| 58
 59|3| 59
 60|3| 60
 61|3| 61
 62|3| 62
 63|3| 63
 64|3| 64
 65|3| 65
 66|3| 66
 67|3| 67
 68|3| 68
 69|3| 69
 70|3| 70
 71|3| 71
 72|3| 72
 73|3| 73
 74|3| 74
 75|3| 75
 76|3| 76
 77|3| 77
 78|3| 78
 79|3| 79
 80|3| 80
 81|3| 81
 82|3| 82
 83|3| 83
 84|3| 84
 85|3| 85
 86|3| 86
 87|3| 87
 88|3| 88
 89|3| 89
 90|3| 90
 91|3| 91
 92|3| 92
 93|3| 93
 94|3| 94
 95|3| 95
 96|3| 96
 97|3| 97
 98|3| 98
 99|3| 99
100|3|100
101|3|101
102|3|102
103|3|103
104|3|104
105|3|105
106|3|106
107|3|107
108|3|108
109|3|109
110|3|110
111|3|111
112|3|112
113|3|113
114|3|114
115|3|115
116|3|116
117|3|117
118|3|118
119|3|119
120|3|120
121|3|121
122|3|122
123|3|123
124|3|124
125|3|125
126|3|126
127|3|127
128|3|128
129|3|129
130|3|130
131|3|131
132|3|132
133|3|133
134|3|134
135|3|135
136|3|136
137|3|137
138|3|138
139|3|139
140|3|140
141|3|141
142|3|142
143|3|143
144|3|144
145|3|145
146|3|146
147|3|147
148|3|148
149|3|149
150|3|150
151|3|151
152|3|152
153|3|153
154|3|154
155|3|155
156|3|156
157|3|157
158|3|158
159|3|159
160|3|160
161|3|161
162|3|162
163|3|163
164|3|164
165|3|165
166|3|166
167|3|167
168|3|168
169|2|  1
170|2|  2
171|2|  3
172|2|  4
173|2|  5
174|2|  6
175|2|  7
176|2|  8
177|2|  9
178|2| 10
179|2| 11
180|2| 12
181|2| 13
182|2| 14
183|2| 15
184|2| 16
185|2| 17
186|2| 18
187|2| 19
188|2| 20
189|2| 21
190|2| 22
191|2| 23
192|2| 24
193|2| 25
194|2| 26
195|2| 27
196|2| 28
197|2| 29
198|2| 30
199|2| 31
200|2| 32
201|2| 33
202|2| 34
203|2| 35
204|2| 36
205|2| 37
206|2| 38
207|1|  1
208|1|  2
209|1|  3
210|1|  4
211|1|  5
212|1|  6
213|1|  7
214|1|  8
215|1|  9
216|1| 10
245|1| 11
246|1| 12
247|1| 13
248|1| 14
249|1| 15
250|1| 16
251|1| 17
252|1| 18
253|1| 19
254|1| 20
255|2| 39
256|2| 40
257|2| 41
258|2| 42
259|2| 43
260|2| 44
261|2| 45
262|2| 46
263|2| 47
264|2| 48
265|2| 49
266|2| 50
267|2| 51
268|2| 52
269|2| 53
270|2| 54
271|2| 55
272|2| 56
273|2| 57
274|2| 58
275|2| 59
276|2| 60
277|2| 61
278|2| 62
279|2| 63
280|2| 64
281|2| 65
282|2| 66
283|2| 67
284|2| 68
285|2| 69
286|2| 70
287|2| 71
288|2| 72
289|2| 73
290|2| 74
291|2| 75
292|2| 76
217|3|169
218|3|170
219|3|171
220|3|172
221|3|173
222|3|174
223|3|175
224|3|176
225|3|177
226|3|178
227|3|179
228|3|180
229|3|181
230|3|182
231|3|183
232|3|184
233|3|185
234|3|186
235|3|187
236|3|188
237|3|189
238|3|190
239|3|191
240|3|192
241|3|193
242|3|194
243|3|195
244|3|196
(292 rows)

step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;

starting permutation: s3begin s3c_sel_dec s3commit s3c_sel_forward s2_insert s3c_sel_forward s1_insert s3c_sel_next s2_insert s1begin s2_insert s3begin s3a_sel_dec s3b_sel_dec s3b_sel_next s1b_sel_dec s1commit s3a_sel_next s3c_sel_end s3b_sel_end s3a_sel_backward s1b_sel_forward s1b_sel_prior s2_insert s3_insert s2begin s3abort s1_insert s2commit s3a_sel_next s3a_sel_end s1b_sel_end
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s1_insert s2begin s3begin s3a_sel_dec s2a_sel_dec s3a_sel_backward s2a_sel_end s3a_sel_next s2abort s2begin s3d_sel_dec s3a_sel_forward s3b_sel_dec s3d_sel_next s3d_sel_next s2a_sel_dec s1begin s3d_sel_end s3a_sel_backward s3commit s3_insert s3b_sel_end s1d_sel_dec s3a_sel_end s2_insert s1d_sel_next s3_insert s3_insert s2a_sel_next s1d_sel_forward s1d_sel_end s2a_sel_end s1commit s2abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(9 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 3|1| 3
 2|1| 2
 1|1| 1
(10 rows)

step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
(37 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s1_insert s3_insert s3_insert s3begin s2_insert s1_insert s3commit s2_insert s1_insert s3begin s3a_sel_dec s3abort s1_insert s2begin s3a_sel_forward s2b_sel_dec s3begin s3a_sel_prior s2b_sel_backward s3a_sel_end s2abort s2b_sel_backward s1begin s1commit s1begin s2b_sel_forward s3c_sel_dec s2b_sel_forward s2begin s1b_sel_dec s2b_sel_end s3c_sel_end s1b_sel_end s1abort s2abort s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1begin s1c_sel_dec s1a_sel_dec s1commit s1c_sel_next s1_insert s2begin s1a_sel_next s1a_sel_prior s1a_sel_forward s2abort s1_insert s1c_sel_next s1a_sel_prior s1a_sel_backward s1a_sel_forward s3_insert s1a_sel_prior s2begin s1a_sel_backward s1a_sel_end s2_insert s2d_sel_dec s3begin s1c_sel_end s2_insert s3abort s1_insert s2_insert s2abort s2d_sel_end
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s3_insert s1_insert s2_insert s1begin s3_insert s2_insert s3begin s1commit s3c_sel_dec s3a_sel_dec s3a_sel_next s3d_sel_dec s3_insert s3d_sel_forward s3d_sel_end s2begin s2a_sel_dec s2d_sel_dec s2a_sel_next s2a_sel_forward s3b_sel_dec s2_insert s3a_sel_backward s2abort s3d_sel_dec s2a_sel_backward s3b_sel_next s3d_sel_next s3c_sel_end s2a_sel_end s3b_sel_end s3a_sel_end s3d_sel_end s2d_sel_end s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1commit: COMMIT;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|2| 1
 40|2| 2
 41|2| 3
 42|2| 4
 43|2| 5
 44|2| 6
 45|2| 7
 46|2| 8
 47|2| 9
 48|2|10
 49|2|11
 50|2|12
 51|2|13
 52|2|14
 53|2|15
 54|2|16
 55|2|17
 56|2|18
 57|2|19
 58|3|29
 59|3|30
 60|3|31
 61|3|32
 62|3|33
 63|3|34
 64|3|35
 65|3|36
 66|3|37
 67|3|38
 68|3|39
 69|3|40
 70|3|41
 71|3|42
 72|3|43
 73|3|44
 74|3|45
 75|3|46
 76|3|47
 77|3|48
 78|3|49
 79|3|50
 80|3|51
 81|3|52
 82|3|53
 83|3|54
 84|3|55
 85|3|56
 86|2|20
 87|2|21
 88|2|22
 89|2|23
 90|2|24
 91|2|25
 92|2|26
 93|2|27
 94|2|28
 95|2|29
 96|2|30
 97|2|31
 98|2|32
 99|2|33
100|2|34
101|2|35
102|2|36
103|2|37
104|2|38
(104 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b| c
---+-+--
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|2| 1
 40|2| 2
 41|2| 3
 42|2| 4
 43|2| 5
 44|2| 6
 45|2| 7
 46|2| 8
 47|2| 9
 48|2|10
 49|2|11
 50|2|12
 51|2|13
 52|2|14
 53|2|15
 54|2|16
 55|2|17
 56|2|18
 57|2|19
 58|3|29
 59|3|30
 60|3|31
 61|3|32
 62|3|33
 63|3|34
 64|3|35
 65|3|36
 66|3|37
 67|3|38
 68|3|39
 69|3|40
 70|3|41
 71|3|42
 72|3|43
 73|3|44
 74|3|45
 75|3|46
 76|3|47
 77|3|48
 78|3|49
 79|3|50
 80|3|51
 81|3|52
 82|3|53
 83|3|54
 84|3|55
 85|3|56
 86|2|20
 87|2|21
 88|2|22
 89|2|23
 90|2|24
 91|2|25
 92|2|26
 93|2|27
 94|2|28
 95|2|29
 96|2|30
 97|2|31
 98|2|32
 99|2|33
100|2|34
101|2|35
102|2|36
103|2|37
104|2|38
(103 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3commit: COMMIT;

starting permutation: s1begin s1a_sel_dec s1commit s3begin s1a_sel_backward s3b_sel_dec s1a_sel_end s3b_sel_prior s3commit s3begin s3b_sel_backward s2begin s1_insert s2a_sel_dec s2abort s2a_sel_next s3b_sel_backward s3abort s2a_sel_backward s2a_sel_end s3b_sel_forward s2_insert s3b_sel_backward s2_insert s3begin s1_insert s1begin s3commit s3b_sel_forward s1commit s3b_sel_end
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s3begin: BEGIN;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1commit: COMMIT;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s2_insert s3_insert s3begin s3b_sel_dec s3_insert s1begin s3commit s3b_sel_prior s2_insert s3b_sel_prior s3_insert s3b_sel_forward s3b_sel_end s1d_sel_dec s1a_sel_dec s2begin s1d_sel_forward s2c_sel_dec s2_insert s1a_sel_end s2b_sel_dec s1d_sel_next s1a_sel_dec s1a_sel_end s1b_sel_dec s1b_sel_prior s2b_sel_next s1_insert s1b_sel_prior s1d_sel_forward s1b_sel_end s1d_sel_end s2b_sel_end s2c_sel_end s2commit s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|3|29
 49|3|30
 50|3|31
 51|3|32
 52|3|33
 53|3|34
 54|3|35
 55|3|36
 56|3|37
 57|3|38
 58|3|39
 59|3|40
 60|3|41
 61|3|42
 62|3|43
 63|3|44
 64|3|45
 65|3|46
 66|3|47
 67|3|48
 68|3|49
 69|3|50
 70|3|51
 71|3|52
 72|3|53
 73|3|54
 74|3|55
 75|3|56
 76|2|20
 77|2|21
 78|2|22
 79|2|23
 80|2|24
 81|2|25
 82|2|26
 83|2|27
 84|2|28
 85|2|29
 86|2|30
 87|2|31
 88|2|32
 89|2|33
 90|2|34
 91|2|35
 92|2|36
 93|2|37
 94|2|38
 95|3|57
 96|3|58
 97|3|59
 98|3|60
 99|3|61
100|3|62
101|3|63
102|3|64
103|3|65
104|3|66
105|3|67
106|3|68
107|3|69
108|3|70
109|3|71
110|3|72
111|3|73
112|3|74
113|3|75
114|3|76
115|3|77
116|3|78
117|3|79
118|3|80
119|3|81
120|3|82
121|3|83
122|3|84
(122 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2commit: COMMIT;
step s1commit: COMMIT;

starting permutation: s2_insert s2_insert s3_insert s1begin s3begin s2_insert s1a_sel_dec s3abort s1a_sel_end s1c_sel_dec s3_insert s1b_sel_dec s3begin s3_insert s1b_sel_next s2_insert s1c_sel_forward s3d_sel_dec s3c_sel_dec s3d_sel_forward s1c_sel_forward s3commit s1_insert s3c_sel_forward s3c_sel_end s1d_sel_dec s1b_sel_next s1c_sel_next s1b_sel_prior s1b_sel_backward s1d_sel_end s1b_sel_end s1c_sel_end s3d_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
39|3| 1
40|3| 2
41|3| 3
42|3| 4
43|3| 5
44|3| 6
45|3| 7
46|3| 8
47|3| 9
48|3|10
49|3|11
50|3|12
51|3|13
52|3|14
53|3|15
54|3|16
55|3|17
56|3|18
57|3|19
58|3|20
59|3|21
60|3|22
61|3|23
62|3|24
63|3|25
64|3|26
65|3|27
66|3|28
67|2|39
68|2|40
69|2|41
70|2|42
71|2|43
72|2|44
73|2|45
74|2|46
75|2|47
76|2|48
77|2|49
78|2|50
79|2|51
80|2|52
81|2|53
82|2|54
83|2|55
84|2|56
85|2|57
(85 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|2|20
 21|2|21
 22|2|22
 23|2|23
 24|2|24
 25|2|25
 26|2|26
 27|2|27
 28|2|28
 29|2|29
 30|2|30
 31|2|31
 32|2|32
 33|2|33
 34|2|34
 35|2|35
 36|2|36
 37|2|37
 38|2|38
 39|3| 1
 40|3| 2
 41|3| 3
 42|3| 4
 43|3| 5
 44|3| 6
 45|3| 7
 46|3| 8
 47|3| 9
 48|3|10
 49|3|11
 50|3|12
 51|3|13
 52|3|14
 53|3|15
 54|3|16
 55|3|17
 56|3|18
 57|3|19
 58|3|20
 59|3|21
 60|3|22
 61|3|23
 62|3|24
 63|3|25
 64|3|26
 65|3|27
 66|3|28
 67|2|39
 68|2|40
 69|2|41
 70|2|42
 71|2|43
 72|2|44
 73|2|45
 74|2|46
 75|2|47
 76|2|48
 77|2|49
 78|2|50
 79|2|51
 80|2|52
 81|2|53
 82|2|54
 83|2|55
 84|2|56
 85|2|57
 86|3|29
 87|3|30
 88|3|31
 89|3|32
 90|3|33
 91|3|34
 92|3|35
 93|3|36
 94|3|37
 95|3|38
 96|3|39
 97|3|40
 98|3|41
 99|3|42
100|3|43
101|3|44
102|3|45
103|3|46
104|3|47
105|3|48
106|3|49
107|3|50
108|3|51
109|3|52
110|3|53
111|3|54
112|3|55
113|3|56
114|3|57
115|3|58
116|3|59
117|3|60
118|3|61
119|3|62
120|3|63
121|3|64
122|3|65
123|3|66
124|3|67
125|3|68
126|3|69
127|3|70
128|3|71
129|3|72
130|3|73
131|3|74
132|3|75
133|3|76
134|3|77
135|3|78
136|3|79
137|3|80
138|3|81
139|3|82
140|3|83
141|3|84
142|2|58
143|2|59
144|2|60
145|2|61
146|2|62
147|2|63
148|2|64
149|2|65
150|2|66
151|2|67
152|2|68
153|2|69
154|2|70
155|2|71
156|2|72
157|2|73
158|2|74
159|2|75
160|2|76
(160 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|2|20
 21|2|21
 22|2|22
 23|2|23
 24|2|24
 25|2|25
 26|2|26
 27|2|27
 28|2|28
 29|2|29
 30|2|30
 31|2|31
 32|2|32
 33|2|33
 34|2|34
 35|2|35
 36|2|36
 37|2|37
 38|2|38
 39|3| 1
 40|3| 2
 41|3| 3
 42|3| 4
 43|3| 5
 44|3| 6
 45|3| 7
 46|3| 8
 47|3| 9
 48|3|10
 49|3|11
 50|3|12
 51|3|13
 52|3|14
 53|3|15
 54|3|16
 55|3|17
 56|3|18
 57|3|19
 58|3|20
 59|3|21
 60|3|22
 61|3|23
 62|3|24
 63|3|25
 64|3|26
 65|3|27
 66|3|28
 67|2|39
 68|2|40
 69|2|41
 70|2|42
 71|2|43
 72|2|44
 73|2|45
 74|2|46
 75|2|47
 76|2|48
 77|2|49
 78|2|50
 79|2|51
 80|2|52
 81|2|53
 82|2|54
 83|2|55
 84|2|56
 85|2|57
 86|3|29
 87|3|30
 88|3|31
 89|3|32
 90|3|33
 91|3|34
 92|3|35
 93|3|36
 94|3|37
 95|3|38
 96|3|39
 97|3|40
 98|3|41
 99|3|42
100|3|43
101|3|44
102|3|45
103|3|46
104|3|47
105|3|48
106|3|49
107|3|50
108|3|51
109|3|52
110|3|53
111|3|54
112|3|55
113|3|56
114|3|57
115|3|58
116|3|59
117|3|60
118|3|61
119|3|62
120|3|63
121|3|64
122|3|65
123|3|66
124|3|67
125|3|68
126|3|69
127|3|70
128|3|71
129|3|72
130|3|73
131|3|74
132|3|75
133|3|76
134|3|77
135|3|78
136|3|79
137|3|80
138|3|81
139|3|82
140|3|83
141|3|84
142|2|58
143|2|59
144|2|60
145|2|61
146|2|62
147|2|63
148|2|64
149|2|65
150|2|66
151|2|67
152|2|68
153|2|69
154|2|70
155|2|71
156|2|72
157|2|73
158|2|74
159|2|75
160|2|76
(160 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s3begin s3b_sel_dec s1_insert s2_insert s3b_sel_forward s3c_sel_dec s3b_sel_prior s3c_sel_next s3abort s3b_sel_end s2begin s2b_sel_dec s2c_sel_dec s3begin s3c_sel_end s2abort s2_insert s2c_sel_forward s3d_sel_dec s3d_sel_end s2b_sel_backward s3a_sel_dec s3b_sel_dec s1begin s3d_sel_dec s1commit s2b_sel_backward s3b_sel_forward s2b_sel_next s3b_sel_end s2b_sel_end s3a_sel_end s3d_sel_end s2c_sel_end s3abort
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3abort: ROLLBACK;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s2_insert s3_insert s3_insert s3_insert s1_insert s2_insert s1_insert s3_insert s1begin s3begin s1b_sel_dec s1b_sel_forward s2_insert s1b_sel_prior s2_insert s1b_sel_next s1b_sel_next s2_insert s1_insert s1b_sel_prior s1commit s3c_sel_dec s3commit s3c_sel_forward s1b_sel_backward s1b_sel_forward s1b_sel_backward s1b_sel_backward s3c_sel_end s1b_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b|  c
---+-+---
  1|2|  1
  2|2|  2
  3|2|  3
  4|2|  4
  5|2|  5
  6|2|  6
  7|2|  7
  8|2|  8
  9|2|  9
 10|2| 10
 11|2| 11
 12|2| 12
 13|2| 13
 14|2| 14
 15|2| 15
 16|2| 16
 17|2| 17
 18|2| 18
 19|2| 19
 20|3|  1
 21|3|  2
 22|3|  3
 23|3|  4
 24|3|  5
 25|3|  6
 26|3|  7
 27|3|  8
 28|3|  9
 29|3| 10
 30|3| 11
 31|3| 12
 32|3| 13
 33|3| 14
 34|3| 15
 35|3| 16
 36|3| 17
 37|3| 18
 38|3| 19
 39|3| 20
 40|3| 21
 41|3| 22
 42|3| 23
 43|3| 24
 44|3| 25
 45|3| 26
 46|3| 27
 47|3| 28
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|3| 57
 77|3| 58
 78|3| 59
 79|3| 60
 80|3| 61
 81|3| 62
 82|3| 63
 83|3| 64
 84|3| 65
 85|3| 66
 86|3| 67
 87|3| 68
 88|3| 69
 89|3| 70
 90|3| 71
 91|3| 72
 92|3| 73
 93|3| 74
 94|3| 75
 95|3| 76
 96|3| 77
 97|3| 78
 98|3| 79
 99|3| 80
100|3| 81
101|3| 82
102|3| 83
103|3| 84
104|1|  1
105|1|  2
106|1|  3
107|1|  4
108|1|  5
109|1|  6
110|1|  7
111|1|  8
112|1|  9
113|1| 10
114|2| 20
115|2| 21
116|2| 22
117|2| 23
118|2| 24
119|2| 25
120|2| 26
121|2| 27
122|2| 28
123|2| 29
124|2| 30
125|2| 31
126|2| 32
127|2| 33
128|2| 34
129|2| 35
130|2| 36
131|2| 37
132|2| 38
133|1| 11
134|1| 12
135|1| 13
136|1| 14
137|1| 15
138|1| 16
139|1| 17
140|1| 18
141|1| 19
142|1| 20
143|3| 85
144|3| 86
145|3| 87
146|3| 88
147|3| 89
148|3| 90
149|3| 91
150|3| 92
151|3| 93
152|3| 94
153|3| 95
154|3| 96
155|3| 97
156|3| 98
157|3| 99
158|3|100
159|3|101
160|3|102
161|3|103
162|3|104
163|3|105
164|3|106
165|3|107
166|3|108
167|3|109
168|3|110
169|3|111
170|3|112
(170 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
  a|b|  c
---+-+---
170|3|112
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
  a|b|  c
---+-+---
170|3|112
(1 row)

step s1commit: COMMIT;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b|  c
---+-+---
  1|2|  1
  2|2|  2
  3|2|  3
  4|2|  4
  5|2|  5
  6|2|  6
  7|2|  7
  8|2|  8
  9|2|  9
 10|2| 10
 11|2| 11
 12|2| 12
 13|2| 13
 14|2| 14
 15|2| 15
 16|2| 16
 17|2| 17
 18|2| 18
 19|2| 19
 20|3|  1
 21|3|  2
 22|3|  3
 23|3|  4
 24|3|  5
 25|3|  6
 26|3|  7
 27|3|  8
 28|3|  9
 29|3| 10
 30|3| 11
 31|3| 12
 32|3| 13
 33|3| 14
 34|3| 15
 35|3| 16
 36|3| 17
 37|3| 18
 38|3| 19
 39|3| 20
 40|3| 21
 41|3| 22
 42|3| 23
 43|3| 24
 44|3| 25
 45|3| 26
 46|3| 27
 47|3| 28
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|3| 57
 77|3| 58
 78|3| 59
 79|3| 60
 80|3| 61
 81|3| 62
 82|3| 63
 83|3| 64
 84|3| 65
 85|3| 66
 86|3| 67
 87|3| 68
 88|3| 69
 89|3| 70
 90|3| 71
 91|3| 72
 92|3| 73
 93|3| 74
 94|3| 75
 95|3| 76
 96|3| 77
 97|3| 78
 98|3| 79
 99|3| 80
100|3| 81
101|3| 82
102|3| 83
103|3| 84
104|1|  1
105|1|  2
106|1|  3
107|1|  4
108|1|  5
109|1|  6
110|1|  7
111|1|  8
112|1|  9
113|1| 10
114|2| 20
115|2| 21
116|2| 22
117|2| 23
118|2| 24
119|2| 25
120|2| 26
121|2| 27
122|2| 28
123|2| 29
124|2| 30
125|2| 31
126|2| 32
127|2| 33
128|2| 34
129|2| 35
130|2| 36
131|2| 37
132|2| 38
133|1| 11
134|1| 12
135|1| 13
136|1| 14
137|1| 15
138|1| 16
139|1| 17
140|1| 18
141|1| 19
142|1| 20
143|3| 85
144|3| 86
145|3| 87
146|3| 88
147|3| 89
148|3| 90
149|3| 91
150|3| 92
151|3| 93
152|3| 94
153|3| 95
154|3| 96
155|3| 97
156|3| 98
157|3| 99
158|3|100
159|3|101
160|3|102
161|3|103
162|3|104
163|3|105
164|3|106
165|3|107
166|3|108
167|3|109
168|3|110
169|3|111
170|3|112
171|2| 39
172|2| 40
173|2| 41
174|2| 42
175|2| 43
176|2| 44
177|2| 45
178|2| 46
179|2| 47
180|2| 48
181|2| 49
182|2| 50
183|2| 51
184|2| 52
185|2| 53
186|2| 54
187|2| 55
188|2| 56
189|2| 57
190|2| 58
191|2| 59
192|2| 60
193|2| 61
194|2| 62
195|2| 63
196|2| 64
197|2| 65
198|2| 66
199|2| 67
200|2| 68
201|2| 69
202|2| 70
203|2| 71
204|2| 72
205|2| 73
206|2| 74
207|2| 75
208|2| 76
209|2| 77
210|2| 78
211|2| 79
212|2| 80
213|2| 81
214|2| 82
215|2| 83
216|2| 84
217|2| 85
218|2| 86
219|2| 87
220|2| 88
221|2| 89
222|2| 90
223|2| 91
224|2| 92
225|2| 93
226|2| 94
227|2| 95
228|1| 21
229|1| 22
230|1| 23
231|1| 24
232|1| 25
233|1| 26
234|1| 27
235|1| 28
236|1| 29
237|1| 30
(237 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s1_insert s3_insert s2_insert s2_insert s3begin s3c_sel_dec s3abort s2_insert s1_insert s3c_sel_forward s2_insert s3begin s1_insert s3_insert s3b_sel_dec s1_insert s3a_sel_dec s2_insert s3_insert s3c_sel_forward s3b_sel_end s3a_sel_end s3_insert s3abort s1_insert s1_insert s3c_sel_forward s2_insert s2begin s2commit s3c_sel_end
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist

starting permutation: s1begin s2_insert s1_insert s1d_sel_dec s1d_sel_end s1a_sel_dec s1commit s1a_sel_backward s1a_sel_end s1_insert s1_insert s2begin s3_insert s1begin s2abort s1c_sel_dec s1abort s1c_sel_end s2begin s2c_sel_dec s2commit s2c_sel_forward s3begin s3b_sel_dec s3d_sel_dec s3b_sel_backward s2c_sel_next s3b_sel_forward s3b_sel_forward s3_insert s2c_sel_end s3d_sel_end s3b_sel_end s3commit
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2abort: ROLLBACK;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|1|21
41|1|22
42|1|23
43|1|24
44|1|25
45|1|26
46|1|27
47|1|28
48|1|29
49|1|30
50|3| 1
51|3| 2
52|3| 3
53|3| 4
54|3| 5
55|3| 6
56|3| 7
57|3| 8
58|3| 9
59|3|10
60|3|11
61|3|12
62|3|13
63|3|14
64|3|15
65|3|16
66|3|17
67|3|18
68|3|19
69|3|20
70|3|21
71|3|22
72|3|23
73|3|24
74|3|25
75|3|26
76|3|27
77|3|28
(77 rows)

step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|1|21
41|1|22
42|1|23
43|1|24
44|1|25
45|1|26
46|1|27
47|1|28
48|1|29
49|1|30
50|3| 1
51|3| 2
52|3| 3
53|3| 4
54|3| 5
55|3| 6
56|3| 7
57|3| 8
58|3| 9
59|3|10
60|3|11
61|3|12
62|3|13
63|3|14
64|3|15
65|3|16
66|3|17
67|3|18
68|3|19
69|3|20
70|3|21
71|3|22
72|3|23
73|3|24
74|3|25
75|3|26
76|3|27
77|3|28
(77 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s2begin s2d_sel_dec s2d_sel_end s1begin s1commit s1_insert s2d_sel_dec s3_insert s1_insert s2d_sel_next s2_insert s1_insert s2c_sel_dec s2c_sel_next s2abort s2c_sel_forward s2begin s2commit s2_insert s2d_sel_next s1_insert s1_insert s1begin s2_insert s2c_sel_next s3_insert s3_insert s2_insert s2begin s2abort s2d_sel_end s2c_sel_end s1abort
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2abort: ROLLBACK;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s1begin s1abort s1_insert s3begin s3a_sel_dec s1begin s3a_sel_prior s3a_sel_backward s2_insert s2begin s3a_sel_backward s3_insert s1abort s3a_sel_prior s3c_sel_dec s2abort s1_insert s3d_sel_dec s3_insert s1_insert s3d_sel_forward s2_insert s3d_sel_forward s3d_sel_end s2_insert s3_insert s3a_sel_next s3commit s1_insert s3a_sel_forward s3c_sel_end s3a_sel_end
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|3| 1
31|3| 2
32|3| 3
33|3| 4
34|3| 5
35|3| 6
36|3| 7
37|3| 8
38|3| 9
39|3|10
40|3|11
41|3|12
42|3|13
43|3|14
44|3|15
45|3|16
46|3|17
47|3|18
48|3|19
49|3|20
50|3|21
51|3|22
52|3|23
53|3|24
54|3|25
55|3|26
56|3|27
57|3|28
58|1|11
59|1|12
60|1|13
61|1|14
62|1|15
63|1|16
64|1|17
65|1|18
66|1|19
67|1|20
(67 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(9 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;

starting permutation: s1begin s3begin s2_insert s1a_sel_dec s1a_sel_end s1c_sel_dec s1c_sel_forward s2begin s1a_sel_dec s2b_sel_dec s1b_sel_dec s1a_sel_end s1d_sel_dec s3_insert s1_insert s1_insert s2a_sel_dec s2a_sel_next s1_insert s3a_sel_dec s3_insert s2b_sel_end s1c_sel_next s1c_sel_next s2b_sel_dec s1c_sel_end s2abort s2_insert s1d_sel_forward s1b_sel_end s2a_sel_end s3a_sel_end s1d_sel_end s2b_sel_end s1abort s3commit
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_end: CLOSE s2b_sel;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s2b_sel_dec s2abort s2_insert s3_insert s3_insert s2b_sel_backward s2b_sel_forward s3_insert s2b_sel_prior s2b_sel_prior s1_insert s1_insert s2_insert s1_insert s1begin s2b_sel_forward s2b_sel_forward s2b_sel_backward s2_insert s1a_sel_dec s1a_sel_forward s1abort s1_insert s3begin s1_insert s3d_sel_dec s1a_sel_forward s3b_sel_dec s1a_sel_end s3d_sel_end s3b_sel_end s2b_sel_end s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|2|  1
 30|2|  2
 31|2|  3
 32|2|  4
 33|2|  5
 34|2|  6
 35|2|  7
 36|2|  8
 37|2|  9
 38|2| 10
 39|2| 11
 40|2| 12
 41|2| 13
 42|2| 14
 43|2| 15
 44|2| 16
 45|2| 17
 46|2| 18
 47|2| 19
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|3| 57
 77|3| 58
 78|3| 59
 79|3| 60
 80|3| 61
 81|3| 62
 82|3| 63
 83|3| 64
 84|3| 65
 85|3| 66
 86|3| 67
 87|3| 68
 88|3| 69
 89|3| 70
 90|3| 71
 91|3| 72
 92|3| 73
 93|3| 74
 94|3| 75
 95|3| 76
 96|3| 77
 97|3| 78
 98|3| 79
 99|3| 80
100|3| 81
101|3| 82
102|3| 83
103|3| 84
104|3| 85
105|3| 86
106|3| 87
107|3| 88
108|3| 89
109|3| 90
110|3| 91
111|3| 92
112|3| 93
113|3| 94
114|3| 95
115|3| 96
116|3| 97
117|3| 98
118|3| 99
119|3|100
120|3|101
121|3|102
122|3|103
123|3|104
124|3|105
125|3|106
126|3|107
127|3|108
128|3|109
129|3|110
130|3|111
131|3|112
132|1|  1
133|1|  2
134|1|  3
135|1|  4
136|1|  5
137|1|  6
138|1|  7
139|1|  8
140|1|  9
141|1| 10
142|1| 11
143|1| 12
144|1| 13
145|1| 14
146|1| 15
147|1| 16
148|1| 17
149|1| 18
150|1| 19
151|1| 20
152|2| 20
153|2| 21
154|2| 22
155|2| 23
156|2| 24
157|2| 25
158|2| 26
159|2| 27
160|2| 28
161|2| 29
162|2| 30
163|2| 31
164|2| 32
165|2| 33
166|2| 34
167|2| 35
168|2| 36
169|2| 37
170|2| 38
171|1| 21
172|1| 22
173|1| 23
174|1| 24
175|1| 25
176|1| 26
177|1| 27
178|1| 28
179|1| 29
180|1| 30
181|2| 39
182|2| 40
183|2| 41
184|2| 42
185|2| 43
186|2| 44
187|2| 45
188|2| 46
189|2| 47
190|2| 48
191|2| 49
192|2| 50
193|2| 51
194|2| 52
195|2| 53
196|2| 54
197|2| 55
198|2| 56
199|2| 57
(199 rows)

step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3commit: COMMIT;

starting permutation: s3begin s3b_sel_dec s1begin s1_insert s3b_sel_next s3b_sel_backward s1c_sel_dec s2_insert s3_insert s1_insert s1c_sel_next s1commit s3b_sel_prior s3d_sel_dec s3b_sel_forward s1begin s1abort s1c_sel_forward s3c_sel_dec s3abort s2begin s1c_sel_forward s1_insert s2a_sel_dec s3b_sel_prior s1begin s2a_sel_next s3b_sel_forward s2commit s2a_sel_end s1c_sel_end s3d_sel_end s3c_sel_end s3b_sel_end s1abort
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1commit: COMMIT;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(9 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1begin: BEGIN;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2commit: COMMIT;
step s2a_sel_end: CLOSE s2a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s3_insert s3begin s1begin s3_insert s3c_sel_dec s3c_sel_next s2_insert s1a_sel_dec s3c_sel_forward s3c_sel_end s1a_sel_backward s1commit s2begin s2_insert s1a_sel_forward s2commit s1_insert s3c_sel_dec s1begin s3d_sel_dec s1a_sel_end s3d_sel_next s3c_sel_end s1b_sel_dec s2_insert s1b_sel_forward s1a_sel_dec s1a_sel_end s1b_sel_forward s3d_sel_end s1b_sel_end s3abort s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(55 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
57|2| 1
58|2| 2
59|2| 3
60|2| 4
61|2| 5
62|2| 6
63|2| 7
64|2| 8
65|2| 9
66|2|10
67|2|11
68|2|12
69|2|13
70|2|14
71|2|15
72|2|16
73|2|17
74|2|18
75|2|19
(47 rows)

step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 57|2| 1
 58|2| 2
 59|2| 3
 60|2| 4
 61|2| 5
 62|2| 6
 63|2| 7
 64|2| 8
 65|2| 9
 66|2|10
 67|2|11
 68|2|12
 69|2|13
 70|2|14
 71|2|15
 72|2|16
 73|2|17
 74|2|18
 75|2|19
 76|2|20
 77|2|21
 78|2|22
 79|2|23
 80|2|24
 81|2|25
 82|2|26
 83|2|27
 84|2|28
 85|2|29
 86|2|30
 87|2|31
 88|2|32
 89|2|33
 90|2|34
 91|2|35
 92|2|36
 93|2|37
 94|2|38
 95|1| 1
 96|1| 2
 97|1| 3
 98|1| 4
 99|1| 5
100|1| 6
101|1| 7
102|1| 8
103|1| 9
104|1|10
(76 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s3_insert s3_insert s2begin s2commit s2begin s2commit s1_insert s2_insert s3_insert s3_insert s1begin s1_insert s2begin s1a_sel_dec s1_insert s2abort s1commit s1begin s1b_sel_dec s1b_sel_forward s1abort s2_insert s2begin s1a_sel_backward s1b_sel_forward s2a_sel_dec s2commit s1b_sel_next s2begin s1a_sel_forward s1a_sel_end s2a_sel_end s1b_sel_end s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|3| 29
 30|3| 30
 31|3| 31
 32|3| 32
 33|3| 33
 34|3| 34
 35|3| 35
 36|3| 36
 37|3| 37
 38|3| 38
 39|3| 39
 40|3| 40
 41|3| 41
 42|3| 42
 43|3| 43
 44|3| 44
 45|3| 45
 46|3| 46
 47|3| 47
 48|3| 48
 49|3| 49
 50|3| 50
 51|3| 51
 52|3| 52
 53|3| 53
 54|3| 54
 55|3| 55
 56|3| 56
 57|1|  1
 58|1|  2
 59|1|  3
 60|1|  4
 61|1|  5
 62|1|  6
 63|1|  7
 64|1|  8
 65|1|  9
 66|1| 10
 67|2|  1
 68|2|  2
 69|2|  3
 70|2|  4
 71|2|  5
 72|2|  6
 73|2|  7
 74|2|  8
 75|2|  9
 76|2| 10
 77|2| 11
 78|2| 12
 79|2| 13
 80|2| 14
 81|2| 15
 82|2| 16
 83|2| 17
 84|2| 18
 85|2| 19
 86|3| 57
 87|3| 58
 88|3| 59
 89|3| 60
 90|3| 61
 91|3| 62
 92|3| 63
 93|3| 64
 94|3| 65
 95|3| 66
 96|3| 67
 97|3| 68
 98|3| 69
 99|3| 70
100|3| 71
101|3| 72
102|3| 73
103|3| 74
104|3| 75
105|3| 76
106|3| 77
107|3| 78
108|3| 79
109|3| 80
110|3| 81
111|3| 82
112|3| 83
113|3| 84
114|3| 85
115|3| 86
116|3| 87
117|3| 88
118|3| 89
119|3| 90
120|3| 91
121|3| 92
122|3| 93
123|3| 94
124|3| 95
125|3| 96
126|3| 97
127|3| 98
128|3| 99
129|3|100
130|3|101
131|3|102
132|3|103
133|3|104
134|3|105
135|3|106
136|3|107
137|3|108
138|3|109
139|3|110
140|3|111
141|3|112
142|1| 11
143|1| 12
144|1| 13
145|1| 14
146|1| 15
147|1| 16
148|1| 17
149|1| 18
150|1| 19
151|1| 20
152|1| 21
153|1| 22
154|1| 23
155|1| 24
156|1| 25
157|1| 26
158|1| 27
159|1| 28
160|1| 29
161|1| 30
(161 rows)

step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2begin: BEGIN;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|3| 29
 30|3| 30
 31|3| 31
 32|3| 32
 33|3| 33
 34|3| 34
 35|3| 35
 36|3| 36
 37|3| 37
 38|3| 38
 39|3| 39
 40|3| 40
 41|3| 41
 42|3| 42
 43|3| 43
 44|3| 44
 45|3| 45
 46|3| 46
 47|3| 47
 48|3| 48
 49|3| 49
 50|3| 50
 51|3| 51
 52|3| 52
 53|3| 53
 54|3| 54
 55|3| 55
 56|3| 56
 57|1|  1
 58|1|  2
 59|1|  3
 60|1|  4
 61|1|  5
 62|1|  6
 63|1|  7
 64|1|  8
 65|1|  9
 66|1| 10
 67|2|  1
 68|2|  2
 69|2|  3
 70|2|  4
 71|2|  5
 72|2|  6
 73|2|  7
 74|2|  8
 75|2|  9
 76|2| 10
 77|2| 11
 78|2| 12
 79|2| 13
 80|2| 14
 81|2| 15
 82|2| 16
 83|2| 17
 84|2| 18
 85|2| 19
 86|3| 57
 87|3| 58
 88|3| 59
 89|3| 60
 90|3| 61
 91|3| 62
 92|3| 63
 93|3| 64
 94|3| 65
 95|3| 66
 96|3| 67
 97|3| 68
 98|3| 69
 99|3| 70
100|3| 71
101|3| 72
102|3| 73
103|3| 74
104|3| 75
105|3| 76
106|3| 77
107|3| 78
108|3| 79
109|3| 80
110|3| 81
111|3| 82
112|3| 83
113|3| 84
114|3| 85
115|3| 86
116|3| 87
117|3| 88
118|3| 89
119|3| 90
120|3| 91
121|3| 92
122|3| 93
123|3| 94
124|3| 95
125|3| 96
126|3| 97
127|3| 98
128|3| 99
129|3|100
130|3|101
131|3|102
132|3|103
133|3|104
134|3|105
135|3|106
136|3|107
137|3|108
138|3|109
139|3|110
140|3|111
141|3|112
142|1| 11
143|1| 12
144|1| 13
145|1| 14
146|1| 15
147|1| 16
148|1| 17
149|1| 18
150|1| 19
151|1| 20
(151 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s1begin s1a_sel_dec s1c_sel_dec s1c_sel_end s1a_sel_backward s1a_sel_backward s1commit s1a_sel_next s1_insert s1begin s1c_sel_dec s1abort s1a_sel_end s3begin s1begin s1c_sel_end s3commit s1abort s2_insert s2_insert s3begin s3c_sel_dec s3a_sel_dec s2begin s2c_sel_dec s3d_sel_dec s2d_sel_dec s2c_sel_forward s3a_sel_prior s3a_sel_end s2d_sel_end s2c_sel_end s3d_sel_end s3c_sel_end s2commit s3commit
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3commit: COMMIT;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
(48 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s1begin s1_insert s1abort s2_insert s2begin s2abort s3_insert s1_insert s3begin s3abort s2begin s2d_sel_dec s2b_sel_dec s1begin s3begin s3_insert s3_insert s2b_sel_end s2a_sel_dec s2b_sel_dec s2a_sel_prior s2b_sel_end s2a_sel_end s3c_sel_dec s1b_sel_dec s1b_sel_end s3b_sel_dec s2abort s3b_sel_next s2begin s2d_sel_end s3c_sel_end s3b_sel_end s2commit s1abort s3commit
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
 a|b|c
--+-+-
11|2|1
(1 row)

step s2begin: BEGIN;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2commit: COMMIT;
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s2begin s2c_sel_dec s2b_sel_dec s1_insert s2_insert s2d_sel_dec s2commit s2b_sel_forward s1_insert s2d_sel_end s2c_sel_next s2_insert s2b_sel_prior s2c_sel_forward s2b_sel_backward s2b_sel_prior s2c_sel_forward s2b_sel_backward s2c_sel_forward s2_insert s1_insert s1_insert s3_insert s2begin s1_insert s2_insert s2commit s2b_sel_end s2c_sel_end s1begin s1commit
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s1begin: BEGIN;
step s1commit: COMMIT;

starting permutation: s3begin s1_insert s3d_sel_dec s1begin s1c_sel_dec s1_insert s3abort s2begin s1c_sel_end s2abort s2_insert s1d_sel_dec s3begin s3commit s3begin s3d_sel_end s3d_sel_dec s3abort s2begin s2_insert s3d_sel_forward s1abort s1begin s1commit s3_insert s2c_sel_dec s3d_sel_next s3_insert s3d_sel_next s2c_sel_next s1d_sel_end s3d_sel_end s2c_sel_end s2commit
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s2commit: COMMIT;

starting permutation: s1_insert s3_insert s1begin s2_insert s1abort s1begin s1d_sel_dec s1d_sel_end s3_insert s1c_sel_dec s3begin s3d_sel_dec s1commit s1begin s1c_sel_forward s3d_sel_next s1_insert s2begin s1commit s3a_sel_dec s2commit s3d_sel_next s3d_sel_forward s1c_sel_next s3d_sel_end s3a_sel_end s1c_sel_end s1begin s3_insert s1c_sel_dec s1c_sel_end s1commit s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|3|29
59|3|30
60|3|31
61|3|32
62|3|33
63|3|34
64|3|35
65|3|36
66|3|37
67|3|38
68|3|39
69|3|40
70|3|41
71|3|42
72|3|43
73|3|44
74|3|45
75|3|46
76|3|47
77|3|48
78|3|49
79|3|50
80|3|51
81|3|52
82|3|53
83|3|54
84|3|55
85|3|56
(85 rows)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1commit: COMMIT;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|3|29
59|3|30
60|3|31
61|3|32
62|3|33
63|3|34
64|3|35
65|3|36
66|3|37
67|3|38
68|3|39
69|3|40
70|3|41
71|3|42
72|3|43
73|3|44
74|3|45
75|3|46
76|3|47
77|3|48
78|3|49
79|3|50
80|3|51
81|3|52
82|3|53
83|3|54
84|3|55
85|3|56
(83 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s2c_sel_dec s2c_sel_forward s3begin s1begin s1b_sel_dec s3_insert s3c_sel_dec s2a_sel_dec s2c_sel_forward s2a_sel_backward s2a_sel_forward s3c_sel_end s3d_sel_dec s1b_sel_forward s3commit s1b_sel_forward s1a_sel_dec s2b_sel_dec s1b_sel_next s1a_sel_prior s3_insert s1b_sel_forward s1b_sel_end s2a_sel_end s1a_sel_prior s2b_sel_prior s2c_sel_forward s3begin s2b_sel_end s1a_sel_end s2c_sel_end s3d_sel_end s3abort s2abort s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3begin: BEGIN;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2b_sel_end: CLOSE s2b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s1begin s2_insert s3_insert s1c_sel_dec s1c_sel_forward s1b_sel_dec s3begin s1b_sel_forward s1b_sel_end s1c_sel_end s3abort s3begin s3d_sel_dec s3commit s1d_sel_dec s1d_sel_end s1_insert s3d_sel_next s1d_sel_dec s1abort s3begin s3b_sel_dec s3a_sel_dec s3b_sel_forward s3commit s3a_sel_prior s3begin s3a_sel_prior s3a_sel_forward s3d_sel_end s3b_sel_end s1d_sel_end s3a_sel_end s3commit
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s3commit: COMMIT;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s2b_sel_dec s2commit s1_insert s2b_sel_forward s2b_sel_forward s1_insert s3_insert s1_insert s1begin s1b_sel_dec s1commit s2b_sel_next s1b_sel_next s3begin s1b_sel_prior s3_insert s1begin s2b_sel_end s3abort s1c_sel_dec s1b_sel_next s1c_sel_end s1b_sel_forward s1b_sel_next s1b_sel_next s1b_sel_next s1a_sel_dec s1commit s1a_sel_end s1b_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3abort: ROLLBACK;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s3begin s3a_sel_dec s3d_sel_dec s3b_sel_dec s3d_sel_end s3a_sel_forward s2_insert s3b_sel_end s3a_sel_forward s3a_sel_forward s3c_sel_dec s3a_sel_forward s2begin s1_insert s3c_sel_end s2d_sel_dec s3a_sel_backward s3_insert s3a_sel_backward s2d_sel_forward s2c_sel_dec s2d_sel_forward s1begin s3commit s2d_sel_end s2b_sel_dec s3a_sel_end s1c_sel_dec s1_insert s1commit s1c_sel_end s2c_sel_end s2b_sel_end s2abort
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3a_sel" already exists
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
(29 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3commit: COMMIT;
step s2d_sel_end: CLOSE s2d_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1c_sel_end: CLOSE s1c_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;

starting permutation: s3begin s3d_sel_dec s3d_sel_forward s3d_sel_end s3commit s1begin s2begin s1c_sel_dec s2_insert s1_insert s1c_sel_end s1commit s2commit s2_insert s2_insert s2begin s2_insert s2b_sel_dec s3_insert s1begin s1c_sel_dec s2b_sel_end s1a_sel_dec s1abort s1a_sel_forward s1a_sel_prior s3_insert s1_insert s1_insert s1a_sel_next s1c_sel_end s1a_sel_end s2abort
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s3_insert s3_insert s1_insert s3begin s3commit s1_insert s1_insert s2begin s1_insert s1begin s1abort s2abort s2begin s2c_sel_dec s2c_sel_forward s2a_sel_dec s3begin s2c_sel_forward s3b_sel_dec s2a_sel_forward s2a_sel_prior s2_insert s3a_sel_dec s3a_sel_forward s2a_sel_end s2c_sel_next s3commit s1begin s1commit s1begin s2c_sel_end s3a_sel_end s3b_sel_end s2commit s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
59|1| 3
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1|11
68|1|12
69|1|13
70|1|14
71|1|15
72|1|16
73|1|17
74|1|18
75|1|19
76|1|20
77|1|21
78|1|22
79|1|23
80|1|24
81|1|25
82|1|26
83|1|27
84|1|28
85|1|29
86|1|30
87|1|31
88|1|32
89|1|33
90|1|34
91|1|35
92|1|36
93|1|37
94|1|38
95|1|39
96|1|40
(96 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
59|1| 3
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1|11
68|1|12
69|1|13
70|1|14
71|1|15
72|1|16
73|1|17
74|1|18
75|1|19
76|1|20
77|1|21
78|1|22
79|1|23
80|1|24
81|1|25
82|1|26
83|1|27
84|1|28
85|1|29
86|1|30
87|1|31
88|1|32
89|1|33
90|1|34
91|1|35
92|1|36
93|1|37
94|1|38
95|1|39
96|1|40
(96 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
96|1|40
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
59|1| 3
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1|11
68|1|12
69|1|13
70|1|14
71|1|15
72|1|16
73|1|17
74|1|18
75|1|19
76|1|20
77|1|21
78|1|22
79|1|23
80|1|24
81|1|25
82|1|26
83|1|27
84|1|28
85|1|29
86|1|30
87|1|31
88|1|32
89|1|33
90|1|34
91|1|35
92|1|36
93|1|37
94|1|38
95|1|39
96|1|40
(96 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1begin s1d_sel_dec s1d_sel_end s1d_sel_dec s2begin s1d_sel_end s3_insert s2d_sel_dec s1b_sel_dec s1c_sel_dec s3_insert s1c_sel_forward s3_insert s1d_sel_dec s2d_sel_end s1commit s2c_sel_dec s2abort s2_insert s2c_sel_next s1begin s1a_sel_dec s1b_sel_prior s1c_sel_end s2_insert s1_insert s2_insert s1b_sel_forward s1a_sel_backward s1b_sel_forward s2c_sel_end s1a_sel_end s1d_sel_end s1b_sel_end s1abort
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s1commit: COMMIT;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;

starting permutation: s2begin s2d_sel_dec s2c_sel_dec s2c_sel_next s3_insert s2d_sel_end s2c_sel_forward s1_insert s2c_sel_next s2c_sel_end s2_insert s1_insert s2commit s3_insert s1_insert s3begin s3b_sel_dec s3b_sel_backward s3b_sel_next s3commit s1_insert s3b_sel_end s1_insert s2begin s2c_sel_dec s3begin s2c_sel_forward s2c_sel_forward s2b_sel_dec s2d_sel_dec s2c_sel_end s2d_sel_end s2b_sel_end s3abort s2commit
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|2| 1
 40|2| 2
 41|2| 3
 42|2| 4
 43|2| 5
 44|2| 6
 45|2| 7
 46|2| 8
 47|2| 9
 48|2|10
 49|2|11
 50|2|12
 51|2|13
 52|2|14
 53|2|15
 54|2|16
 55|2|17
 56|2|18
 57|2|19
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|1|21
 97|1|22
 98|1|23
 99|1|24
100|1|25
101|1|26
102|1|27
103|1|28
104|1|29
105|1|30
106|1|31
107|1|32
108|1|33
109|1|34
110|1|35
111|1|36
112|1|37
113|1|38
114|1|39
115|1|40
116|1|41
117|1|42
118|1|43
119|1|44
120|1|45
121|1|46
122|1|47
123|1|48
124|1|49
125|1|50
(125 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s2begin s2commit s2_insert s1begin s1b_sel_dec s1c_sel_dec s1a_sel_dec s1b_sel_next s1c_sel_end s1a_sel_next s1b_sel_backward s1d_sel_dec s1d_sel_next s1b_sel_backward s1a_sel_next s1a_sel_backward s2_insert s1b_sel_backward s1abort s1b_sel_forward s1a_sel_forward s2_insert s2begin s1a_sel_backward s1b_sel_next s2c_sel_dec s3begin s2d_sel_dec s2c_sel_end s1d_sel_forward s1d_sel_end s1b_sel_end s2d_sel_end s1a_sel_end s3commit s2commit
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s1begin s3_insert s2_insert s2begin s1a_sel_dec s1a_sel_end s2b_sel_dec s1abort s2commit s3begin s2begin s3commit s3begin s2b_sel_forward s3abort s2a_sel_dec s2b_sel_forward s2a_sel_next s2d_sel_dec s2_insert s2b_sel_next s2_insert s2c_sel_dec s2a_sel_backward s2b_sel_forward s2b_sel_forward s2a_sel_next s3_insert s2commit s1begin s2b_sel_end s2a_sel_end s2c_sel_end s2d_sel_end s1commit
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3abort: ROLLBACK;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s1begin: BEGIN;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1commit: COMMIT;

starting permutation: s3_insert s3begin s1_insert s3a_sel_dec s3abort s3a_sel_end s1begin s1commit s1begin s1a_sel_dec s1a_sel_backward s1commit s1a_sel_forward s1begin s1a_sel_end s1b_sel_dec s3_insert s3begin s1b_sel_backward s2_insert s3_insert s3abort s3_insert s1abort s1b_sel_next s1b_sel_prior s1b_sel_next s1b_sel_next s3begin s3b_sel_dec s3b_sel_end s1b_sel_end s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
(38 rows)

step s1begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s3begin s3b_sel_dec s3b_sel_end s2_insert s3a_sel_dec s3a_sel_forward s3abort s2begin s3a_sel_next s1begin s2b_sel_dec s3a_sel_next s3begin s3a_sel_prior s2b_sel_end s3b_sel_dec s3b_sel_forward s1abort s3a_sel_forward s3a_sel_prior s3b_sel_prior s3b_sel_end s2abort s3commit s3_insert s3_insert s2_insert s2_insert s3begin s2begin s3a_sel_end s3commit s2abort
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3begin: BEGIN;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s2_insert s3_insert s3begin s1begin s3b_sel_dec s1b_sel_dec s3a_sel_dec s1a_sel_dec s1commit s3b_sel_backward s3abort s3a_sel_forward s3a_sel_prior s1b_sel_prior s1b_sel_forward s1begin s1d_sel_dec s1b_sel_prior s3b_sel_next s3a_sel_forward s1b_sel_end s3b_sel_prior s3b_sel_next s1d_sel_end s1commit s3b_sel_forward s3b_sel_end s3a_sel_backward s3begin s1a_sel_forward s1a_sel_end s3a_sel_end s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3begin: BEGIN;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3commit: COMMIT;

starting permutation: s2begin s2a_sel_dec s3begin s3_insert s2commit s2a_sel_backward s3b_sel_dec s3abort s3b_sel_prior s3b_sel_backward s3b_sel_forward s3b_sel_prior s3b_sel_forward s3b_sel_prior s3begin s3b_sel_next s3b_sel_backward s3b_sel_backward s1begin s3b_sel_backward s3_insert s1_insert s2_insert s3b_sel_forward s1b_sel_dec s2begin s1c_sel_dec s1b_sel_prior s1b_sel_next s1b_sel_prior s1b_sel_end s3b_sel_end s1c_sel_end s2a_sel_end s2commit s1commit s3commit
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s2commit: COMMIT;
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s2_insert s3begin s2begin s1begin s1_insert s3b_sel_dec s2abort s1commit s3_insert s2_insert s1_insert s3_insert s3b_sel_next s2_insert s3b_sel_prior s1_insert s3b_sel_backward s3b_sel_next s3b_sel_forward s3d_sel_dec s3a_sel_dec s3c_sel_dec s3abort s3b_sel_prior s2begin s3b_sel_prior s3c_sel_end s3d_sel_forward s3b_sel_forward s1begin s3a_sel_end s3b_sel_end s3d_sel_end s1commit s2abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s2begin s2abort s1begin s1b_sel_dec s3_insert s2begin s1b_sel_prior s2_insert s2b_sel_dec s2b_sel_end s2a_sel_dec s1b_sel_prior s2a_sel_end s1d_sel_dec s1_insert s1b_sel_end s1d_sel_end s1_insert s2d_sel_dec s2d_sel_end s2b_sel_dec s1c_sel_dec s2_insert s1_insert s1c_sel_forward s2c_sel_dec s1abort s1c_sel_next s2b_sel_end s2abort s1c_sel_end s2c_sel_end
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;
step s1c_sel_end: CLOSE s1c_sel;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist

starting permutation: s3begin s3a_sel_dec s3_insert s3a_sel_next s1_insert s2begin s3a_sel_backward s1_insert s3c_sel_dec s2a_sel_dec s3b_sel_dec s2c_sel_dec s2a_sel_next s3b_sel_backward s2c_sel_next s3commit s3begin s3b_sel_forward s3b_sel_end s3a_sel_forward s2d_sel_dec s3commit s2_insert s2d_sel_forward s2d_sel_forward s2a_sel_backward s2a_sel_end s3c_sel_end s3begin s2b_sel_dec s2d_sel_end s2c_sel_end s2b_sel_end s3a_sel_end s3abort s2abort
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
 a|b|c
--+-+-
29|1|1
(1 row)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
 a|b|c
--+-+-
29|1|1
(1 row)

step s3commit: COMMIT;
step s3begin: BEGIN;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|1|11
40|1|12
41|1|13
42|1|14
43|1|15
44|1|16
45|1|17
46|1|18
47|1|19
48|1|20
(48 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s2begin s2_insert s1begin s2c_sel_dec s1a_sel_dec s2c_sel_end s1commit s3_insert s1a_sel_backward s1begin s1c_sel_dec s1a_sel_prior s2a_sel_dec s1a_sel_end s2abort s1c_sel_end s1c_sel_dec s1_insert s1_insert s1commit s2a_sel_next s2begin s2abort s2begin s2c_sel_dec s1c_sel_end s2a_sel_next s2a_sel_backward s2a_sel_prior s2a_sel_end s2c_sel_end s2commit
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s2abort: ROLLBACK;
step s1c_sel_end: CLOSE s1c_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;

starting permutation: s2_insert s1begin s1d_sel_dec s3_insert s2_insert s1b_sel_dec s1d_sel_end s1b_sel_end s2_insert s1a_sel_dec s3begin s1commit s1a_sel_prior s2begin s3abort s2d_sel_dec s2b_sel_dec s1a_sel_next s2a_sel_dec s1a_sel_prior s2d_sel_next s2b_sel_end s2d_sel_end s1a_sel_prior s1a_sel_end s2d_sel_dec s2_insert s3begin s2a_sel_forward s3_insert s2d_sel_end s2a_sel_end s2commit s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1commit: COMMIT;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2b_sel_end: CLOSE s2b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
67|2|39
68|2|40
69|2|41
70|2|42
71|2|43
72|2|44
73|2|45
74|2|46
75|2|47
76|2|48
77|2|49
78|2|50
79|2|51
80|2|52
81|2|53
82|2|54
83|2|55
84|2|56
85|2|57
(85 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3begin s3_insert s3commit s1_insert s1begin s1b_sel_dec s1d_sel_dec s1b_sel_end s1a_sel_dec s1a_sel_next s2_insert s1a_sel_backward s1a_sel_prior s1_insert s1a_sel_backward s1d_sel_end s1b_sel_dec s1b_sel_forward s1commit s1b_sel_forward s1b_sel_backward s1_insert s3begin s3abort s3_insert s3begin s1b_sel_backward s1b_sel_end s3abort s1_insert s1a_sel_end
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|1|11
59|1|12
60|1|13
61|1|14
62|1|15
63|1|16
64|1|17
65|1|18
66|1|19
67|1|20
(67 rows)

step s1commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_end: CLOSE s1a_sel;

starting permutation: s3_insert s2begin s2commit s1_insert s2_insert s1begin s1c_sel_dec s1b_sel_dec s1_insert s2begin s1b_sel_prior s2abort s3_insert s1b_sel_next s1b_sel_end s3begin s2_insert s3d_sel_dec s2begin s3d_sel_forward s2a_sel_dec s3_insert s2c_sel_dec s1c_sel_end s2_insert s1a_sel_dec s2_insert s2d_sel_dec s3d_sel_next s2_insert s3d_sel_end s2d_sel_end s2c_sel_end s2a_sel_end s1a_sel_end s3abort s1abort s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_end: CLOSE s1b_sel;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|2| 1
 40|2| 2
 41|2| 3
 42|2| 4
 43|2| 5
 44|2| 6
 45|2| 7
 46|2| 8
 47|2| 9
 48|2|10
 49|2|11
 50|2|12
 51|2|13
 52|2|14
 53|2|15
 54|2|16
 55|2|17
 56|2|18
 57|2|19
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
(104 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s2begin s2a_sel_dec s2b_sel_dec s2c_sel_dec s2a_sel_next s2b_sel_next s2a_sel_prior s3_insert s2c_sel_next s2commit s2b_sel_next s2a_sel_forward s2a_sel_next s1begin s2a_sel_prior s3_insert s2a_sel_next s2b_sel_backward s2a_sel_forward s2c_sel_forward s2a_sel_prior s2b_sel_prior s2a_sel_forward s2c_sel_end s1commit s2begin s1begin s2a_sel_forward s2b_sel_backward s2abort s2b_sel_end s2a_sel_end s1commit
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s1commit: COMMIT;

starting permutation: s1begin s1c_sel_dec s3begin s2_insert s3commit s3_insert s1a_sel_dec s1c_sel_forward s3_insert s1a_sel_next s3begin s1abort s3commit s1begin s1c_sel_end s2begin s2c_sel_dec s1d_sel_dec s2c_sel_forward s1a_sel_backward s1c_sel_dec s2c_sel_next s1c_sel_end s1_insert s3begin s1a_sel_next s2c_sel_next s2d_sel_dec s3_insert s2c_sel_forward s2d_sel_end s2c_sel_end s1a_sel_end s1d_sel_end s3commit s2abort s1commit
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3begin: BEGIN;
step s1abort: ROLLBACK;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|3|29
49|3|30
50|3|31
51|3|32
52|3|33
53|3|34
54|3|35
55|3|36
56|3|37
57|3|38
58|3|39
59|3|40
60|3|41
61|3|42
62|3|43
63|3|44
64|3|45
65|3|46
66|3|47
67|3|48
68|3|49
69|3|50
70|3|51
71|3|52
72|3|53
73|3|54
74|3|55
75|3|56
(75 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s3begin s3b_sel_dec s3b_sel_end s3_insert s2begin s3d_sel_dec s2abort s3_insert s3_insert s3a_sel_dec s2_insert s2_insert s3a_sel_next s3_insert s3_insert s3a_sel_prior s2begin s3_insert s2b_sel_dec s3b_sel_dec s1begin s1commit s3a_sel_backward s2b_sel_next s2commit s3a_sel_prior s3a_sel_prior s3abort s2begin s3d_sel_forward s3d_sel_end s3a_sel_end s2b_sel_end s3b_sel_end s2commit
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
 a|b|c
--+-+-
85|2|1
(1 row)

step s2commit: COMMIT;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2commit: COMMIT;

starting permutation: s3_insert s1_insert s2begin s3begin s3commit s2abort s2_insert s3begin s3_insert s3a_sel_dec s3a_sel_end s3a_sel_dec s3d_sel_dec s2begin s2_insert s2commit s2begin s3abort s3d_sel_next s2d_sel_dec s2_insert s3a_sel_end s3d_sel_end s2c_sel_dec s2c_sel_forward s2c_sel_end s3_insert s1begin s1_insert s2abort s2d_sel_end s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|2| 1
 40|2| 2
 41|2| 3
 42|2| 4
 43|2| 5
 44|2| 6
 45|2| 7
 46|2| 8
 47|2| 9
 48|2|10
 49|2|11
 50|2|12
 51|2|13
 52|2|14
 53|2|15
 54|2|16
 55|2|17
 56|2|18
 57|2|19
 86|2|20
 87|2|21
 88|2|22
 89|2|23
 90|2|24
 91|2|25
 92|2|26
 93|2|27
 94|2|28
 95|2|29
 96|2|30
 97|2|31
 98|2|32
 99|2|33
100|2|34
101|2|35
102|2|36
103|2|37
104|2|38
105|2|39
106|2|40
107|2|41
108|2|42
109|2|43
110|2|44
111|2|45
112|2|46
113|2|47
114|2|48
115|2|49
116|2|50
117|2|51
118|2|52
119|2|53
120|2|54
121|2|55
122|2|56
123|2|57
(95 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1commit: COMMIT;

starting permutation: s2begin s2commit s3_insert s2begin s1_insert s2c_sel_dec s2c_sel_end s1begin s2a_sel_dec s3begin s3b_sel_dec s2a_sel_next s1d_sel_dec s3a_sel_dec s1commit s3b_sel_next s1d_sel_next s3a_sel_backward s2_insert s2a_sel_prior s2c_sel_dec s2d_sel_dec s3a_sel_prior s3c_sel_dec s2c_sel_forward s2a_sel_end s2c_sel_forward s3b_sel_next s3_insert s3b_sel_end s2c_sel_end s2d_sel_end s3a_sel_end s3c_sel_end s1d_sel_end s3commit s2abort
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
(57 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s1begin s3begin s1abort s2begin s3abort s1begin s2d_sel_dec s1abort s3begin s2abort s3d_sel_dec s3_insert s2d_sel_next s1_insert s3d_sel_next s3d_sel_forward s3commit s2_insert s2d_sel_next s3_insert s3d_sel_next s2d_sel_next s1_insert s3d_sel_next s1begin s1commit s1_insert s2d_sel_forward s3d_sel_end s1begin s2d_sel_end s1abort
step s1begin: BEGIN;
step s3begin: BEGIN;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s2abort: ROLLBACK;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s2begin s1begin s3begin s1d_sel_dec s1c_sel_dec s1_insert s3_insert s1d_sel_next s3a_sel_dec s1d_sel_forward s1c_sel_next s1d_sel_forward s3commit s1c_sel_forward s1_insert s2a_sel_dec s3_insert s1d_sel_end s3begin s3a_sel_backward s1c_sel_forward s1c_sel_next s3d_sel_dec s2b_sel_dec s2a_sel_forward s1abort s1c_sel_forward s3d_sel_forward s3a_sel_prior s2a_sel_end s3a_sel_end s2b_sel_end s1c_sel_end s3d_sel_end s2abort s3commit
step s2begin: BEGIN;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_end: CLOSE s1d_sel;
step s3begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
(28 rows)

step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
49|3|29
50|3|30
51|3|31
52|3|32
53|3|33
54|3|34
55|3|35
56|3|36
57|3|37
58|3|38
59|3|39
60|3|40
61|3|41
62|3|42
63|3|43
64|3|44
65|3|45
66|3|46
67|3|47
68|3|48
69|3|49
70|3|50
71|3|51
72|3|52
73|3|53
74|3|54
75|3|55
76|3|56
(56 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1begin s1a_sel_dec s1d_sel_dec s1b_sel_dec s1b_sel_forward s1a_sel_forward s2_insert s1c_sel_dec s1c_sel_next s1d_sel_forward s1b_sel_end s1d_sel_forward s1c_sel_next s3_insert s1abort s1c_sel_forward s1begin s1b_sel_dec s1a_sel_forward s1abort s1a_sel_prior s1d_sel_end s1a_sel_end s1c_sel_end s2begin s1b_sel_prior s1b_sel_forward s1b_sel_next s1b_sel_end s2b_sel_dec s2b_sel_end s2commit
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1abort: ROLLBACK;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s2commit: COMMIT;

starting permutation: s2begin s2commit s2_insert s3_insert s1begin s2_insert s1d_sel_dec s1abort s1d_sel_next s1d_sel_next s1d_sel_next s3begin s3d_sel_dec s3c_sel_dec s1d_sel_forward s3a_sel_dec s3a_sel_end s1d_sel_forward s1d_sel_forward s2_insert s2_insert s3b_sel_dec s1begin s3b_sel_backward s3b_sel_forward s3d_sel_forward s3c_sel_end s3d_sel_next s3d_sel_end s1c_sel_dec s1d_sel_end s3b_sel_end s1c_sel_end s3commit s1abort
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|2|20
 49|2|21
 50|2|22
 51|2|23
 52|2|24
 53|2|25
 54|2|26
 55|2|27
 56|2|28
 57|2|29
 58|2|30
 59|2|31
 60|2|32
 61|2|33
 62|2|34
 63|2|35
 64|2|36
 65|2|37
 66|2|38
 67|2|39
 68|2|40
 69|2|41
 70|2|42
 71|2|43
 72|2|44
 73|2|45
 74|2|46
 75|2|47
 76|2|48
 77|2|49
 78|2|50
 79|2|51
 80|2|52
 81|2|53
 82|2|54
 83|2|55
 84|2|56
 85|2|57
 86|2|58
 87|2|59
 88|2|60
 89|2|61
 90|2|62
 91|2|63
 92|2|64
 93|2|65
 94|2|66
 95|2|67
 96|2|68
 97|2|69
 98|2|70
 99|2|71
100|2|72
101|2|73
102|2|74
103|2|75
104|2|76
(104 rows)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
(66 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s2begin s2_insert s2_insert s2b_sel_dec s2a_sel_dec s2c_sel_dec s1begin s1c_sel_dec s1commit s2commit s3begin s3b_sel_dec s2c_sel_next s2_insert s2c_sel_forward s3a_sel_dec s3b_sel_end s2c_sel_next s3_insert s3c_sel_dec s1c_sel_end s1_insert s3commit s3c_sel_forward s2a_sel_end s1_insert s2b_sel_next s3a_sel_forward s3a_sel_forward s2b_sel_forward s2c_sel_end s3a_sel_end s3c_sel_end s2b_sel_end
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
(37 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
39|2|39
40|2|40
41|2|41
42|2|42
43|2|43
44|2|44
45|2|45
46|2|46
47|2|47
48|2|48
49|2|49
50|2|50
51|2|51
52|2|52
53|2|53
54|2|54
55|2|55
56|2|56
57|2|57
58|3| 1
59|3| 2
60|3| 3
61|3| 4
62|3| 5
63|3| 6
64|3| 7
65|3| 8
66|3| 9
67|3|10
68|3|11
69|3|12
70|3|13
71|3|14
72|3|15
73|3|16
74|3|17
75|3|18
76|3|19
77|3|20
78|3|21
79|3|22
80|3|23
81|3|24
82|3|25
83|3|26
84|3|27
85|3|28
(85 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
39|2|39
40|2|40
41|2|41
42|2|42
43|2|43
44|2|44
45|2|45
46|2|46
47|2|47
48|2|48
49|2|49
50|2|50
51|2|51
52|2|52
53|2|53
54|2|54
55|2|55
56|2|56
57|2|57
(57 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist

starting permutation: s1begin s1d_sel_dec s1c_sel_dec s1c_sel_forward s1d_sel_next s3_insert s1b_sel_dec s1d_sel_forward s1b_sel_next s1b_sel_prior s1c_sel_next s1d_sel_forward s1c_sel_end s1abort s1b_sel_prior s3_insert s3begin s1begin s1d_sel_end s1abort s3a_sel_dec s1b_sel_backward s3a_sel_end s1b_sel_prior s3commit s1b_sel_end s2begin s2_insert s2commit s3begin s3abort
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1abort: ROLLBACK;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1abort: ROLLBACK;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3abort: ROLLBACK;

starting permutation: s1begin s2_insert s1c_sel_dec s1_insert s3_insert s3_insert s1b_sel_dec s2_insert s3_insert s3_insert s1b_sel_next s1b_sel_next s1abort s1_insert s1_insert s1b_sel_prior s1c_sel_forward s1c_sel_forward s1b_sel_prior s1b_sel_prior s1_insert s3begin s3b_sel_dec s3a_sel_dec s1b_sel_end s3c_sel_dec s3a_sel_forward s3b_sel_next s1_insert s3b_sel_backward s3b_sel_end s3c_sel_end s3a_sel_end s1c_sel_end s3commit
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
  a|b|  c
---+-+---
  1|2|  1
  2|2|  2
  3|2|  3
  4|2|  4
  5|2|  5
  6|2|  6
  7|2|  7
  8|2|  8
  9|2|  9
 10|2| 10
 11|2| 11
 12|2| 12
 13|2| 13
 14|2| 14
 15|2| 15
 16|2| 16
 17|2| 17
 18|2| 18
 19|2| 19
 30|3|  1
 31|3|  2
 32|3|  3
 33|3|  4
 34|3|  5
 35|3|  6
 36|3|  7
 37|3|  8
 38|3|  9
 39|3| 10
 40|3| 11
 41|3| 12
 42|3| 13
 43|3| 14
 44|3| 15
 45|3| 16
 46|3| 17
 47|3| 18
 48|3| 19
 49|3| 20
 50|3| 21
 51|3| 22
 52|3| 23
 53|3| 24
 54|3| 25
 55|3| 26
 56|3| 27
 57|3| 28
 58|3| 29
 59|3| 30
 60|3| 31
 61|3| 32
 62|3| 33
 63|3| 34
 64|3| 35
 65|3| 36
 66|3| 37
 67|3| 38
 68|3| 39
 69|3| 40
 70|3| 41
 71|3| 42
 72|3| 43
 73|3| 44
 74|3| 45
 75|3| 46
 76|3| 47
 77|3| 48
 78|3| 49
 79|3| 50
 80|3| 51
 81|3| 52
 82|3| 53
 83|3| 54
 84|3| 55
 85|3| 56
 86|2| 20
 87|2| 21
 88|2| 22
 89|2| 23
 90|2| 24
 91|2| 25
 92|2| 26
 93|2| 27
 94|2| 28
 95|2| 29
 96|2| 30
 97|2| 31
 98|2| 32
 99|2| 33
100|2| 34
101|2| 35
102|2| 36
103|2| 37
104|2| 38
105|3| 57
106|3| 58
107|3| 59
108|3| 60
109|3| 61
110|3| 62
111|3| 63
112|3| 64
113|3| 65
114|3| 66
115|3| 67
116|3| 68
117|3| 69
118|3| 70
119|3| 71
120|3| 72
121|3| 73
122|3| 74
123|3| 75
124|3| 76
125|3| 77
126|3| 78
127|3| 79
128|3| 80
129|3| 81
130|3| 82
131|3| 83
132|3| 84
133|3| 85
134|3| 86
135|3| 87
136|3| 88
137|3| 89
138|3| 90
139|3| 91
140|3| 92
141|3| 93
142|3| 94
143|3| 95
144|3| 96
145|3| 97
146|3| 98
147|3| 99
148|3|100
149|3|101
150|3|102
151|3|103
152|3|104
153|3|105
154|3|106
155|3|107
156|3|108
157|3|109
158|3|110
159|3|111
160|3|112
161|1| 11
162|1| 12
163|1| 13
164|1| 14
165|1| 15
166|1| 16
167|1| 17
168|1| 18
169|1| 19
170|1| 20
171|1| 21
172|1| 22
173|1| 23
174|1| 24
175|1| 25
176|1| 26
177|1| 27
178|1| 28
179|1| 29
180|1| 30
181|1| 31
182|1| 32
183|1| 33
184|1| 34
185|1| 35
186|1| 36
187|1| 37
188|1| 38
189|1| 39
190|1| 40
(180 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3commit: COMMIT;

starting permutation: s2_insert s1_insert s3_insert s1_insert s3_insert s2begin s2abort s2begin s2_insert s2c_sel_dec s3begin s1_insert s2c_sel_forward s1_insert s3b_sel_dec s3c_sel_dec s3commit s2a_sel_dec s2b_sel_dec s3c_sel_next s2c_sel_end s2a_sel_next s2_insert s1_insert s2a_sel_forward s3c_sel_forward s2abort s2a_sel_end s3c_sel_forward s3begin s3c_sel_end s2b_sel_end s3b_sel_end s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|1| 1
 21|1| 2
 22|1| 3
 23|1| 4
 24|1| 5
 25|1| 6
 26|1| 7
 27|1| 8
 28|1| 9
 29|1|10
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
(114 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b| c
---+-+--
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|1| 1
 21|1| 2
 22|1| 3
 23|1| 4
 24|1| 5
 25|1| 6
 26|1| 7
 27|1| 8
 28|1| 9
 29|1|10
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
115|1|21
116|1|22
117|1|23
118|1|24
119|1|25
120|1|26
121|1|27
122|1|28
123|1|29
124|1|30
125|1|31
126|1|32
127|1|33
128|1|34
129|1|35
130|1|36
131|1|37
132|1|38
133|1|39
134|1|40
(133 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b| c
---+-+--
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|1| 1
 21|1| 2
 22|1| 3
 23|1| 4
 24|1| 5
 25|1| 6
 26|1| 7
 27|1| 8
 28|1| 9
 29|1|10
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
115|1|21
116|1|22
117|1|23
118|1|24
119|1|25
120|1|26
121|1|27
122|1|28
123|1|29
124|1|30
125|1|31
126|1|32
127|1|33
128|1|34
129|1|35
130|1|36
131|1|37
132|1|38
133|1|39
134|1|40
(114 rows)

step s2abort: ROLLBACK;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3commit: COMMIT;

starting permutation: s1_insert s1begin s2begin s2commit s1a_sel_dec s3_insert s1a_sel_forward s3_insert s1a_sel_next s1abort s3_insert s3begin s1a_sel_backward s2begin s2_insert s1begin s3c_sel_dec s1a_sel_backward s2b_sel_dec s3a_sel_dec s1b_sel_dec s2b_sel_end s3a_sel_prior s1b_sel_forward s1b_sel_end s2abort s3commit s1a_sel_backward s3c_sel_forward s1_insert s3c_sel_end s3a_sel_end s1a_sel_end s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3commit: COMMIT;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
67|3|57
68|3|58
69|3|59
70|3|60
71|3|61
72|3|62
73|3|63
74|3|64
75|3|65
76|3|66
77|3|67
78|3|68
79|3|69
80|3|70
81|3|71
82|3|72
83|3|73
84|3|74
85|3|75
86|3|76
87|3|77
88|3|78
89|3|79
90|3|80
91|3|81
92|3|82
93|3|83
94|3|84
(94 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;

starting permutation: s1begin s1c_sel_dec s1_insert s1abort s2_insert s1begin s1c_sel_next s2begin s1b_sel_dec s1b_sel_forward s1_insert s2c_sel_dec s2c_sel_next s1b_sel_forward s2b_sel_dec s2c_sel_next s1d_sel_dec s2b_sel_end s1b_sel_end s2_insert s1c_sel_end s1d_sel_forward s2c_sel_end s2_insert s2c_sel_dec s1b_sel_dec s1d_sel_end s1a_sel_dec s1commit s2c_sel_forward s1a_sel_end s2c_sel_end s1b_sel_end s2abort
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
 a|b|c
--+-+-
11|2|1
(1 row)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
 a|b|c
--+-+-
12|2|2
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
49|2|39
50|2|40
51|2|41
52|2|42
53|2|43
54|2|44
55|2|45
56|2|46
57|2|47
58|2|48
59|2|49
60|2|50
61|2|51
62|2|52
63|2|53
64|2|54
65|2|55
66|2|56
67|2|57
(57 rows)

step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s2begin s1_insert s1begin s3_insert s2_insert s2b_sel_dec s2b_sel_end s2c_sel_dec s1abort s2b_sel_dec s2c_sel_end s1_insert s2b_sel_backward s1_insert s3begin s1_insert s3_insert s2a_sel_dec s2b_sel_next s1_insert s3abort s2commit s2begin s2_insert s1begin s2a_sel_end s2c_sel_dec s2commit s2_insert s1abort s2b_sel_end s2c_sel_end
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;

starting permutation: s1begin s1commit s3begin s2begin s2abort s3_insert s2begin s3b_sel_dec s3b_sel_backward s3b_sel_backward s3_insert s2a_sel_dec s3b_sel_forward s3a_sel_dec s2d_sel_dec s2a_sel_backward s3a_sel_prior s2b_sel_dec s2b_sel_backward s2a_sel_forward s3c_sel_dec s3a_sel_forward s3b_sel_backward s3c_sel_next s3a_sel_prior s2d_sel_end s1begin s1abort s2commit s2b_sel_prior s2b_sel_end s3b_sel_end s3c_sel_end s3a_sel_end s2a_sel_end s3commit
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(28 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
56|3|56
(1 row)

step s2d_sel_end: CLOSE s2d_sel;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3commit: COMMIT;

starting permutation: s3begin s3a_sel_dec s3a_sel_forward s1_insert s3a_sel_next s2begin s2b_sel_dec s2a_sel_dec s2b_sel_forward s3_insert s3c_sel_dec s3d_sel_dec s3a_sel_forward s3c_sel_next s2d_sel_dec s2_insert s3a_sel_prior s3abort s3d_sel_end s2d_sel_end s2a_sel_prior s2abort s3a_sel_next s3a_sel_forward s2a_sel_backward s3begin s2a_sel_forward s1begin s3c_sel_forward s3commit s2a_sel_end s3c_sel_end s3a_sel_end s2b_sel_end s1abort
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3begin: BEGIN;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1begin: BEGIN;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3commit: COMMIT;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s3_insert s1begin s1d_sel_dec s1d_sel_next s1b_sel_dec s1_insert s1_insert s1commit s1b_sel_next s3_insert s1b_sel_end s3_insert s3begin s3_insert s1d_sel_next s3d_sel_dec s3abort s1d_sel_forward s2begin s3d_sel_next s3d_sel_next s1_insert s2b_sel_dec s2b_sel_prior s3d_sel_next s1d_sel_forward s3_insert s1d_sel_forward s2b_sel_next s2b_sel_prior s3d_sel_end s2b_sel_end s1d_sel_end s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2begin: BEGIN;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s2_insert s1_insert s1_insert s3begin s3abort s2_insert s2begin s3_insert s2commit s3_insert s1_insert s2_insert s1begin s1b_sel_dec s1abort s2_insert s3begin s3c_sel_dec s1b_sel_end s3b_sel_dec s2begin s2_insert s3b_sel_next s3b_sel_backward s3b_sel_backward s1begin s3b_sel_next s3b_sel_next s3abort s3b_sel_backward s3b_sel_end s3c_sel_end s1commit s2abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s3abort: ROLLBACK;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s1_insert s1begin s3begin s2begin s1abort s2b_sel_dec s3b_sel_dec s3_insert s2b_sel_prior s2d_sel_dec s2c_sel_dec s2abort s2b_sel_prior s2_insert s3a_sel_dec s2c_sel_forward s2c_sel_forward s2c_sel_forward s3c_sel_dec s1_insert s2d_sel_end s3c_sel_forward s2b_sel_backward s3d_sel_dec s3a_sel_backward s2c_sel_end s3a_sel_next s3b_sel_forward s1begin s3c_sel_end s3a_sel_end s3b_sel_end s2b_sel_end s3d_sel_end s3abort s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|2| 1
40|2| 2
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
(57 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s1begin: BEGIN;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s3abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s2begin s2c_sel_dec s2c_sel_end s2c_sel_dec s1begin s2d_sel_dec s1d_sel_dec s2d_sel_end s2c_sel_forward s2a_sel_dec s1commit s2c_sel_next s2a_sel_forward s2c_sel_forward s2a_sel_end s2abort s2c_sel_next s1d_sel_next s2c_sel_end s3begin s1_insert s3d_sel_dec s3commit s3d_sel_end s1d_sel_forward s1d_sel_forward s1_insert s3_insert s2begin s2_insert s1d_sel_end s2abort
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2abort: ROLLBACK;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s1_insert s1_insert s2begin s2b_sel_dec s2_insert s2b_sel_prior s2b_sel_prior s1begin s2b_sel_backward s2commit s3begin s1_insert s2_insert s3c_sel_dec s1c_sel_dec s2b_sel_prior s2b_sel_end s3a_sel_dec s3a_sel_next s3c_sel_forward s1a_sel_dec s1a_sel_backward s3b_sel_dec s1a_sel_next s3b_sel_backward s1a_sel_prior s3a_sel_prior s3d_sel_dec s3a_sel_backward s3b_sel_forward s3a_sel_end s3c_sel_end s3b_sel_end s1a_sel_end s1c_sel_end s3d_sel_end s3abort s1abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|2| 1
22|2| 2
23|2| 3
24|2| 4
25|2| 5
26|2| 6
27|2| 7
28|2| 8
29|2| 9
30|2|10
31|2|11
32|2|12
33|2|13
34|2|14
35|2|15
36|2|16
37|2|17
38|2|18
39|2|19
50|2|20
51|2|21
52|2|22
53|2|23
54|2|24
55|2|25
56|2|26
57|2|27
58|2|28
59|2|29
60|2|30
61|2|31
62|2|32
63|2|33
64|2|34
65|2|35
66|2|36
67|2|37
68|2|38
(58 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|2| 1
22|2| 2
23|2| 3
24|2| 4
25|2| 5
26|2| 6
27|2| 7
28|2| 8
29|2| 9
30|2|10
31|2|11
32|2|12
33|2|13
34|2|14
35|2|15
36|2|16
37|2|17
38|2|18
39|2|19
50|2|20
51|2|21
52|2|22
53|2|23
54|2|24
55|2|25
56|2|26
57|2|27
58|2|28
59|2|29
60|2|30
61|2|31
62|2|32
63|2|33
64|2|34
65|2|35
66|2|36
67|2|37
68|2|38
(58 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2_insert s3_insert s1begin s2_insert s2begin s2commit s1abort s3begin s3commit s2_insert s3begin s2begin s1_insert s2abort s1_insert s3b_sel_dec s3a_sel_dec s1_insert s2begin s2c_sel_dec s3b_sel_forward s2commit s3abort s2c_sel_end s3a_sel_backward s3b_sel_next s2_insert s3b_sel_end s3a_sel_next s1_insert s3a_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|2|20
 49|2|21
 50|2|22
 51|2|23
 52|2|24
 53|2|25
 54|2|26
 55|2|27
 56|2|28
 57|2|29
 58|2|30
 59|2|31
 60|2|32
 61|2|33
 62|2|34
 63|2|35
 64|2|36
 65|2|37
 66|2|38
 67|2|39
 68|2|40
 69|2|41
 70|2|42
 71|2|43
 72|2|44
 73|2|45
 74|2|46
 75|2|47
 76|2|48
 77|2|49
 78|2|50
 79|2|51
 80|2|52
 81|2|53
 82|2|54
 83|2|55
 84|2|56
 85|2|57
 86|1| 1
 87|1| 2
 88|1| 3
 89|1| 4
 90|1| 5
 91|1| 6
 92|1| 7
 93|1| 8
 94|1| 9
 95|1|10
 96|1|11
 97|1|12
 98|1|13
 99|1|14
100|1|15
101|1|16
102|1|17
103|1|18
104|1|19
105|1|20
(105 rows)

step s2commit: COMMIT;
step s3abort: ROLLBACK;
step s2c_sel_end: CLOSE s2c_sel;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist

starting permutation: s3begin s1_insert s3d_sel_dec s3b_sel_dec s3b_sel_forward s3b_sel_end s3d_sel_next s2begin s3c_sel_dec s2a_sel_dec s2a_sel_next s3a_sel_dec s3c_sel_end s3_insert s3_insert s3b_sel_dec s2_insert s3d_sel_next s3d_sel_forward s3d_sel_next s3b_sel_prior s2abort s3b_sel_backward s2_insert s2begin s1begin s1commit s3b_sel_next s1begin s2_insert s3b_sel_end s3a_sel_end s2a_sel_end s3d_sel_end s3abort s2commit s1abort
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(8 rows)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s3begin s3a_sel_dec s3abort s3a_sel_prior s3_insert s3a_sel_backward s2_insert s1_insert s3a_sel_backward s1_insert s3a_sel_forward s3a_sel_end s1begin s1_insert s3_insert s1b_sel_dec s1b_sel_backward s1d_sel_dec s2begin s2b_sel_dec s2abort s1b_sel_next s1b_sel_forward s1b_sel_next s1b_sel_backward s1b_sel_backward s2begin s2b_sel_next s2d_sel_dec s1c_sel_dec s1d_sel_end s2b_sel_end s1b_sel_end s2d_sel_end s1c_sel_end s1abort s2abort
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b| c
---+-+--
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|2| 1
 30|2| 2
 31|2| 3
 32|2| 4
 33|2| 5
 34|2| 6
 35|2| 7
 36|2| 8
 37|2| 9
 38|2|10
 39|2|11
 40|2|12
 41|2|13
 42|2|14
 43|2|15
 44|2|16
 45|2|17
 46|2|18
 47|2|19
 48|1| 1
 49|1| 2
 50|1| 3
 51|1| 4
 52|1| 5
 53|1| 6
 54|1| 7
 55|1| 8
 56|1| 9
 57|1|10
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|1|21
 69|1|22
 70|1|23
 71|1|24
 72|1|25
 73|1|26
 74|1|27
 75|1|28
 76|1|29
 77|1|30
 78|3|29
 79|3|30
 80|3|31
 81|3|32
 82|3|33
 83|3|34
 84|3|35
 85|3|36
 86|3|37
 87|3|38
 88|3|39
 89|3|40
 90|3|41
 91|3|42
 92|3|43
 93|3|44
 94|3|45
 95|3|46
 96|3|47
 97|3|48
 98|3|49
 99|3|50
100|3|51
101|3|52
102|3|53
103|3|54
104|3|55
105|3|56
(104 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
  a|b| c
---+-+--
105|3|56
104|3|55
103|3|54
102|3|53
101|3|52
100|3|51
 99|3|50
 98|3|49
 97|3|48
 96|3|47
 95|3|46
 94|3|45
 93|3|44
 92|3|43
 91|3|42
 90|3|41
 89|3|40
 88|3|39
 87|3|38
 86|3|37
 85|3|36
 84|3|35
 83|3|34
 82|3|33
 81|3|32
 80|3|31
 79|3|30
 78|3|29
 77|1|30
 76|1|29
 75|1|28
 74|1|27
 73|1|26
 72|1|25
 71|1|24
 70|1|23
 69|1|22
 68|1|21
 67|1|20
 66|1|19
 65|1|18
 64|1|17
 63|1|16
 62|1|15
 61|1|14
 60|1|13
 59|1|12
 58|1|11
 57|1|10
 56|1| 9
 55|1| 8
 54|1| 7
 53|1| 6
 52|1| 5
 51|1| 4
 50|1| 3
 49|1| 2
 48|1| 1
 47|2|19
 46|2|18
 45|2|17
 44|2|16
 43|2|15
 42|2|14
 41|2|13
 40|2|12
 39|2|11
 38|2|10
 37|2| 9
 36|2| 8
 35|2| 7
 34|2| 6
 33|2| 5
 32|2| 4
 31|2| 3
 30|2| 2
 29|2| 1
 28|3|28
 27|3|27
 26|3|26
 25|3|25
 24|3|24
 23|3|23
 22|3|22
 21|3|21
 20|3|20
 19|3|19
 18|3|18
 17|3|17
 16|3|16
 15|3|15
 14|3|14
 13|3|13
 12|3|12
 11|3|11
 10|3|10
  9|3| 9
  8|3| 8
  7|3| 7
  6|3| 6
  5|3| 5
  4|3| 4
  3|3| 3
  2|3| 2
  1|3| 1
(105 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s3_insert s1begin s1c_sel_dec s2begin s1c_sel_next s2abort s1d_sel_dec s3begin s1d_sel_forward s3c_sel_dec s3c_sel_next s1commit s1begin s3a_sel_dec s1c_sel_forward s3c_sel_next s1_insert s3a_sel_prior s1d_sel_next s3abort s3begin s1c_sel_end s3_insert s3c_sel_forward s3a_sel_prior s2_insert s1d_sel_end s2_insert s1c_sel_dec s3a_sel_forward s3c_sel_end s3a_sel_end s1c_sel_end s3commit s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2abort: ROLLBACK;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1commit: COMMIT;
step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1begin s2begin s1d_sel_dec s1commit s1begin s1d_sel_end s1a_sel_dec s1commit s3_insert s3begin s1a_sel_end s1begin s3a_sel_dec s3a_sel_forward s2c_sel_dec s1d_sel_dec s1abort s1begin s2c_sel_next s2abort s1a_sel_dec s1a_sel_forward s1a_sel_next s3c_sel_dec s1b_sel_dec s1a_sel_prior s1b_sel_prior s1a_sel_next s1b_sel_forward s1b_sel_backward s1d_sel_end s3c_sel_end s3a_sel_end s1b_sel_end s2c_sel_end s1a_sel_end s3commit s1abort
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
 a|b| c
--+-+--
28|3|28
(1 row)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(28 rows)

step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s3begin s2_insert s3commit s1begin s1d_sel_dec s3_insert s1abort s1d_sel_next s3begin s2_insert s3d_sel_dec s3_insert s1d_sel_end s3commit s2_insert s3d_sel_next s2begin s2b_sel_dec s2_insert s2b_sel_forward s2a_sel_dec s2a_sel_end s2_insert s2abort s3begin s3a_sel_dec s3d_sel_next s1begin s3a_sel_prior s3commit s3a_sel_end s2b_sel_end s3d_sel_end s1commit
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|2|20
 49|2|21
 50|2|22
 51|2|23
 52|2|24
 53|2|25
 54|2|26
 55|2|27
 56|2|28
 57|2|29
 58|2|30
 59|2|31
 60|2|32
 61|2|33
 62|2|34
 63|2|35
 64|2|36
 65|2|37
 66|2|38
 67|3|29
 68|3|30
 69|3|31
 70|3|32
 71|3|33
 72|3|34
 73|3|35
 74|3|36
 75|3|37
 76|3|38
 77|3|39
 78|3|40
 79|3|41
 80|3|42
 81|3|43
 82|3|44
 83|3|45
 84|3|46
 85|3|47
 86|3|48
 87|3|49
 88|3|50
 89|3|51
 90|3|52
 91|3|53
 92|3|54
 93|3|55
 94|3|56
 95|2|39
 96|2|40
 97|2|41
 98|2|42
 99|2|43
100|2|44
101|2|45
102|2|46
103|2|47
104|2|48
105|2|49
106|2|50
107|2|51
108|2|52
109|2|53
110|2|54
111|2|55
112|2|56
113|2|57
(113 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1commit: COMMIT;

starting permutation: s3_insert s2_insert s1begin s1c_sel_dec s1c_sel_end s1_insert s1c_sel_dec s1c_sel_forward s1commit s2_insert s1begin s1c_sel_end s1commit s2begin s1begin s2c_sel_dec s1d_sel_dec s2c_sel_end s1d_sel_next s1c_sel_dec s2a_sel_dec s1abort s3begin s1d_sel_end s1_insert s2a_sel_backward s2abort s2_insert s3commit s1c_sel_forward s1c_sel_end s2a_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist

starting permutation: s3_insert s1begin s3begin s3abort s2begin s1d_sel_dec s3begin s3_insert s1d_sel_forward s2a_sel_dec s2commit s2a_sel_backward s1d_sel_next s2a_sel_prior s1a_sel_dec s1d_sel_end s1commit s2a_sel_prior s3a_sel_dec s1a_sel_forward s2begin s3d_sel_dec s2a_sel_end s3b_sel_dec s3a_sel_prior s3a_sel_forward s2_insert s2a_sel_dec s1a_sel_backward s2a_sel_next s2a_sel_end s3d_sel_end s1a_sel_end s3b_sel_end s3a_sel_end s2abort s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s1commit: COMMIT;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(28 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2a_sel_end: CLOSE s2a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s3_insert s2begin s2d_sel_dec s2d_sel_forward s2a_sel_dec s2commit s2d_sel_next s2d_sel_forward s2a_sel_prior s2begin s2d_sel_forward s2d_sel_end s2_insert s2commit s2a_sel_end s3begin s3c_sel_dec s1_insert s2begin s3c_sel_next s3_insert s2commit s2begin s2d_sel_dec s1_insert s3d_sel_dec s3d_sel_forward s3c_sel_forward s2_insert s2d_sel_forward s2d_sel_end s3d_sel_end s3c_sel_end s2abort s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s2a_sel_end: CLOSE s2a_sel;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
67|1|11
68|1|12
69|1|13
70|1|14
71|1|15
72|1|16
73|1|17
74|1|18
75|1|19
76|1|20
(76 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
(38 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2_insert s3_insert s2_insert s3begin s3_insert s3abort s2_insert s1_insert s1_insert s2_insert s1begin s2begin s2b_sel_dec s1commit s2b_sel_prior s3begin s3_insert s3commit s3_insert s1begin s1d_sel_dec s2a_sel_dec s1d_sel_forward s2commit s1b_sel_dec s3begin s2b_sel_backward s2begin s2b_sel_forward s1b_sel_backward s2a_sel_end s2b_sel_end s1d_sel_end s1b_sel_end s1abort s2abort s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b|  c
---+-+---
  1|2|  1
  2|2|  2
  3|2|  3
  4|2|  4
  5|2|  5
  6|2|  6
  7|2|  7
  8|2|  8
  9|2|  9
 10|2| 10
 11|2| 11
 12|2| 12
 13|2| 13
 14|2| 14
 15|2| 15
 16|2| 16
 17|2| 17
 18|2| 18
 19|2| 19
 20|3|  1
 21|3|  2
 22|3|  3
 23|3|  4
 24|3|  5
 25|3|  6
 26|3|  7
 27|3|  8
 28|3|  9
 29|3| 10
 30|3| 11
 31|3| 12
 32|3| 13
 33|3| 14
 34|3| 15
 35|3| 16
 36|3| 17
 37|3| 18
 38|3| 19
 39|3| 20
 40|3| 21
 41|3| 22
 42|3| 23
 43|3| 24
 44|3| 25
 45|3| 26
 46|3| 27
 47|3| 28
 48|2| 20
 49|2| 21
 50|2| 22
 51|2| 23
 52|2| 24
 53|2| 25
 54|2| 26
 55|2| 27
 56|2| 28
 57|2| 29
 58|2| 30
 59|2| 31
 60|2| 32
 61|2| 33
 62|2| 34
 63|2| 35
 64|2| 36
 65|2| 37
 66|2| 38
 95|2| 39
 96|2| 40
 97|2| 41
 98|2| 42
 99|2| 43
100|2| 44
101|2| 45
102|2| 46
103|2| 47
104|2| 48
105|2| 49
106|2| 50
107|2| 51
108|2| 52
109|2| 53
110|2| 54
111|2| 55
112|2| 56
113|2| 57
114|1|  1
115|1|  2
116|1|  3
117|1|  4
118|1|  5
119|1|  6
120|1|  7
121|1|  8
122|1|  9
123|1| 10
124|1| 11
125|1| 12
126|1| 13
127|1| 14
128|1| 15
129|1| 16
130|1| 17
131|1| 18
132|1| 19
133|1| 20
134|2| 58
135|2| 59
136|2| 60
137|2| 61
138|2| 62
139|2| 63
140|2| 64
141|2| 65
142|2| 66
143|2| 67
144|2| 68
145|2| 69
146|2| 70
147|2| 71
148|2| 72
149|2| 73
150|2| 74
151|2| 75
152|2| 76
153|3| 57
154|3| 58
155|3| 59
156|3| 60
157|3| 61
158|3| 62
159|3| 63
160|3| 64
161|3| 65
162|3| 66
163|3| 67
164|3| 68
165|3| 69
166|3| 70
167|3| 71
168|3| 72
169|3| 73
170|3| 74
171|3| 75
172|3| 76
173|3| 77
174|3| 78
175|3| 79
176|3| 80
177|3| 81
178|3| 82
179|3| 83
180|3| 84
181|3| 85
182|3| 86
183|3| 87
184|3| 88
185|3| 89
186|3| 90
187|3| 91
188|3| 92
189|3| 93
190|3| 94
191|3| 95
192|3| 96
193|3| 97
194|3| 98
195|3| 99
196|3|100
197|3|101
198|3|102
199|3|103
200|3|104
201|3|105
202|3|106
203|3|107
204|3|108
205|3|109
206|3|110
207|3|111
208|3|112
(180 rows)

step s2commit: COMMIT;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1_insert s3_insert s1begin s1_insert s1a_sel_dec s1a_sel_prior s1a_sel_prior s1_insert s1c_sel_dec s3_insert s1a_sel_end s1c_sel_forward s1d_sel_dec s1c_sel_next s1c_sel_end s1_insert s1commit s2begin s1d_sel_end s1begin s2commit s1_insert s3_insert s2begin s1commit s1begin s3_insert s1_insert s1c_sel_dec s2commit s1c_sel_end s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|1|11
40|1|12
41|1|13
42|1|14
43|1|15
44|1|16
45|1|17
46|1|18
47|1|19
48|1|20
49|1|21
50|1|22
51|1|23
52|1|24
53|1|25
54|1|26
55|1|27
56|1|28
57|1|29
58|1|30
(58 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1begin: BEGIN;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;

starting permutation: s2begin s1_insert s2a_sel_dec s2b_sel_dec s2b_sel_next s1begin s2_insert s3begin s3c_sel_dec s1abort s2a_sel_backward s2a_sel_forward s3c_sel_end s2_insert s2b_sel_backward s3a_sel_dec s3d_sel_dec s1_insert s2d_sel_dec s1_insert s3a_sel_prior s3a_sel_next s2commit s2_insert s2a_sel_backward s3a_sel_end s3commit s2d_sel_next s2_insert s2a_sel_end s2b_sel_end s3d_sel_end s2d_sel_end
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s2a_sel" already exists
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s3commit: COMMIT;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s3_insert s3begin s3d_sel_dec s1_insert s3a_sel_dec s3a_sel_next s3d_sel_forward s3commit s2begin s1_insert s3_insert s3_insert s2c_sel_dec s3a_sel_end s2_insert s2b_sel_dec s3_insert s1_insert s3d_sel_forward s2b_sel_end s2abort s2c_sel_end s3d_sel_end s2begin s2d_sel_dec s2_insert s2a_sel_dec s2d_sel_next s3_insert s2a_sel_prior s2a_sel_end s2d_sel_end s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3commit: COMMIT;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;

starting permutation: s1begin s1a_sel_dec s1a_sel_backward s1commit s3begin s1begin s1a_sel_backward s1a_sel_forward s3a_sel_dec s3a_sel_forward s2_insert s1d_sel_dec s1a_sel_forward s3a_sel_next s2_insert s3c_sel_dec s3d_sel_dec s3abort s3a_sel_next s2begin s3begin s3a_sel_next s3a_sel_prior s2abort s3commit s2begin s1a_sel_forward s2_insert s2abort s1abort s1a_sel_end s3d_sel_end s3c_sel_end s3a_sel_end s1d_sel_end
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3commit: COMMIT;
step s2begin: BEGIN;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist

starting permutation: s1begin s2begin s1d_sel_dec s1_insert s1abort s1_insert s1_insert s2a_sel_dec s3_insert s2a_sel_backward s1_insert s2b_sel_dec s2b_sel_prior s2c_sel_dec s2c_sel_forward s1d_sel_forward s2abort s2begin s2b_sel_prior s2b_sel_end s2d_sel_dec s2c_sel_next s2d_sel_forward s1d_sel_next s2a_sel_forward s2a_sel_next s1d_sel_forward s2a_sel_prior s3_insert s2c_sel_next s1d_sel_end s2d_sel_end s2a_sel_end s2c_sel_end s2commit
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|1|21
22|1|22
23|1|23
24|1|24
25|1|25
26|1|26
27|1|27
28|1|28
29|1|29
30|1|30
31|3| 1
32|3| 2
33|3| 3
34|3| 4
35|3| 5
36|3| 6
37|3| 7
38|3| 8
39|3| 9
40|3|10
41|3|11
42|3|12
43|3|13
44|3|14
45|3|15
46|3|16
47|3|17
48|3|18
49|3|19
50|3|20
51|3|21
52|3|22
53|3|23
54|3|24
55|3|25
56|3|26
57|3|27
58|3|28
59|1|31
60|1|32
61|1|33
62|1|34
63|1|35
64|1|36
65|1|37
66|1|38
67|1|39
68|1|40
(58 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;

starting permutation: s3_insert s2_insert s3_insert s2_insert s3_insert s2_insert s3begin s3commit s3_insert s2begin s3_insert s3begin s2a_sel_dec s3c_sel_dec s2c_sel_dec s3c_sel_forward s2d_sel_dec s2commit s2a_sel_backward s2c_sel_forward s3commit s2a_sel_forward s2d_sel_next s3c_sel_forward s1begin s2c_sel_forward s2c_sel_next s2c_sel_forward s2d_sel_next s2d_sel_forward s2d_sel_end s2a_sel_end s2c_sel_end s3c_sel_end s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|2|  1
 30|2|  2
 31|2|  3
 32|2|  4
 33|2|  5
 34|2|  6
 35|2|  7
 36|2|  8
 37|2|  9
 38|2| 10
 39|2| 11
 40|2| 12
 41|2| 13
 42|2| 14
 43|2| 15
 44|2| 16
 45|2| 17
 46|2| 18
 47|2| 19
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|2| 20
 77|2| 21
 78|2| 22
 79|2| 23
 80|2| 24
 81|2| 25
 82|2| 26
 83|2| 27
 84|2| 28
 85|2| 29
 86|2| 30
 87|2| 31
 88|2| 32
 89|2| 33
 90|2| 34
 91|2| 35
 92|2| 36
 93|2| 37
 94|2| 38
 95|3| 57
 96|3| 58
 97|3| 59
 98|3| 60
 99|3| 61
100|3| 62
101|3| 63
102|3| 64
103|3| 65
104|3| 66
105|3| 67
106|3| 68
107|3| 69
108|3| 70
109|3| 71
110|3| 72
111|3| 73
112|3| 74
113|3| 75
114|3| 76
115|3| 77
116|3| 78
117|3| 79
118|3| 80
119|3| 81
120|3| 82
121|3| 83
122|3| 84
123|2| 39
124|2| 40
125|2| 41
126|2| 42
127|2| 43
128|2| 44
129|2| 45
130|2| 46
131|2| 47
132|2| 48
133|2| 49
134|2| 50
135|2| 51
136|2| 52
137|2| 53
138|2| 54
139|2| 55
140|2| 56
141|2| 57
142|3| 85
143|3| 86
144|3| 87
145|3| 88
146|3| 89
147|3| 90
148|3| 91
149|3| 92
150|3| 93
151|3| 94
152|3| 95
153|3| 96
154|3| 97
155|3| 98
156|3| 99
157|3|100
158|3|101
159|3|102
160|3|103
161|3|104
162|3|105
163|3|106
164|3|107
165|3|108
166|3|109
167|3|110
168|3|111
169|3|112
170|3|113
171|3|114
172|3|115
173|3|116
174|3|117
175|3|118
176|3|119
177|3|120
178|3|121
179|3|122
180|3|123
181|3|124
182|3|125
183|3|126
184|3|127
185|3|128
186|3|129
187|3|130
188|3|131
189|3|132
190|3|133
191|3|134
192|3|135
193|3|136
194|3|137
195|3|138
196|3|139
197|3|140
(197 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|2|  1
 30|2|  2
 31|2|  3
 32|2|  4
 33|2|  5
 34|2|  6
 35|2|  7
 36|2|  8
 37|2|  9
 38|2| 10
 39|2| 11
 40|2| 12
 41|2| 13
 42|2| 14
 43|2| 15
 44|2| 16
 45|2| 17
 46|2| 18
 47|2| 19
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|2| 20
 77|2| 21
 78|2| 22
 79|2| 23
 80|2| 24
 81|2| 25
 82|2| 26
 83|2| 27
 84|2| 28
 85|2| 29
 86|2| 30
 87|2| 31
 88|2| 32
 89|2| 33
 90|2| 34
 91|2| 35
 92|2| 36
 93|2| 37
 94|2| 38
 95|3| 57
 96|3| 58
 97|3| 59
 98|3| 60
 99|3| 61
100|3| 62
101|3| 63
102|3| 64
103|3| 65
104|3| 66
105|3| 67
106|3| 68
107|3| 69
108|3| 70
109|3| 71
110|3| 72
111|3| 73
112|3| 74
113|3| 75
114|3| 76
115|3| 77
116|3| 78
117|3| 79
118|3| 80
119|3| 81
120|3| 82
121|3| 83
122|3| 84
123|2| 39
124|2| 40
125|2| 41
126|2| 42
127|2| 43
128|2| 44
129|2| 45
130|2| 46
131|2| 47
132|2| 48
133|2| 49
134|2| 50
135|2| 51
136|2| 52
137|2| 53
138|2| 54
139|2| 55
140|2| 56
141|2| 57
142|3| 85
143|3| 86
144|3| 87
145|3| 88
146|3| 89
147|3| 90
148|3| 91
149|3| 92
150|3| 93
151|3| 94
152|3| 95
153|3| 96
154|3| 97
155|3| 98
156|3| 99
157|3|100
158|3|101
159|3|102
160|3|103
161|3|104
162|3|105
163|3|106
164|3|107
165|3|108
166|3|109
167|3|110
168|3|111
169|3|112
170|3|113
171|3|114
172|3|115
173|3|116
174|3|117
175|3|118
176|3|119
177|3|120
178|3|121
179|3|122
180|3|123
181|3|124
182|3|125
183|3|126
184|3|127
185|3|128
186|3|129
187|3|130
188|3|131
189|3|132
190|3|133
191|3|134
192|3|135
193|3|136
194|3|137
195|3|138
196|3|139
197|3|140
(197 rows)

step s3commit: COMMIT;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|2|  1
 30|2|  2
 31|2|  3
 32|2|  4
 33|2|  5
 34|2|  6
 35|2|  7
 36|2|  8
 37|2|  9
 38|2| 10
 39|2| 11
 40|2| 12
 41|2| 13
 42|2| 14
 43|2| 15
 44|2| 16
 45|2| 17
 46|2| 18
 47|2| 19
 48|3| 29
 49|3| 30
 50|3| 31
 51|3| 32
 52|3| 33
 53|3| 34
 54|3| 35
 55|3| 36
 56|3| 37
 57|3| 38
 58|3| 39
 59|3| 40
 60|3| 41
 61|3| 42
 62|3| 43
 63|3| 44
 64|3| 45
 65|3| 46
 66|3| 47
 67|3| 48
 68|3| 49
 69|3| 50
 70|3| 51
 71|3| 52
 72|3| 53
 73|3| 54
 74|3| 55
 75|3| 56
 76|2| 20
 77|2| 21
 78|2| 22
 79|2| 23
 80|2| 24
 81|2| 25
 82|2| 26
 83|2| 27
 84|2| 28
 85|2| 29
 86|2| 30
 87|2| 31
 88|2| 32
 89|2| 33
 90|2| 34
 91|2| 35
 92|2| 36
 93|2| 37
 94|2| 38
 95|3| 57
 96|3| 58
 97|3| 59
 98|3| 60
 99|3| 61
100|3| 62
101|3| 63
102|3| 64
103|3| 65
104|3| 66
105|3| 67
106|3| 68
107|3| 69
108|3| 70
109|3| 71
110|3| 72
111|3| 73
112|3| 74
113|3| 75
114|3| 76
115|3| 77
116|3| 78
117|3| 79
118|3| 80
119|3| 81
120|3| 82
121|3| 83
122|3| 84
123|2| 39
124|2| 40
125|2| 41
126|2| 42
127|2| 43
128|2| 44
129|2| 45
130|2| 46
131|2| 47
132|2| 48
133|2| 49
134|2| 50
135|2| 51
136|2| 52
137|2| 53
138|2| 54
139|2| 55
140|2| 56
141|2| 57
142|3| 85
143|3| 86
144|3| 87
145|3| 88
146|3| 89
147|3| 90
148|3| 91
149|3| 92
150|3| 93
151|3| 94
152|3| 95
153|3| 96
154|3| 97
155|3| 98
156|3| 99
157|3|100
158|3|101
159|3|102
160|3|103
161|3|104
162|3|105
163|3|106
164|3|107
165|3|108
166|3|109
167|3|110
168|3|111
169|3|112
170|3|113
171|3|114
172|3|115
173|3|116
174|3|117
175|3|118
176|3|119
177|3|120
178|3|121
179|3|122
180|3|123
181|3|124
182|3|125
183|3|126
184|3|127
185|3|128
186|3|129
187|3|130
188|3|131
189|3|132
190|3|133
191|3|134
192|3|135
193|3|136
194|3|137
195|3|138
196|3|139
197|3|140
(197 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1commit: COMMIT;

starting permutation: s1begin s1abort s2begin s2commit s1begin s1abort s1begin s1commit s3_insert s3_insert s2_insert s2_insert s3_insert s2_insert s1begin s1_insert s3_insert s1b_sel_dec s1_insert s1b_sel_end s3begin s3commit s1a_sel_dec s1d_sel_dec s3begin s3b_sel_dec s1a_sel_next s2begin s1d_sel_end s2abort s3b_sel_end s1a_sel_end s3abort s1abort
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
step s2abort: ROLLBACK;
step s3b_sel_end: CLOSE s3b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2begin s2abort s3begin s3b_sel_dec s3abort s3b_sel_next s3_insert s3_insert s3begin s3b_sel_prior s2begin s2a_sel_dec s2_insert s2d_sel_dec s3c_sel_dec s3b_sel_next s3commit s2abort s2a_sel_next s1begin s2_insert s2d_sel_next s2a_sel_next s3begin s3c_sel_end s2d_sel_next s2a_sel_prior s3a_sel_dec s2d_sel_end s3b_sel_backward s3b_sel_end s3a_sel_end s2a_sel_end s3commit s1commit
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s2abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3begin: BEGIN;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3commit: COMMIT;
step s1commit: COMMIT;

starting permutation: s2_insert s2_insert s3_insert s3_insert s1_insert s1_insert s2_insert s2_insert s1_insert s3begin s2begin s2abort s3c_sel_dec s1_insert s2begin s2_insert s2a_sel_dec s2a_sel_next s2a_sel_end s3c_sel_end s3commit s1_insert s3_insert s2b_sel_dec s2b_sel_backward s2c_sel_dec s2_insert s2b_sel_backward s2abort s1_insert s2c_sel_end s2b_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist

starting permutation: s3_insert s3begin s1begin s2begin s2_insert s2d_sel_dec s2b_sel_dec s2commit s3d_sel_dec s3abort s2d_sel_forward s3_insert s2b_sel_backward s3d_sel_next s1c_sel_dec s1a_sel_dec s3d_sel_next s1c_sel_next s2b_sel_prior s1c_sel_next s1_insert s2b_sel_backward s1a_sel_end s2b_sel_backward s2_insert s1c_sel_end s1c_sel_dec s3d_sel_end s2d_sel_next s2d_sel_next s2d_sel_end s1c_sel_end s2b_sel_end s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s3begin s3commit s2begin s2d_sel_dec s2a_sel_dec s2a_sel_prior s2a_sel_end s2d_sel_forward s1begin s3begin s2commit s1abort s3a_sel_dec s3_insert s3d_sel_dec s3c_sel_dec s2_insert s3d_sel_end s1_insert s2d_sel_next s3d_sel_dec s3a_sel_forward s3a_sel_prior s2d_sel_forward s1begin s1a_sel_dec s3abort s1a_sel_end s1b_sel_dec s1b_sel_end s3d_sel_end s2d_sel_end s3a_sel_end s3c_sel_end s1abort
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3begin: BEGIN;
step s2commit: COMMIT;
step s1abort: ROLLBACK;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s3begin s1_insert s3d_sel_dec s3d_sel_end s3commit s2_insert s3_insert s2begin s2_insert s2d_sel_dec s2_insert s2d_sel_end s2d_sel_dec s2d_sel_next s2_insert s2d_sel_next s2c_sel_dec s3_insert s1begin s1a_sel_dec s2commit s1a_sel_forward s2c_sel_end s1a_sel_backward s1commit s2d_sel_forward s3begin s3commit s1a_sel_backward s2d_sel_end s1a_sel_end
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|2| 1
 12|2| 2
 13|2| 3
 14|2| 4
 15|2| 5
 16|2| 6
 17|2| 7
 18|2| 8
 19|2| 9
 20|2|10
 21|2|11
 22|2|12
 23|2|13
 24|2|14
 25|2|15
 26|2|16
 27|2|17
 28|2|18
 29|2|19
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
115|3|29
116|3|30
117|3|31
118|3|32
119|3|33
120|3|34
121|3|35
122|3|36
123|3|37
124|3|38
125|3|39
126|3|40
127|3|41
128|3|42
129|3|43
130|3|44
131|3|45
132|3|46
133|3|47
134|3|48
135|3|49
136|3|50
137|3|51
138|3|52
139|3|53
140|3|54
141|3|55
142|3|56
(85 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
  a|b| c
---+-+--
142|3|56
141|3|55
140|3|54
139|3|53
138|3|52
137|3|51
136|3|50
135|3|49
134|3|48
133|3|47
132|3|46
131|3|45
130|3|44
129|3|43
128|3|42
127|3|41
126|3|40
125|3|39
124|3|38
123|3|37
122|3|36
121|3|35
120|3|34
119|3|33
118|3|32
117|3|31
116|3|30
115|3|29
 57|3|28
 56|3|27
 55|3|26
 54|3|25
 53|3|24
 52|3|23
 51|3|22
 50|3|21
 49|3|20
 48|3|19
 47|3|18
 46|3|17
 45|3|16
 44|3|15
 43|3|14
 42|3|13
 41|3|12
 40|3|11
 39|3|10
 38|3| 9
 37|3| 8
 36|3| 7
 35|3| 6
 34|3| 5
 33|3| 4
 32|3| 3
 31|3| 2
 30|3| 1
 29|2|19
 28|2|18
 27|2|17
 26|2|16
 25|2|15
 24|2|14
 23|2|13
 22|2|12
 21|2|11
 20|2|10
 19|2| 9
 18|2| 8
 17|2| 7
 16|2| 6
 15|2| 5
 14|2| 4
 13|2| 3
 12|2| 2
 11|2| 1
 10|1|10
  9|1| 9
  8|1| 8
  7|1| 7
  6|1| 6
  5|1| 5
  4|1| 4
  3|1| 3
  2|1| 2
  1|1| 1
(85 rows)

step s1commit: COMMIT;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;

starting permutation: s1_insert s2_insert s1_insert s2_insert s3begin s3abort s3begin s2begin s3abort s2_insert s2abort s1_insert s1_insert s1begin s1c_sel_dec s3_insert s1d_sel_dec s1c_sel_end s3_insert s1d_sel_forward s1d_sel_forward s1d_sel_end s1a_sel_dec s3begin s3_insert s3abort s3begin s1a_sel_prior s3d_sel_dec s3a_sel_dec s3a_sel_end s3d_sel_end s1a_sel_end s1abort s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|2| 1
 12|2| 2
 13|2| 3
 14|2| 4
 15|2| 5
 16|2| 6
 17|2| 7
 18|2| 8
 19|2| 9
 20|2|10
 21|2|11
 22|2|12
 23|2|13
 24|2|14
 25|2|15
 26|2|16
 27|2|17
 28|2|18
 29|2|19
 30|1|11
 31|1|12
 32|1|13
 33|1|14
 34|1|15
 35|1|16
 36|1|17
 37|1|18
 38|1|19
 39|1|20
 40|2|20
 41|2|21
 42|2|22
 43|2|23
 44|2|24
 45|2|25
 46|2|26
 47|2|27
 48|2|28
 49|2|29
 50|2|30
 51|2|31
 52|2|32
 53|2|33
 54|2|34
 55|2|35
 56|2|36
 57|2|37
 58|2|38
 78|1|21
 79|1|22
 80|1|23
 81|1|24
 82|1|25
 83|1|26
 84|1|27
 85|1|28
 86|1|29
 87|1|30
 88|1|31
 89|1|32
 90|1|33
 91|1|34
 92|1|35
 93|1|36
 94|1|37
 95|1|38
 96|1|39
 97|1|40
 98|3| 1
 99|3| 2
100|3| 3
101|3| 4
102|3| 5
103|3| 6
104|3| 7
105|3| 8
106|3| 9
107|3|10
108|3|11
109|3|12
110|3|13
111|3|14
112|3|15
113|3|16
114|3|17
115|3|18
116|3|19
117|3|20
118|3|21
119|3|22
120|3|23
121|3|24
122|3|25
123|3|26
124|3|27
125|3|28
(106 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1_insert s3_insert s2begin s3begin s1_insert s1begin s3commit s3_insert s1d_sel_dec s2d_sel_dec s2a_sel_dec s2a_sel_backward s3begin s3a_sel_dec s3a_sel_end s1a_sel_dec s2a_sel_backward s1commit s3b_sel_dec s1a_sel_end s1d_sel_end s3a_sel_dec s3b_sel_prior s1_insert s3_insert s2commit s3_insert s3b_sel_forward s1_insert s1_insert s3a_sel_end s3b_sel_end s2d_sel_end s2a_sel_end s3abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|1|11
40|1|12
41|1|13
42|1|14
43|1|15
44|1|16
45|1|17
46|1|18
47|1|19
48|1|20
49|3|29
50|3|30
51|3|31
52|3|32
53|3|33
54|3|34
55|3|35
56|3|36
57|3|37
58|3|38
59|3|39
60|3|40
61|3|41
62|3|42
63|3|43
64|3|44
65|3|45
66|3|46
67|3|47
68|3|48
69|3|49
70|3|50
71|3|51
72|3|52
73|3|53
74|3|54
75|3|55
76|3|56
(76 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3abort: ROLLBACK;

starting permutation: s3begin s3abort s3begin s3d_sel_dec s3a_sel_dec s3commit s3a_sel_end s1_insert s3d_sel_end s2_insert s2_insert s2begin s2b_sel_dec s2a_sel_dec s2a_sel_next s2a_sel_end s2_insert s1begin s2b_sel_forward s3_insert s2b_sel_prior s2b_sel_backward s2commit s2b_sel_backward s3begin s2_insert s2b_sel_next s1abort s3_insert s3abort s2b_sel_end
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2a_sel_end: CLOSE s2a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
(48 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
 a|b| c
--+-+--
48|2|38
(1 row)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
47|2|37
46|2|36
45|2|35
44|2|34
43|2|33
42|2|32
41|2|31
40|2|30
39|2|29
38|2|28
37|2|27
36|2|26
35|2|25
34|2|24
33|2|23
32|2|22
31|2|21
30|2|20
29|2|19
28|2|18
27|2|17
26|2|16
25|2|15
24|2|14
23|2|13
22|2|12
21|2|11
20|2|10
19|2| 9
18|2| 8
17|2| 7
16|2| 6
15|2| 5
14|2| 4
13|2| 3
12|2| 2
11|2| 1
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 3|1| 3
 2|1| 2
 1|1| 1
(47 rows)

step s2commit: COMMIT;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist

starting permutation: s3_insert s2_insert s3begin s1begin s3b_sel_dec s1_insert s1abort s3a_sel_dec s3d_sel_dec s3a_sel_end s3a_sel_dec s3b_sel_end s3_insert s2_insert s3commit s3a_sel_next s3begin s3a_sel_forward s3d_sel_end s3a_sel_next s3abort s3_insert s3begin s3commit s3a_sel_forward s3a_sel_backward s3a_sel_forward s3a_sel_end s1_insert s2begin s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3begin: BEGIN;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(46 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
47|2|19
46|2|18
45|2|17
44|2|16
43|2|15
42|2|14
41|2|13
40|2|12
39|2|11
38|2|10
37|2| 9
36|2| 8
35|2| 7
34|2| 6
33|2| 5
32|2| 4
31|2| 3
30|2| 2
29|2| 1
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(47 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(47 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;

starting permutation: s2_insert s1_insert s1_insert s2begin s2commit s1begin s2begin s1_insert s1commit s2a_sel_dec s2a_sel_backward s3begin s3abort s2b_sel_dec s2a_sel_next s2b_sel_forward s2c_sel_dec s2b_sel_forward s2b_sel_backward s2a_sel_backward s3begin s2c_sel_next s2b_sel_end s2a_sel_prior s2commit s2c_sel_next s3_insert s2c_sel_forward s3_insert s2c_sel_next s2c_sel_end s2a_sel_end s3abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|1|21
41|1|22
42|1|23
43|1|24
44|1|25
45|1|26
46|1|27
47|1|28
48|1|29
49|1|30
(49 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
49|1|30
48|1|29
47|1|28
46|1|27
45|1|26
44|1|25
43|1|24
42|1|23
41|1|22
40|1|21
39|1|20
38|1|19
37|1|18
36|1|17
35|1|16
34|1|15
33|1|14
32|1|13
31|1|12
30|1|11
29|1|10
28|1| 9
27|1| 8
26|1| 7
25|1| 6
24|1| 5
23|1| 4
22|1| 3
21|1| 2
20|1| 1
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
 1|2| 1
(49 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
30|1|11
31|1|12
32|1|13
33|1|14
34|1|15
35|1|16
36|1|17
37|1|18
38|1|19
39|1|20
40|1|21
41|1|22
42|1|23
43|1|24
44|1|25
45|1|26
46|1|27
47|1|28
48|1|29
49|1|30
(47 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3abort: ROLLBACK;

starting permutation: s3begin s3commit s2begin s3_insert s3begin s3b_sel_dec s3commit s2c_sel_dec s2b_sel_dec s2b_sel_next s1begin s3b_sel_prior s3begin s3b_sel_forward s2commit s3a_sel_dec s3abort s3a_sel_forward s3a_sel_next s2c_sel_next s2b_sel_backward s3a_sel_end s1c_sel_dec s3begin s3b_sel_forward s1_insert s1b_sel_dec s3_insert s1c_sel_next s2_insert s2c_sel_end s1c_sel_end s1b_sel_end s3b_sel_end s2b_sel_end s3commit s1abort
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1begin: BEGIN;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2commit: COMMIT;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s3begin s3abort s3begin s3a_sel_dec s3c_sel_dec s3abort s3a_sel_forward s3begin s3a_sel_backward s3a_sel_next s2begin s3_insert s2a_sel_dec s3b_sel_dec s3b_sel_next s3a_sel_forward s2commit s3a_sel_backward s2a_sel_prior s2a_sel_prior s3b_sel_end s2a_sel_prior s2a_sel_forward s2a_sel_prior s2a_sel_prior s3d_sel_dec s2a_sel_end s3a_sel_next s3commit s3a_sel_backward s3c_sel_end s3a_sel_end s3d_sel_end
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist

starting permutation: s1begin s3begin s3d_sel_dec s3b_sel_dec s3b_sel_end s3abort s3d_sel_next s1_insert s3d_sel_end s1b_sel_dec s1commit s1_insert s2_insert s1b_sel_backward s1begin s3_insert s3begin s1_insert s3b_sel_dec s3b_sel_prior s1commit s1b_sel_prior s1b_sel_next s1_insert s1begin s1_insert s1b_sel_forward s3abort s1c_sel_dec s1abort s3b_sel_end s1b_sel_end s1c_sel_end
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3abort: ROLLBACK;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist

starting permutation: s1begin s1commit s3_insert s1begin s1commit s1begin s1_insert s1_insert s1_insert s1b_sel_dec s3_insert s3begin s3c_sel_dec s3c_sel_forward s1b_sel_end s2begin s3c_sel_next s3commit s1abort s3c_sel_forward s3begin s1begin s2a_sel_dec s2a_sel_end s1d_sel_dec s1d_sel_end s2commit s1b_sel_dec s3abort s3c_sel_next s1b_sel_end s3c_sel_end s1abort
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
59|3|29
60|3|30
61|3|31
62|3|32
63|3|33
64|3|34
65|3|35
66|3|36
67|3|37
68|3|38
69|3|39
70|3|40
71|3|41
72|3|42
73|3|43
74|3|44
75|3|45
76|3|46
77|3|47
78|3|48
79|3|49
80|3|50
81|3|51
82|3|52
83|3|53
84|3|54
85|3|55
86|3|56
(56 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s2begin: BEGIN;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s1abort: ROLLBACK;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s1begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s2commit: COMMIT;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1abort: ROLLBACK;

starting permutation: s1begin s2begin s3_insert s1c_sel_dec s2b_sel_dec s1c_sel_next s2abort s3_insert s1c_sel_next s1a_sel_dec s2b_sel_backward s1a_sel_backward s2b_sel_prior s1d_sel_dec s1b_sel_dec s2b_sel_backward s1a_sel_prior s3_insert s1b_sel_prior s1a_sel_end s2b_sel_next s2b_sel_next s2b_sel_prior s2_insert s1c_sel_end s1d_sel_end s1c_sel_dec s1b_sel_prior s1b_sel_forward s2b_sel_backward s1b_sel_end s2b_sel_end s1c_sel_end s1commit
step s1begin: BEGIN;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;

starting permutation: s2begin s3begin s3a_sel_dec s2_insert s2a_sel_dec s2b_sel_dec s3commit s3a_sel_end s2a_sel_prior s3_insert s2a_sel_end s2b_sel_next s1_insert s3_insert s2commit s1_insert s2b_sel_end s1_insert s1begin s3_insert s1b_sel_dec s1d_sel_dec s1commit s1d_sel_forward s2begin s2commit s3begin s3c_sel_dec s3d_sel_dec s3d_sel_forward s1d_sel_end s1b_sel_end s3c_sel_end s3d_sel_end s3commit
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|1| 1
 49|1| 2
 50|1| 3
 51|1| 4
 52|1| 5
 53|1| 6
 54|1| 7
 55|1| 8
 56|1| 9
 57|1|10
 58|3|29
 59|3|30
 60|3|31
 61|3|32
 62|3|33
 63|3|34
 64|3|35
 65|3|36
 66|3|37
 67|3|38
 68|3|39
 69|3|40
 70|3|41
 71|3|42
 72|3|43
 73|3|44
 74|3|45
 75|3|46
 76|3|47
 77|3|48
 78|3|49
 79|3|50
 80|3|51
 81|3|52
 82|3|53
 83|3|54
 84|3|55
 85|3|56
 86|1|11
 87|1|12
 88|1|13
 89|1|14
 90|1|15
 91|1|16
 92|1|17
 93|1|18
 94|1|19
 95|1|20
 96|1|21
 97|1|22
 98|1|23
 99|1|24
100|1|25
101|1|26
102|1|27
103|1|28
104|1|29
105|1|30
106|3|57
107|3|58
108|3|59
109|3|60
110|3|61
111|3|62
112|3|63
113|3|64
114|3|65
115|3|66
116|3|67
117|3|68
118|3|69
119|3|70
120|3|71
121|3|72
122|3|73
123|3|74
124|3|75
125|3|76
126|3|77
127|3|78
128|3|79
129|3|80
130|3|81
131|3|82
132|3|83
133|3|84
(133 rows)

step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;

starting permutation: s2begin s1_insert s1begin s2commit s1c_sel_dec s1commit s2begin s2abort s1begin s1c_sel_forward s2_insert s1c_sel_forward s1c_sel_forward s2begin s1a_sel_dec s2c_sel_dec s1c_sel_forward s1_insert s2c_sel_forward s2abort s1abort s3begin s2begin s1c_sel_end s2a_sel_dec s3b_sel_dec s1_insert s3c_sel_dec s2c_sel_forward s3b_sel_forward s3c_sel_end s3b_sel_end s1a_sel_end s2a_sel_end s2c_sel_end s2abort s3abort
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s2commit: COMMIT;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
(29 rows)

step s2abort: ROLLBACK;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
(29 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s3begin s3abort s2begin s2d_sel_dec s2b_sel_dec s2b_sel_backward s2b_sel_end s2d_sel_next s2d_sel_forward s2d_sel_next s2d_sel_next s2_insert s2d_sel_end s2c_sel_dec s2c_sel_forward s1begin s2d_sel_dec s1_insert s1commit s1_insert s2d_sel_next s1_insert s3begin s2a_sel_dec s2a_sel_backward s3c_sel_dec s2d_sel_forward s3_insert s2a_sel_next s2d_sel_forward s3c_sel_end s2d_sel_end s2a_sel_end s2c_sel_end s3abort s2abort
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s3begin s1begin s1c_sel_dec s1c_sel_end s3b_sel_dec s1c_sel_dec s2begin s2c_sel_dec s2b_sel_dec s3b_sel_forward s2commit s2c_sel_next s2b_sel_backward s3b_sel_backward s2c_sel_end s3b_sel_forward s1c_sel_next s3b_sel_prior s1c_sel_next s2b_sel_backward s3b_sel_backward s1c_sel_next s2b_sel_prior s2b_sel_backward s3b_sel_prior s1_insert s3abort s2_insert s3b_sel_next s1_insert s3b_sel_end s2b_sel_end s1c_sel_end s1abort
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s1abort: ROLLBACK;

starting permutation: s1begin s1a_sel_dec s1commit s3_insert s3_insert s3_insert s3begin s1a_sel_backward s3c_sel_dec s1begin s2begin s1a_sel_forward s1a_sel_prior s3abort s1a_sel_end s1abort s1begin s1abort s2commit s3begin s3d_sel_dec s3_insert s3c_sel_forward s2begin s3commit s3d_sel_forward s2d_sel_dec s3c_sel_forward s2c_sel_dec s1_insert s2c_sel_end s2d_sel_end s3d_sel_end s3c_sel_end s2commit
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2begin: BEGIN;
step s3commit: COMMIT;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2commit: COMMIT;

starting permutation: s3_insert s1_insert s2begin s1_insert s2abort s1begin s3_insert s1b_sel_dec s1b_sel_prior s1b_sel_prior s3_insert s1b_sel_prior s1c_sel_dec s1a_sel_dec s1a_sel_backward s1d_sel_dec s1c_sel_next s1commit s1b_sel_forward s1c_sel_end s1b_sel_backward s1a_sel_end s1_insert s3begin s3_insert s3_insert s1b_sel_next s3abort s2begin s2abort s1b_sel_end s1d_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist

starting permutation: s2_insert s1begin s1commit s1_insert s3_insert s1_insert s1begin s3_insert s1commit s1begin s3begin s3c_sel_dec s1b_sel_dec s2_insert s1b_sel_next s3c_sel_next s1d_sel_dec s3abort s1b_sel_next s3begin s3c_sel_next s1c_sel_dec s1b_sel_next s3a_sel_dec s1a_sel_dec s1d_sel_forward s3d_sel_dec s1_insert s1c_sel_forward s1b_sel_end s1a_sel_end s1c_sel_end s3d_sel_end s3c_sel_end s3a_sel_end s1d_sel_end s1commit s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1commit: COMMIT;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s3begin: BEGIN;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
3|2|3
(1 row)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|1| 1
 21|1| 2
 22|1| 3
 23|1| 4
 24|1| 5
 25|1| 6
 26|1| 7
 27|1| 8
 28|1| 9
 29|1|10
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
(114 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|1| 1
 21|1| 2
 22|1| 3
 23|1| 4
 24|1| 5
 25|1| 6
 26|1| 7
 27|1| 8
 28|1| 9
 29|1|10
 30|3| 1
 31|3| 2
 32|3| 3
 33|3| 4
 34|3| 5
 35|3| 6
 36|3| 7
 37|3| 8
 38|3| 9
 39|3|10
 40|3|11
 41|3|12
 42|3|13
 43|3|14
 44|3|15
 45|3|16
 46|3|17
 47|3|18
 48|3|19
 49|3|20
 50|3|21
 51|3|22
 52|3|23
 53|3|24
 54|3|25
 55|3|26
 56|3|27
 57|3|28
 58|1|11
 59|1|12
 60|1|13
 61|1|14
 62|1|15
 63|1|16
 64|1|17
 65|1|18
 66|1|19
 67|1|20
 68|3|29
 69|3|30
 70|3|31
 71|3|32
 72|3|33
 73|3|34
 74|3|35
 75|3|36
 76|3|37
 77|3|38
 78|3|39
 79|3|40
 80|3|41
 81|3|42
 82|3|43
 83|3|44
 84|3|45
 85|3|46
 86|3|47
 87|3|48
 88|3|49
 89|3|50
 90|3|51
 91|3|52
 92|3|53
 93|3|54
 94|3|55
 95|3|56
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
(114 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s1_insert s1_insert s1_insert s3begin s3abort s3begin s3abort s1begin s1commit s2begin s2_insert s3begin s3abort s3_insert s2a_sel_dec s2a_sel_prior s2_insert s2abort s3_insert s2a_sel_prior s2a_sel_prior s2_insert s3begin s3_insert s1begin s2a_sel_end s3d_sel_dec s1c_sel_dec s1c_sel_next s1d_sel_dec s1c_sel_end s3d_sel_end s1d_sel_end s1commit s3abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1commit: COMMIT;
step s3abort: ROLLBACK;

starting permutation: s3begin s2_insert s3d_sel_dec s3commit s3_insert s2begin s1_insert s2c_sel_dec s2d_sel_dec s1_insert s2c_sel_end s2c_sel_dec s2a_sel_dec s3begin s2_insert s3d_sel_next s2_insert s2d_sel_end s3d_sel_end s2c_sel_forward s2a_sel_end s3d_sel_dec s2c_sel_forward s2commit s3abort s2_insert s2_insert s3d_sel_next s1begin s2c_sel_end s3d_sel_end s1commit
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|1| 1
49|1| 2
50|1| 3
51|1| 4
52|1| 5
53|1| 6
54|1| 7
55|1| 8
56|1| 9
57|1|10
58|1|11
59|1|12
60|1|13
61|1|14
62|1|15
63|1|16
64|1|17
65|1|18
66|1|19
67|1|20
(67 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1commit: COMMIT;

starting permutation: s3_insert s2begin s2_insert s2c_sel_dec s2a_sel_dec s2c_sel_end s2a_sel_forward s3begin s3a_sel_dec s3d_sel_dec s2d_sel_dec s2a_sel_prior s3a_sel_end s3abort s2a_sel_forward s3d_sel_forward s3begin s2d_sel_next s3d_sel_end s3a_sel_dec s1_insert s3a_sel_forward s2b_sel_dec s3_insert s3a_sel_end s3b_sel_dec s2b_sel_end s1_insert s3_insert s3d_sel_dec s3b_sel_end s3d_sel_end s2a_sel_end s2d_sel_end s2abort s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(47 rows)

step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
47|2|19
(1 row)

step s3a_sel_end: CLOSE s3a_sel;
step s3abort: ROLLBACK;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3begin: BEGIN;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2_insert s3_insert s3_insert s1begin s1c_sel_dec s1commit s1c_sel_next s1c_sel_end s2begin s1begin s2commit s1_insert s1c_sel_dec s1c_sel_forward s1b_sel_dec s2begin s1b_sel_backward s1c_sel_next s2_insert s2a_sel_dec s1b_sel_end s2d_sel_dec s2a_sel_backward s2_insert s2a_sel_prior s2a_sel_prior s2a_sel_forward s1b_sel_dec s2_insert s1c_sel_forward s2a_sel_end s2d_sel_end s1c_sel_end s1b_sel_end s2abort s1commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1c_sel_end: CLOSE s1c_sel;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
48|3|29
49|3|30
50|3|31
51|3|32
52|3|33
53|3|34
54|3|35
55|3|36
56|3|37
57|3|38
58|3|39
59|3|40
60|3|41
61|3|42
62|3|43
63|3|44
64|3|45
65|3|46
66|3|47
67|3|48
68|3|49
69|3|50
70|3|51
71|3|52
72|3|53
73|3|54
74|3|55
75|3|56
76|1| 1
77|1| 2
78|1| 3
79|1| 4
80|1| 5
81|1| 6
82|1| 7
83|1| 8
84|1| 9
85|1|10
(85 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|3|29
 49|3|30
 50|3|31
 51|3|32
 52|3|33
 53|3|34
 54|3|35
 55|3|36
 56|3|37
 57|3|38
 58|3|39
 59|3|40
 60|3|41
 61|3|42
 62|3|43
 63|3|44
 64|3|45
 65|3|46
 66|3|47
 67|3|48
 68|3|49
 69|3|50
 70|3|51
 71|3|52
 72|3|53
 73|3|54
 74|3|55
 75|3|56
 86|2|20
 87|2|21
 88|2|22
 89|2|23
 90|2|24
 91|2|25
 92|2|26
 93|2|27
 94|2|28
 95|2|29
 96|2|30
 97|2|31
 98|2|32
 99|2|33
100|2|34
101|2|35
102|2|36
103|2|37
104|2|38
(94 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s3begin s3_insert s1_insert s3b_sel_dec s3abort s3b_sel_forward s3begin s3b_sel_prior s3b_sel_end s2_insert s3commit s3_insert s1begin s3begin s3abort s3begin s1_insert s1commit s1_insert s3d_sel_dec s2begin s2_insert s1begin s3a_sel_dec s1_insert s3b_sel_dec s3abort s1abort s3begin s3b_sel_next s3b_sel_end s3a_sel_end s3d_sel_end s3abort s2commit
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s3begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s3begin s1begin s1c_sel_dec s1c_sel_next s3a_sel_dec s1c_sel_end s3_insert s1a_sel_dec s2begin s3d_sel_dec s2_insert s3a_sel_end s3a_sel_dec s3_insert s2commit s3d_sel_forward s2_insert s1commit s3commit s3d_sel_end s3_insert s3a_sel_next s1a_sel_prior s1a_sel_forward s1a_sel_prior s3a_sel_forward s3a_sel_prior s3a_sel_forward s3_insert s3a_sel_next s3a_sel_end s1a_sel_end
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s3commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
28|3|28
(1 row)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;

starting permutation: s1_insert s1begin s1d_sel_dec s1d_sel_forward s1abort s1d_sel_next s3begin s3abort s1begin s1d_sel_next s1commit s1_insert s3_insert s3begin s1_insert s3d_sel_dec s3b_sel_dec s1_insert s3b_sel_forward s3abort s3b_sel_next s2_insert s3b_sel_end s2begin s2commit s1begin s2begin s1d_sel_next s1commit s3d_sel_end s1d_sel_end s2commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s1abort: ROLLBACK;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|3| 1
22|3| 2
23|3| 3
24|3| 4
25|3| 5
26|3| 6
27|3| 7
28|3| 8
29|3| 9
30|3|10
31|3|11
32|3|12
33|3|13
34|3|14
35|3|15
36|3|16
37|3|17
38|3|18
39|3|19
40|3|20
41|3|21
42|3|22
43|3|23
44|3|24
45|3|25
46|3|26
47|3|27
48|3|28
49|1|21
50|1|22
51|1|23
52|1|24
53|1|25
54|1|26
55|1|27
56|1|28
57|1|29
58|1|30
(58 rows)

step s3abort: ROLLBACK;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2commit: COMMIT;

starting permutation: s2begin s1_insert s2abort s1_insert s2_insert s3begin s3b_sel_dec s1_insert s3b_sel_next s3c_sel_dec s3b_sel_end s3c_sel_next s3_insert s3c_sel_next s3c_sel_end s3_insert s3_insert s2begin s3commit s2_insert s3begin s2d_sel_dec s3commit s2d_sel_forward s2d_sel_end s3begin s2a_sel_dec s2abort s3commit s2a_sel_forward s2a_sel_end
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3c_sel_end: CLOSE s3c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|1|11
 12|1|12
 13|1|13
 14|1|14
 15|1|15
 16|1|16
 17|1|17
 18|1|18
 19|1|19
 20|1|20
 21|2| 1
 22|2| 2
 23|2| 3
 24|2| 4
 25|2| 5
 26|2| 6
 27|2| 7
 28|2| 8
 29|2| 9
 30|2|10
 31|2|11
 32|2|12
 33|2|13
 34|2|14
 35|2|15
 36|2|16
 37|2|17
 38|2|18
 39|2|19
 40|1|21
 41|1|22
 42|1|23
 43|1|24
 44|1|25
 45|1|26
 46|1|27
 47|1|28
 48|1|29
 49|1|30
 50|3| 1
 51|3| 2
 52|3| 3
 53|3| 4
 54|3| 5
 55|3| 6
 56|3| 7
 57|3| 8
 58|3| 9
 59|3|10
 60|3|11
 61|3|12
 62|3|13
 63|3|14
 64|3|15
 65|3|16
 66|3|17
 67|3|18
 68|3|19
 69|3|20
 70|3|21
 71|3|22
 72|3|23
 73|3|24
 74|3|25
 75|3|26
 76|3|27
 77|3|28
 78|3|29
 79|3|30
 80|3|31
 81|3|32
 82|3|33
 83|3|34
 84|3|35
 85|3|36
 86|3|37
 87|3|38
 88|3|39
 89|3|40
 90|3|41
 91|3|42
 92|3|43
 93|3|44
 94|3|45
 95|3|46
 96|3|47
 97|3|48
 98|3|49
 99|3|50
100|3|51
101|3|52
102|3|53
103|3|54
104|3|55
105|3|56
106|3|57
107|3|58
108|3|59
109|3|60
110|3|61
111|3|62
112|3|63
113|3|64
114|3|65
115|3|66
116|3|67
117|3|68
118|3|69
119|3|70
120|3|71
121|3|72
122|3|73
123|3|74
124|3|75
125|3|76
126|3|77
127|3|78
128|3|79
129|3|80
130|3|81
131|3|82
132|3|83
133|3|84
134|2|20
135|2|21
136|2|22
137|2|23
138|2|24
139|2|25
140|2|26
141|2|27
142|2|28
143|2|29
144|2|30
145|2|31
146|2|32
147|2|33
148|2|34
149|2|35
150|2|36
151|2|37
152|2|38
(152 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s3begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3commit: COMMIT;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist

starting permutation: s1_insert s1begin s1d_sel_dec s1_insert s1a_sel_dec s1abort s1a_sel_forward s1_insert s1a_sel_prior s1d_sel_forward s2begin s1a_sel_backward s1d_sel_end s1a_sel_forward s1begin s1commit s1a_sel_backward s3begin s3d_sel_dec s3c_sel_dec s3d_sel_end s2commit s1a_sel_next s1a_sel_forward s1_insert s1a_sel_end s3b_sel_dec s1_insert s3c_sel_next s3_insert s3c_sel_end s3b_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s2commit: COMMIT;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s1_insert s1begin s1c_sel_dec s1d_sel_dec s2_insert s1d_sel_forward s3_insert s1a_sel_dec s1b_sel_dec s1b_sel_end s1d_sel_end s1c_sel_forward s1abort s1a_sel_next s1begin s1_insert s1a_sel_backward s2_insert s1a_sel_forward s1c_sel_forward s3_insert s1b_sel_dec s1d_sel_dec s1a_sel_forward s1d_sel_end s1c_sel_end s3_insert s1c_sel_dec s1c_sel_forward s2_insert s1b_sel_end s1a_sel_end s1c_sel_end s1commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s1abort: ROLLBACK;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;

starting permutation: s2_insert s3begin s3commit s2begin s2commit s1begin s1_insert s3begin s3commit s2begin s2b_sel_dec s1abort s2b_sel_backward s2commit s1begin s2b_sel_forward s1b_sel_dec s1c_sel_dec s2b_sel_backward s1b_sel_end s2b_sel_backward s1c_sel_next s3begin s1d_sel_dec s3abort s2b_sel_backward s1c_sel_forward s2b_sel_backward s2_insert s1a_sel_dec s1c_sel_end s1a_sel_end s2b_sel_end s1d_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s1begin: BEGIN;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
step s1abort: ROLLBACK;

starting permutation: s3_insert s1_insert s3_insert s2_insert s2_insert s1_insert s3_insert s1_insert s3_insert s1_insert s1_insert s1_insert s2begin s2abort s3_insert s3begin s3c_sel_dec s3c_sel_forward s2begin s2d_sel_dec s3c_sel_forward s2b_sel_dec s1begin s1commit s2b_sel_prior s2d_sel_next s1begin s2b_sel_backward s1c_sel_dec s1commit s2b_sel_end s3c_sel_end s2d_sel_end s1c_sel_end s3abort s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|1|  1
 30|1|  2
 31|1|  3
 32|1|  4
 33|1|  5
 34|1|  6
 35|1|  7
 36|1|  8
 37|1|  9
 38|1| 10
 39|3| 29
 40|3| 30
 41|3| 31
 42|3| 32
 43|3| 33
 44|3| 34
 45|3| 35
 46|3| 36
 47|3| 37
 48|3| 38
 49|3| 39
 50|3| 40
 51|3| 41
 52|3| 42
 53|3| 43
 54|3| 44
 55|3| 45
 56|3| 46
 57|3| 47
 58|3| 48
 59|3| 49
 60|3| 50
 61|3| 51
 62|3| 52
 63|3| 53
 64|3| 54
 65|3| 55
 66|3| 56
 67|2|  1
 68|2|  2
 69|2|  3
 70|2|  4
 71|2|  5
 72|2|  6
 73|2|  7
 74|2|  8
 75|2|  9
 76|2| 10
 77|2| 11
 78|2| 12
 79|2| 13
 80|2| 14
 81|2| 15
 82|2| 16
 83|2| 17
 84|2| 18
 85|2| 19
 86|2| 20
 87|2| 21
 88|2| 22
 89|2| 23
 90|2| 24
 91|2| 25
 92|2| 26
 93|2| 27
 94|2| 28
 95|2| 29
 96|2| 30
 97|2| 31
 98|2| 32
 99|2| 33
100|2| 34
101|2| 35
102|2| 36
103|2| 37
104|2| 38
105|1| 11
106|1| 12
107|1| 13
108|1| 14
109|1| 15
110|1| 16
111|1| 17
112|1| 18
113|1| 19
114|1| 20
115|3| 57
116|3| 58
117|3| 59
118|3| 60
119|3| 61
120|3| 62
121|3| 63
122|3| 64
123|3| 65
124|3| 66
125|3| 67
126|3| 68
127|3| 69
128|3| 70
129|3| 71
130|3| 72
131|3| 73
132|3| 74
133|3| 75
134|3| 76
135|3| 77
136|3| 78
137|3| 79
138|3| 80
139|3| 81
140|3| 82
141|3| 83
142|3| 84
143|1| 21
144|1| 22
145|1| 23
146|1| 24
147|1| 25
148|1| 26
149|1| 27
150|1| 28
151|1| 29
152|1| 30
153|3| 85
154|3| 86
155|3| 87
156|3| 88
157|3| 89
158|3| 90
159|3| 91
160|3| 92
161|3| 93
162|3| 94
163|3| 95
164|3| 96
165|3| 97
166|3| 98
167|3| 99
168|3|100
169|3|101
170|3|102
171|3|103
172|3|104
173|3|105
174|3|106
175|3|107
176|3|108
177|3|109
178|3|110
179|3|111
180|3|112
181|1| 31
182|1| 32
183|1| 33
184|1| 34
185|1| 35
186|1| 36
187|1| 37
188|1| 38
189|1| 39
190|1| 40
191|1| 41
192|1| 42
193|1| 43
194|1| 44
195|1| 45
196|1| 46
197|1| 47
198|1| 48
199|1| 49
200|1| 50
201|1| 51
202|1| 52
203|1| 53
204|1| 54
205|1| 55
206|1| 56
207|1| 57
208|1| 58
209|1| 59
210|1| 60
211|3|113
212|3|114
213|3|115
214|3|116
215|3|117
216|3|118
217|3|119
218|3|120
219|3|121
220|3|122
221|3|123
222|3|124
223|3|125
224|3|126
225|3|127
226|3|128
227|3|129
228|3|130
229|3|131
230|3|132
231|3|133
232|3|134
233|3|135
234|3|136
235|3|137
236|3|138
237|3|139
238|3|140
(238 rows)

step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1begin: BEGIN;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2b_sel_end: CLOSE s2b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s2_insert s3begin s3c_sel_dec s3d_sel_dec s3d_sel_next s1begin s3d_sel_forward s3a_sel_dec s3a_sel_end s1b_sel_dec s1_insert s3_insert s1_insert s3abort s1abort s1b_sel_forward s1_insert s1b_sel_backward s3c_sel_end s2begin s2commit s3d_sel_next s1b_sel_backward s3begin s1_insert s2begin s2b_sel_dec s1b_sel_backward s3abort s2b_sel_prior s3d_sel_end s1b_sel_end s2b_sel_end s2commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1begin: BEGIN;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
step s2commit: COMMIT;

starting permutation: s3_insert s3_insert s3begin s2_insert s3abort s3_insert s1_insert s2begin s2_insert s3begin s3a_sel_dec s3a_sel_prior s3d_sel_dec s3d_sel_forward s3a_sel_prior s3d_sel_end s2c_sel_dec s3a_sel_end s2_insert s3c_sel_dec s3b_sel_dec s3commit s3begin s3_insert s3c_sel_end s2b_sel_dec s2abort s2b_sel_prior s3_insert s3b_sel_next s2c_sel_end s2b_sel_end s3b_sel_end s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|3|29
 30|3|30
 31|3|31
 32|3|32
 33|3|33
 34|3|34
 35|3|35
 36|3|36
 37|3|37
 38|3|38
 39|3|39
 40|3|40
 41|3|41
 42|3|42
 43|3|43
 44|3|44
 45|3|45
 46|3|46
 47|3|47
 48|3|48
 49|3|49
 50|3|50
 51|3|51
 52|3|52
 53|3|53
 54|3|54
 55|3|55
 56|3|56
 57|2| 1
 58|2| 2
 59|2| 3
 60|2| 4
 61|2| 5
 62|2| 6
 63|2| 7
 64|2| 8
 65|2| 9
 66|2|10
 67|2|11
 68|2|12
 69|2|13
 70|2|14
 71|2|15
 72|2|16
 73|2|17
 74|2|18
 75|2|19
 76|3|57
 77|3|58
 78|3|59
 79|3|60
 80|3|61
 81|3|62
 82|3|63
 83|3|64
 84|3|65
 85|3|66
 86|3|67
 87|3|68
 88|3|69
 89|3|70
 90|3|71
 91|3|72
 92|3|73
 93|3|74
 94|3|75
 95|3|76
 96|3|77
 97|3|78
 98|3|79
 99|3|80
100|3|81
101|3|82
102|3|83
103|3|84
104|1| 1
105|1| 2
106|1| 3
107|1| 4
108|1| 5
109|1| 6
110|1| 7
111|1| 8
112|1| 9
113|1|10
(113 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;

starting permutation: s2begin s2a_sel_dec s2a_sel_forward s2a_sel_backward s2a_sel_next s1begin s2c_sel_dec s1a_sel_dec s3begin s1a_sel_backward s2a_sel_next s1b_sel_dec s2a_sel_forward s1d_sel_dec s2a_sel_end s3a_sel_dec s1b_sel_backward s1a_sel_forward s3d_sel_dec s2c_sel_forward s1d_sel_forward s2commit s3_insert s2c_sel_next s3a_sel_end s2_insert s1c_sel_dec s1a_sel_next s1a_sel_forward s1a_sel_backward s1d_sel_end s1b_sel_end s1c_sel_end s3d_sel_end s2c_sel_end s1a_sel_end s1abort s3abort
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2begin s2commit s2begin s2abort s2_insert s3begin s2begin s1begin s1commit s2b_sel_dec s3commit s2d_sel_dec s3begin s3abort s2b_sel_end s1begin s3begin s3c_sel_dec s2d_sel_next s3d_sel_dec s2abort s3b_sel_dec s1_insert s3d_sel_end s1commit s3b_sel_forward s3c_sel_forward s3c_sel_end s3b_sel_backward s2d_sel_forward s3b_sel_end s2d_sel_end s3abort
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s1commit: COMMIT;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
 1|2| 1
(19 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s3_insert s3begin s2_insert s3b_sel_dec s3b_sel_prior s3b_sel_next s3_insert s3b_sel_prior s3_insert s3a_sel_dec s3abort s3begin s3_insert s3b_sel_next s2begin s2abort s3b_sel_backward s3_insert s3a_sel_forward s3a_sel_next s2begin s2_insert s3a_sel_prior s3a_sel_forward s2commit s3a_sel_end s2_insert s3b_sel_forward s3b_sel_prior s3a_sel_dec s3a_sel_end s3b_sel_end s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;

starting permutation: s3_insert s3begin s2begin s2b_sel_dec s2b_sel_next s2_insert s2abort s3a_sel_dec s3d_sel_dec s3a_sel_backward s3a_sel_forward s3a_sel_forward s3a_sel_next s3c_sel_dec s2b_sel_prior s2b_sel_next s3a_sel_next s3a_sel_prior s3a_sel_forward s2b_sel_end s3commit s3d_sel_end s3c_sel_next s3a_sel_end s3c_sel_end s2begin s2d_sel_dec s2d_sel_next s1_insert s2d_sel_forward s2d_sel_end s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
28|3|28
(1 row)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;

starting permutation: s1begin s3begin s3d_sel_dec s2_insert s3d_sel_end s1d_sel_dec s1b_sel_dec s1d_sel_forward s1b_sel_forward s3commit s1b_sel_forward s2_insert s1a_sel_dec s1d_sel_next s1d_sel_end s1a_sel_prior s2begin s1b_sel_end s2abort s1_insert s3begin s1abort s1a_sel_forward s3c_sel_dec s1a_sel_end s1begin s2_insert s1b_sel_dec s1d_sel_dec s3commit s3c_sel_end s1b_sel_end s1d_sel_end s1abort
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1b_sel_end: CLOSE s1b_sel;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1abort: ROLLBACK;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1abort: ROLLBACK;

starting permutation: s3_insert s3_insert s2begin s2c_sel_dec s2c_sel_next s1begin s2c_sel_forward s3begin s2c_sel_forward s3_insert s3b_sel_dec s3b_sel_backward s3a_sel_dec s3b_sel_next s2b_sel_dec s1a_sel_dec s2c_sel_end s2d_sel_dec s2_insert s3_insert s3a_sel_forward s3abort s3b_sel_prior s3b_sel_next s2_insert s2b_sel_next s2d_sel_forward s1a_sel_backward s2commit s2d_sel_forward s2b_sel_end s3b_sel_end s3a_sel_end s2d_sel_end s1a_sel_end s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(55 rows)

step s3begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|3|57
58|3|58
59|3|59
60|3|60
61|3|61
62|3|62
63|3|63
64|3|64
65|3|65
66|3|66
67|3|67
68|3|68
69|3|69
70|3|70
71|3|71
72|3|72
73|3|73
74|3|74
75|3|75
76|3|76
77|3|77
78|3|78
79|3|79
80|3|80
81|3|81
82|3|82
83|3|83
84|3|84
(84 rows)

step s3abort: ROLLBACK;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;

starting permutation: s3_insert s3_insert s3_insert s3_insert s3begin s3commit s2_insert s2_insert s2begin s3_insert s2c_sel_dec s1_insert s3begin s2abort s2c_sel_forward s2c_sel_end s3d_sel_dec s2begin s2c_sel_dec s3abort s3_insert s2abort s2c_sel_next s3d_sel_next s1_insert s1_insert s3d_sel_forward s2c_sel_next s2begin s2c_sel_end s3d_sel_end s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2abort: ROLLBACK;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s2_insert s3begin s3a_sel_dec s3a_sel_prior s3a_sel_prior s3a_sel_next s3abort s2begin s2b_sel_dec s2b_sel_prior s2b_sel_end s3a_sel_next s2_insert s3_insert s2commit s3a_sel_backward s3_insert s1_insert s2_insert s1begin s3a_sel_end s1a_sel_dec s1b_sel_dec s1a_sel_forward s1b_sel_prior s1a_sel_end s2_insert s1b_sel_backward s2begin s2d_sel_dec s1b_sel_end s2d_sel_end s2abort s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a|b| c
---+-+--
  1|2| 1
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|2|20
 21|2|21
 22|2|22
 23|2|23
 24|2|24
 25|2|25
 26|2|26
 27|2|27
 28|2|28
 29|2|29
 30|2|30
 31|2|31
 32|2|32
 33|2|33
 34|2|34
 35|2|35
 36|2|36
 37|2|37
 38|2|38
 39|3| 1
 40|3| 2
 41|3| 3
 42|3| 4
 43|3| 5
 44|3| 6
 45|3| 7
 46|3| 8
 47|3| 9
 48|3|10
 49|3|11
 50|3|12
 51|3|13
 52|3|14
 53|3|15
 54|3|16
 55|3|17
 56|3|18
 57|3|19
 58|3|20
 59|3|21
 60|3|22
 61|3|23
 62|3|24
 63|3|25
 64|3|26
 65|3|27
 66|3|28
 67|3|29
 68|3|30
 69|3|31
 70|3|32
 71|3|33
 72|3|34
 73|3|35
 74|3|36
 75|3|37
 76|3|38
 77|3|39
 78|3|40
 79|3|41
 80|3|42
 81|3|43
 82|3|44
 83|3|45
 84|3|46
 85|3|47
 86|3|48
 87|3|49
 88|3|50
 89|3|51
 90|3|52
 91|3|53
 92|3|54
 93|3|55
 94|3|56
 95|1| 1
 96|1| 2
 97|1| 3
 98|1| 4
 99|1| 5
100|1| 6
101|1| 7
102|1| 8
103|1| 9
104|1|10
105|2|39
106|2|40
107|2|41
108|2|42
109|2|43
110|2|44
111|2|45
112|2|46
113|2|47
114|2|48
115|2|49
116|2|50
117|2|51
118|2|52
119|2|53
120|2|54
121|2|55
122|2|56
123|2|57
(123 rows)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s3_insert s1_insert s1begin s1a_sel_dec s1a_sel_end s2begin s2abort s1a_sel_dec s1abort s3_insert s3begin s1a_sel_next s1a_sel_backward s3c_sel_dec s3c_sel_forward s3c_sel_next s1_insert s3commit s3_insert s3_insert s1a_sel_backward s1a_sel_next s2_insert s1a_sel_next s2_insert s1a_sel_prior s1begin s1d_sel_dec s1d_sel_forward s1a_sel_forward s1d_sel_end s3c_sel_end s1a_sel_end s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
30|1| 2
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
(66 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|1|  1
 30|1|  2
 31|1|  3
 32|1|  4
 33|1|  5
 34|1|  6
 35|1|  7
 36|1|  8
 37|1|  9
 38|1| 10
 39|3| 29
 40|3| 30
 41|3| 31
 42|3| 32
 43|3| 33
 44|3| 34
 45|3| 35
 46|3| 36
 47|3| 37
 48|3| 38
 49|3| 39
 50|3| 40
 51|3| 41
 52|3| 42
 53|3| 43
 54|3| 44
 55|3| 45
 56|3| 46
 57|3| 47
 58|3| 48
 59|3| 49
 60|3| 50
 61|3| 51
 62|3| 52
 63|3| 53
 64|3| 54
 65|3| 55
 66|3| 56
 67|1| 11
 68|1| 12
 69|1| 13
 70|1| 14
 71|1| 15
 72|1| 16
 73|1| 17
 74|1| 18
 75|1| 19
 76|1| 20
 77|3| 57
 78|3| 58
 79|3| 59
 80|3| 60
 81|3| 61
 82|3| 62
 83|3| 63
 84|3| 64
 85|3| 65
 86|3| 66
 87|3| 67
 88|3| 68
 89|3| 69
 90|3| 70
 91|3| 71
 92|3| 72
 93|3| 73
 94|3| 74
 95|3| 75
 96|3| 76
 97|3| 77
 98|3| 78
 99|3| 79
100|3| 80
101|3| 81
102|3| 82
103|3| 83
104|3| 84
105|3| 85
106|3| 86
107|3| 87
108|3| 88
109|3| 89
110|3| 90
111|3| 91
112|3| 92
113|3| 93
114|3| 94
115|3| 95
116|3| 96
117|3| 97
118|3| 98
119|3| 99
120|3|100
121|3|101
122|3|102
123|3|103
124|3|104
125|3|105
126|3|106
127|3|107
128|3|108
129|3|109
130|3|110
131|3|111
132|3|112
133|2|  1
134|2|  2
135|2|  3
136|2|  4
137|2|  5
138|2|  6
139|2|  7
140|2|  8
141|2|  9
142|2| 10
143|2| 11
144|2| 12
145|2| 13
146|2| 14
147|2| 15
148|2| 16
149|2| 17
150|2| 18
151|2| 19
152|2| 20
153|2| 21
154|2| 22
155|2| 23
156|2| 24
157|2| 25
158|2| 26
159|2| 27
160|2| 28
161|2| 29
162|2| 30
163|2| 31
164|2| 32
165|2| 33
166|2| 34
167|2| 35
168|2| 36
169|2| 37
170|2| 38
(170 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;

starting permutation: s2begin s3begin s3d_sel_dec s2a_sel_dec s1begin s1a_sel_dec s1commit s2a_sel_end s1a_sel_next s1a_sel_next s3d_sel_next s3_insert s2a_sel_dec s3c_sel_dec s2_insert s3abort s2a_sel_next s1begin s3d_sel_forward s3_insert s2d_sel_dec s3d_sel_end s2a_sel_forward s1d_sel_dec s2a_sel_backward s2a_sel_next s3c_sel_next s1commit s1d_sel_end s1_insert s3c_sel_end s1a_sel_end s2a_sel_end s2d_sel_end s2abort
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2a_sel_end: CLOSE s2a_sel;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1commit: COMMIT;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;

starting permutation: s3begin s2begin s3a_sel_dec s3commit s2c_sel_dec s3a_sel_backward s2commit s1begin s1abort s1begin s3a_sel_forward s1c_sel_dec s1b_sel_dec s1b_sel_forward s2c_sel_forward s1_insert s1d_sel_dec s1d_sel_end s3a_sel_next s1commit s3a_sel_end s1c_sel_forward s3begin s1c_sel_end s3d_sel_dec s3d_sel_next s1b_sel_forward s3commit s1b_sel_end s1_insert s2c_sel_end s3d_sel_end
step s3begin: BEGIN;
step s2begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist

starting permutation: s2begin s2a_sel_dec s3_insert s2abort s2begin s2a_sel_end s2c_sel_dec s3begin s3c_sel_dec s2commit s2c_sel_next s2c_sel_forward s2c_sel_forward s3commit s3_insert s2c_sel_forward s2c_sel_end s3begin s3commit s3begin s2_insert s3a_sel_dec s3c_sel_next s3c_sel_next s3abort s3c_sel_next s1begin s3a_sel_backward s3_insert s3a_sel_forward s3a_sel_end s3c_sel_end s1commit
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s3abort: ROLLBACK;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s1begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s1commit: COMMIT;

starting permutation: s3_insert s2_insert s3_insert s1_insert s2begin s2c_sel_dec s2c_sel_forward s3_insert s2abort s2_insert s2c_sel_next s2c_sel_next s2_insert s2c_sel_forward s2c_sel_forward s1begin s1commit s2begin s1begin s2a_sel_dec s2b_sel_dec s2c_sel_next s3begin s1commit s3commit s1_insert s2a_sel_end s3_insert s2b_sel_prior s3_insert s2c_sel_end s2b_sel_end s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
48|3|29
49|3|30
50|3|31
51|3|32
52|3|33
53|3|34
54|3|35
55|3|36
56|3|37
57|3|38
58|3|39
59|3|40
60|3|41
61|3|42
62|3|43
63|3|44
64|3|45
65|3|46
66|3|47
67|3|48
68|3|49
69|3|50
70|3|51
71|3|52
72|3|53
73|3|54
74|3|55
75|3|56
76|1| 1
77|1| 2
78|1| 3
79|1| 4
80|1| 5
81|1| 6
82|1| 7
83|1| 8
84|1| 9
85|1|10
(85 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3begin: BEGIN;
step s1commit: COMMIT;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;

starting permutation: s3_insert s1begin s3_insert s1b_sel_dec s1c_sel_dec s2_insert s1c_sel_end s1b_sel_next s1b_sel_backward s1_insert s1commit s3_insert s1b_sel_backward s1b_sel_forward s1b_sel_end s2begin s1begin s1b_sel_dec s2a_sel_dec s1a_sel_dec s1a_sel_backward s2_insert s2a_sel_end s2b_sel_dec s2_insert s2a_sel_dec s2b_sel_end s1commit s1b_sel_next s2c_sel_dec s1b_sel_end s2c_sel_end s2a_sel_end s1a_sel_end s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s1commit: COMMIT;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2abort: ROLLBACK;

starting permutation: s1begin s1_insert s3_insert s1_insert s1abort s1_insert s2begin s1begin s1_insert s2abort s3begin s1b_sel_dec s3b_sel_dec s3b_sel_end s1d_sel_dec s1a_sel_dec s1b_sel_next s1b_sel_end s1d_sel_next s1a_sel_next s3abort s1b_sel_dec s1b_sel_end s2begin s3_insert s1a_sel_next s2b_sel_dec s2c_sel_dec s2b_sel_next s1c_sel_dec s2b_sel_end s1d_sel_end s1a_sel_end s2c_sel_end s1c_sel_end s1commit s2commit
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
 a|b|c
--+-+-
11|3|1
(1 row)

step s1b_sel_end: CLOSE s1b_sel;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
 a|b|c
--+-+-
11|3|1
(1 row)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
 a|b|c
--+-+-
11|3|1
(1 row)

step s3abort: ROLLBACK;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
 a|b|c
--+-+-
12|3|2
(1 row)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
 a|b|c
--+-+-
11|3|1
(1 row)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s1_insert s2begin s2d_sel_dec s2c_sel_dec s2d_sel_end s2d_sel_dec s3_insert s2c_sel_end s3begin s3_insert s2a_sel_dec s3commit s2_insert s2d_sel_end s2commit s2_insert s2a_sel_forward s2a_sel_end s2_insert s2_insert s2begin s1begin s1b_sel_dec s1b_sel_forward s2_insert s3begin s2commit s1d_sel_dec s3commit s1d_sel_end s1b_sel_end s1abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
(38 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
  a|b| c
---+-+--
  1|1| 1
  2|1| 2
  3|1| 3
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 11|3| 1
 12|3| 2
 13|3| 3
 14|3| 4
 15|3| 5
 16|3| 6
 17|3| 7
 18|3| 8
 19|3| 9
 20|3|10
 21|3|11
 22|3|12
 23|3|13
 24|3|14
 25|3|15
 26|3|16
 27|3|17
 28|3|18
 29|3|19
 30|3|20
 31|3|21
 32|3|22
 33|3|23
 34|3|24
 35|3|25
 36|3|26
 37|3|27
 38|3|28
 39|3|29
 40|3|30
 41|3|31
 42|3|32
 43|3|33
 44|3|34
 45|3|35
 46|3|36
 47|3|37
 48|3|38
 49|3|39
 50|3|40
 51|3|41
 52|3|42
 53|3|43
 54|3|44
 55|3|45
 56|3|46
 57|3|47
 58|3|48
 59|3|49
 60|3|50
 61|3|51
 62|3|52
 63|3|53
 64|3|54
 65|3|55
 66|3|56
 67|2| 1
 68|2| 2
 69|2| 3
 70|2| 4
 71|2| 5
 72|2| 6
 73|2| 7
 74|2| 8
 75|2| 9
 76|2|10
 77|2|11
 78|2|12
 79|2|13
 80|2|14
 81|2|15
 82|2|16
 83|2|17
 84|2|18
 85|2|19
 86|2|20
 87|2|21
 88|2|22
 89|2|23
 90|2|24
 91|2|25
 92|2|26
 93|2|27
 94|2|28
 95|2|29
 96|2|30
 97|2|31
 98|2|32
 99|2|33
100|2|34
101|2|35
102|2|36
103|2|37
104|2|38
105|2|39
106|2|40
107|2|41
108|2|42
109|2|43
110|2|44
111|2|45
112|2|46
113|2|47
114|2|48
115|2|49
116|2|50
117|2|51
118|2|52
119|2|53
120|2|54
121|2|55
122|2|56
123|2|57
124|2|58
125|2|59
126|2|60
127|2|61
128|2|62
129|2|63
130|2|64
131|2|65
132|2|66
133|2|67
134|2|68
135|2|69
136|2|70
137|2|71
138|2|72
139|2|73
140|2|74
141|2|75
142|2|76
(142 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2commit: COMMIT;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;

starting permutation: s3begin s3commit s1_insert s3_insert s3begin s1begin s3abort s1b_sel_dec s1b_sel_backward s1b_sel_backward s3begin s3d_sel_dec s2_insert s1c_sel_dec s3a_sel_dec s3b_sel_dec s3a_sel_backward s1b_sel_end s2_insert s3a_sel_end s3commit s1c_sel_end s3b_sel_end s1c_sel_dec s3d_sel_next s2begin s2_insert s1abort s2c_sel_dec s2d_sel_dec s2d_sel_end s2c_sel_end s3d_sel_end s1c_sel_end s2abort
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3abort: ROLLBACK;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3commit: COMMIT;
step s1c_sel_end: CLOSE s1c_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s3_insert s3_insert s3_insert s2begin s2abort s2begin s2abort s2_insert s3begin s3_insert s1begin s1d_sel_dec s1_insert s3abort s1abort s1_insert s1d_sel_next s1d_sel_end s3_insert s2_insert s3_insert s2begin s2c_sel_dec s3begin s3abort s2a_sel_dec s2a_sel_next s2a_sel_next s2a_sel_backward s3begin s2a_sel_end s2c_sel_end s3abort s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s1begin s1c_sel_dec s1c_sel_forward s1commit s3_insert s1c_sel_forward s2_insert s1begin s1c_sel_forward s1abort s1c_sel_next s2begin s1begin s2_insert s2b_sel_dec s1c_sel_forward s2b_sel_backward s1d_sel_dec s1c_sel_forward s1commit s2b_sel_end s1d_sel_forward s1c_sel_forward s1begin s1c_sel_end s1d_sel_end s3begin s2commit s3commit s3_insert s1commit
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s2b_sel_end: CLOSE s2b_sel;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s2commit: COMMIT;
step s3commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1commit: COMMIT;

starting permutation: s3_insert s3_insert s2_insert s2_insert s2_insert s3_insert s2_insert s1_insert s3_insert s1begin s1commit s1_insert s3_insert s3_insert s1_insert s1_insert s1begin s1commit s2_insert s1begin s2begin s2commit s2begin s2a_sel_dec s2a_sel_forward s1commit s2abort s2_insert s2a_sel_backward s2a_sel_prior s2a_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|3| 29
 30|3| 30
 31|3| 31
 32|3| 32
 33|3| 33
 34|3| 34
 35|3| 35
 36|3| 36
 37|3| 37
 38|3| 38
 39|3| 39
 40|3| 40
 41|3| 41
 42|3| 42
 43|3| 43
 44|3| 44
 45|3| 45
 46|3| 46
 47|3| 47
 48|3| 48
 49|3| 49
 50|3| 50
 51|3| 51
 52|3| 52
 53|3| 53
 54|3| 54
 55|3| 55
 56|3| 56
 57|2|  1
 58|2|  2
 59|2|  3
 60|2|  4
 61|2|  5
 62|2|  6
 63|2|  7
 64|2|  8
 65|2|  9
 66|2| 10
 67|2| 11
 68|2| 12
 69|2| 13
 70|2| 14
 71|2| 15
 72|2| 16
 73|2| 17
 74|2| 18
 75|2| 19
 76|2| 20
 77|2| 21
 78|2| 22
 79|2| 23
 80|2| 24
 81|2| 25
 82|2| 26
 83|2| 27
 84|2| 28
 85|2| 29
 86|2| 30
 87|2| 31
 88|2| 32
 89|2| 33
 90|2| 34
 91|2| 35
 92|2| 36
 93|2| 37
 94|2| 38
 95|2| 39
 96|2| 40
 97|2| 41
 98|2| 42
 99|2| 43
100|2| 44
101|2| 45
102|2| 46
103|2| 47
104|2| 48
105|2| 49
106|2| 50
107|2| 51
108|2| 52
109|2| 53
110|2| 54
111|2| 55
112|2| 56
113|2| 57
114|3| 57
115|3| 58
116|3| 59
117|3| 60
118|3| 61
119|3| 62
120|3| 63
121|3| 64
122|3| 65
123|3| 66
124|3| 67
125|3| 68
126|3| 69
127|3| 70
128|3| 71
129|3| 72
130|3| 73
131|3| 74
132|3| 75
133|3| 76
134|3| 77
135|3| 78
136|3| 79
137|3| 80
138|3| 81
139|3| 82
140|3| 83
141|3| 84
142|2| 58
143|2| 59
144|2| 60
145|2| 61
146|2| 62
147|2| 63
148|2| 64
149|2| 65
150|2| 66
151|2| 67
152|2| 68
153|2| 69
154|2| 70
155|2| 71
156|2| 72
157|2| 73
158|2| 74
159|2| 75
160|2| 76
161|1|  1
162|1|  2
163|1|  3
164|1|  4
165|1|  5
166|1|  6
167|1|  7
168|1|  8
169|1|  9
170|1| 10
171|3| 85
172|3| 86
173|3| 87
174|3| 88
175|3| 89
176|3| 90
177|3| 91
178|3| 92
179|3| 93
180|3| 94
181|3| 95
182|3| 96
183|3| 97
184|3| 98
185|3| 99
186|3|100
187|3|101
188|3|102
189|3|103
190|3|104
191|3|105
192|3|106
193|3|107
194|3|108
195|3|109
196|3|110
197|3|111
198|3|112
209|3|113
210|3|114
211|3|115
212|3|116
213|3|117
214|3|118
215|3|119
216|3|120
217|3|121
218|3|122
219|3|123
220|3|124
221|3|125
222|3|126
223|3|127
224|3|128
225|3|129
226|3|130
227|3|131
228|3|132
229|3|133
230|3|134
231|3|135
232|3|136
233|3|137
234|3|138
235|3|139
236|3|140
237|3|141
238|3|142
239|3|143
240|3|144
241|3|145
242|3|146
243|3|147
244|3|148
245|3|149
246|3|150
247|3|151
248|3|152
249|3|153
250|3|154
251|3|155
252|3|156
253|3|157
254|3|158
255|3|159
256|3|160
257|3|161
258|3|162
259|3|163
260|3|164
261|3|165
262|3|166
263|3|167
264|3|168
199|1| 11
200|1| 12
201|1| 13
202|1| 14
203|1| 15
204|1| 16
205|1| 17
206|1| 18
207|1| 19
208|1| 20
265|1| 21
266|1| 22
267|1| 23
268|1| 24
269|1| 25
270|1| 26
271|1| 27
272|1| 28
273|1| 29
274|1| 30
275|1| 31
276|1| 32
277|1| 33
278|1| 34
279|1| 35
280|1| 36
281|1| 37
282|1| 38
283|1| 39
284|1| 40
285|2| 77
286|2| 78
287|2| 79
288|2| 80
289|2| 81
290|2| 82
291|2| 83
292|2| 84
293|2| 85
294|2| 86
295|2| 87
296|2| 88
297|2| 89
298|2| 90
299|2| 91
300|2| 92
301|2| 93
302|2| 94
303|2| 95
(303 rows)

step s1commit: COMMIT;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist

starting permutation: s1begin s1b_sel_dec s1b_sel_prior s1abort s2_insert s1b_sel_forward s1b_sel_forward s1b_sel_forward s2_insert s1b_sel_next s3_insert s1begin s1a_sel_dec s2_insert s1a_sel_prior s1_insert s2_insert s1a_sel_prior s1c_sel_dec s1_insert s1c_sel_next s1c_sel_end s1commit s1b_sel_prior s1b_sel_next s1a_sel_next s1b_sel_prior s1b_sel_forward s1b_sel_prior s1begin s1b_sel_end s1a_sel_end s1abort
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;

starting permutation: s1_insert s1begin s1a_sel_dec s1abort s1a_sel_prior s1a_sel_backward s1a_sel_next s1begin s1a_sel_next s1a_sel_forward s1c_sel_dec s1a_sel_end s1a_sel_dec s1a_sel_forward s1a_sel_forward s1c_sel_forward s2_insert s1a_sel_forward s1c_sel_next s3begin s1c_sel_forward s1_insert s1_insert s1a_sel_next s1c_sel_forward s3abort s1d_sel_dec s2begin s3begin s2b_sel_dec s1a_sel_end s1c_sel_end s1d_sel_end s2b_sel_end s1abort s2commit s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1a_sel" already exists
step s1abort: ROLLBACK;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
39|3| 1
40|3| 2
41|3| 3
42|3| 4
43|3| 5
44|3| 6
45|3| 7
46|3| 8
47|3| 9
48|3|10
49|3|11
50|3|12
51|3|13
52|3|14
53|3|15
54|3|16
55|3|17
56|3|18
57|3|19
58|3|20
59|3|21
60|3|22
61|3|23
62|3|24
63|3|25
64|3|26
65|3|27
66|3|28
(64 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s1begin s1abort s2_insert s2begin s2b_sel_dec s3_insert s1begin s1commit s2d_sel_dec s2a_sel_dec s2b_sel_next s2a_sel_prior s2a_sel_forward s2d_sel_forward s2b_sel_forward s2b_sel_forward s2a_sel_next s2b_sel_end s2d_sel_end s2b_sel_dec s2a_sel_backward s2commit s2a_sel_forward s2b_sel_next s2a_sel_prior s2a_sel_backward s2_insert s3begin s3_insert s2_insert s2b_sel_end s2a_sel_end s3abort
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
47|3|28
46|3|27
45|3|26
44|3|25
43|3|24
42|3|23
41|3|22
40|3|21
39|3|20
38|3|19
37|3|18
36|3|17
35|3|16
34|3|15
33|3|14
32|3|13
31|3|12
30|3|11
29|3|10
28|3| 9
27|3| 8
26|3| 7
25|3| 6
24|3| 5
23|3| 4
22|3| 3
21|3| 2
20|3| 1
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
 1|2| 1
(47 rows)

step s2commit: COMMIT;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(47 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
47|3|28
(1 row)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
46|3|27
45|3|26
44|3|25
43|3|24
42|3|23
41|3|22
40|3|21
39|3|20
38|3|19
37|3|18
36|3|17
35|3|16
34|3|15
33|3|14
32|3|13
31|3|12
30|3|11
29|3|10
28|3| 9
27|3| 8
26|3| 7
25|3| 6
24|3| 5
23|3| 4
22|3| 3
21|3| 2
20|3| 1
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
 1|2| 1
(46 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3abort: ROLLBACK;

starting permutation: s1_insert s2begin s2commit s3begin s3abort s2_insert s2begin s2d_sel_dec s2a_sel_dec s2a_sel_forward s2a_sel_backward s2d_sel_next s2abort s2d_sel_end s2a_sel_next s2a_sel_forward s3_insert s1begin s3_insert s2begin s1d_sel_dec s1a_sel_dec s3begin s2a_sel_end s2a_sel_dec s3a_sel_dec s2a_sel_forward s1d_sel_next s3a_sel_end s1a_sel_forward s1a_sel_end s2a_sel_end s1d_sel_end s1abort s2commit s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
(29 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
29|2|19
28|2|18
27|2|17
26|2|16
25|2|15
24|2|14
23|2|13
22|2|12
21|2|11
20|2|10
19|2| 9
18|2| 8
17|2| 7
16|2| 6
15|2| 5
14|2| 4
13|2| 3
12|2| 2
11|2| 1
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 3|1| 3
 2|1| 2
 1|1| 1
(29 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|3| 1
31|3| 2
32|3| 3
33|3| 4
34|3| 5
35|3| 6
36|3| 7
37|3| 8
38|3| 9
39|3|10
40|3|11
41|3|12
42|3|13
43|3|14
44|3|15
45|3|16
46|3|17
47|3|18
48|3|19
49|3|20
50|3|21
51|3|22
52|3|23
53|3|24
54|3|25
55|3|26
56|3|27
57|3|28
58|3|29
59|3|30
60|3|31
61|3|32
62|3|33
63|3|34
64|3|35
65|3|36
66|3|37
67|3|38
68|3|39
69|3|40
70|3|41
71|3|42
72|3|43
73|3|44
74|3|45
75|3|46
76|3|47
77|3|48
78|3|49
79|3|50
80|3|51
81|3|52
82|3|53
83|3|54
84|3|55
85|3|56
(85 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3begin s2_insert s1begin s2begin s1d_sel_dec s3c_sel_dec s2abort s3c_sel_end s1b_sel_dec s1b_sel_end s3a_sel_dec s1c_sel_dec s1c_sel_forward s3a_sel_forward s3d_sel_dec s3commit s2_insert s1commit s2_insert s3begin s1d_sel_forward s3d_sel_next s1c_sel_forward s2begin s3commit s3d_sel_forward s3begin s2a_sel_dec s2a_sel_end s2b_sel_dec s2b_sel_end s1d_sel_end s3a_sel_end s3d_sel_end s1c_sel_end s3abort s2commit
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s3commit: COMMIT;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s2_insert s2_insert s1begin s1_insert s3_insert s1_insert s1_insert s2_insert s1c_sel_dec s1_insert s3_insert s1_insert s1a_sel_dec s1c_sel_end s3begin s3abort s1a_sel_backward s1a_sel_prior s1b_sel_dec s1d_sel_dec s1a_sel_end s1commit s1b_sel_end s1d_sel_end s3_insert s1begin s1_insert s2_insert s1a_sel_dec s1b_sel_dec s1a_sel_end s1b_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;

starting permutation: s3begin s2_insert s2_insert s3a_sel_dec s3b_sel_dec s3a_sel_backward s3c_sel_dec s3b_sel_next s3b_sel_next s3c_sel_forward s3_insert s3b_sel_next s2_insert s3b_sel_prior s2begin s1_insert s3b_sel_next s3b_sel_end s3c_sel_forward s2commit s3d_sel_dec s3a_sel_forward s3a_sel_prior s3abort s3a_sel_backward s3c_sel_next s2_insert s3d_sel_end s3a_sel_next s3a_sel_end s3c_sel_end
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
(38 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
3|2|3
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
3|2|3
(1 row)

step s3b_sel_end: CLOSE s3b_sel;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
(38 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
 a|b| c
--+-+--
38|2|38
(1 row)

step s3abort: ROLLBACK;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist

starting permutation: s2begin s2_insert s2d_sel_dec s3_insert s2abort s2begin s2a_sel_dec s1_insert s2d_sel_forward s2a_sel_forward s2a_sel_end s2abort s1begin s1abort s2d_sel_next s2_insert s2d_sel_next s2d_sel_end s3_insert s3begin s2begin s2b_sel_dec s2b_sel_backward s3c_sel_dec s3a_sel_dec s3c_sel_end s2a_sel_dec s2a_sel_end s3a_sel_forward s3abort s2b_sel_end s3a_sel_end s2abort
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
  a|b| c
---+-+--
 20|3| 1
 21|3| 2
 22|3| 3
 23|3| 4
 24|3| 5
 25|3| 6
 26|3| 7
 27|3| 8
 28|3| 9
 29|3|10
 30|3|11
 31|3|12
 32|3|13
 33|3|14
 34|3|15
 35|3|16
 36|3|17
 37|3|18
 38|3|19
 39|3|20
 40|3|21
 41|3|22
 42|3|23
 43|3|24
 44|3|25
 45|3|26
 46|3|27
 47|3|28
 48|1| 1
 49|1| 2
 50|1| 3
 51|1| 4
 52|1| 5
 53|1| 6
 54|1| 7
 55|1| 8
 56|1| 9
 57|1|10
 58|2|20
 59|2|21
 60|2|22
 61|2|23
 62|2|24
 63|2|25
 64|2|26
 65|2|27
 66|2|28
 67|2|29
 68|2|30
 69|2|31
 70|2|32
 71|2|33
 72|2|34
 73|2|35
 74|2|36
 75|2|37
 76|2|38
 77|3|29
 78|3|30
 79|3|31
 80|3|32
 81|3|33
 82|3|34
 83|3|35
 84|3|36
 85|3|37
 86|3|38
 87|3|39
 88|3|40
 89|3|41
 90|3|42
 91|3|43
 92|3|44
 93|3|45
 94|3|46
 95|3|47
 96|3|48
 97|3|49
 98|3|50
 99|3|51
100|3|52
101|3|53
102|3|54
103|3|55
104|3|56
(85 rows)

step s3abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s3_insert s2_insert s3begin s2_insert s3abort s2begin s1begin s2b_sel_dec s1d_sel_dec s2b_sel_backward s1_insert s2c_sel_dec s2abort s2b_sel_end s2c_sel_next s2c_sel_end s1c_sel_dec s1c_sel_forward s1d_sel_next s1c_sel_forward s1d_sel_next s1b_sel_dec s1abort s2begin s3_insert s1d_sel_forward s1c_sel_forward s2_insert s1_insert s2abort s1b_sel_end s1d_sel_end s1c_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
67|1| 1
68|1| 2
69|1| 3
70|1| 4
71|1| 5
72|1| 6
73|1| 7
74|1| 8
75|1| 9
76|1|10
(76 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist

starting permutation: s3_insert s1begin s1_insert s1commit s1begin s3_insert s2_insert s3_insert s1d_sel_dec s3begin s3c_sel_dec s1d_sel_forward s3_insert s3_insert s1d_sel_end s3c_sel_next s2begin s1commit s3c_sel_next s3c_sel_next s2d_sel_dec s3b_sel_dec s2d_sel_next s2a_sel_dec s3a_sel_dec s3c_sel_end s3a_sel_forward s2a_sel_prior s3b_sel_next s3a_sel_forward s3b_sel_end s3a_sel_end s2a_sel_end s2d_sel_end s3abort s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|1| 1
 30|1| 2
 31|1| 3
 32|1| 4
 33|1| 5
 34|1| 6
 35|1| 7
 36|1| 8
 37|1| 9
 38|1|10
 39|3|29
 40|3|30
 41|3|31
 42|3|32
 43|3|33
 44|3|34
 45|3|35
 46|3|36
 47|3|37
 48|3|38
 49|3|39
 50|3|40
 51|3|41
 52|3|42
 53|3|43
 54|3|44
 55|3|45
 56|3|46
 57|3|47
 58|3|48
 59|3|49
 60|3|50
 61|3|51
 62|3|52
 63|3|53
 64|3|54
 65|3|55
 66|3|56
 67|2| 1
 68|2| 2
 69|2| 3
 70|2| 4
 71|2| 5
 72|2| 6
 73|2| 7
 74|2| 8
 75|2| 9
 76|2|10
 77|2|11
 78|2|12
 79|2|13
 80|2|14
 81|2|15
 82|2|16
 83|2|17
 84|2|18
 85|2|19
 86|3|57
 87|3|58
 88|3|59
 89|3|60
 90|3|61
 91|3|62
 92|3|63
 93|3|64
 94|3|65
 95|3|66
 96|3|67
 97|3|68
 98|3|69
 99|3|70
100|3|71
101|3|72
102|3|73
103|3|74
104|3|75
105|3|76
106|3|77
107|3|78
108|3|79
109|3|80
110|3|81
111|3|82
112|3|83
113|3|84
(113 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_end: CLOSE s1d_sel;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2begin: BEGIN;
step s1commit: COMMIT;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
  a|b|  c
---+-+---
  1|3|  1
  2|3|  2
  3|3|  3
  4|3|  4
  5|3|  5
  6|3|  6
  7|3|  7
  8|3|  8
  9|3|  9
 10|3| 10
 11|3| 11
 12|3| 12
 13|3| 13
 14|3| 14
 15|3| 15
 16|3| 16
 17|3| 17
 18|3| 18
 19|3| 19
 20|3| 20
 21|3| 21
 22|3| 22
 23|3| 23
 24|3| 24
 25|3| 25
 26|3| 26
 27|3| 27
 28|3| 28
 29|1|  1
 30|1|  2
 31|1|  3
 32|1|  4
 33|1|  5
 34|1|  6
 35|1|  7
 36|1|  8
 37|1|  9
 38|1| 10
 39|3| 29
 40|3| 30
 41|3| 31
 42|3| 32
 43|3| 33
 44|3| 34
 45|3| 35
 46|3| 36
 47|3| 37
 48|3| 38
 49|3| 39
 50|3| 40
 51|3| 41
 52|3| 42
 53|3| 43
 54|3| 44
 55|3| 45
 56|3| 46
 57|3| 47
 58|3| 48
 59|3| 49
 60|3| 50
 61|3| 51
 62|3| 52
 63|3| 53
 64|3| 54
 65|3| 55
 66|3| 56
 67|2|  1
 68|2|  2
 69|2|  3
 70|2|  4
 71|2|  5
 72|2|  6
 73|2|  7
 74|2|  8
 75|2|  9
 76|2| 10
 77|2| 11
 78|2| 12
 79|2| 13
 80|2| 14
 81|2| 15
 82|2| 16
 83|2| 17
 84|2| 18
 85|2| 19
 86|3| 57
 87|3| 58
 88|3| 59
 89|3| 60
 90|3| 61
 91|3| 62
 92|3| 63
 93|3| 64
 94|3| 65
 95|3| 66
 96|3| 67
 97|3| 68
 98|3| 69
 99|3| 70
100|3| 71
101|3| 72
102|3| 73
103|3| 74
104|3| 75
105|3| 76
106|3| 77
107|3| 78
108|3| 79
109|3| 80
110|3| 81
111|3| 82
112|3| 83
113|3| 84
114|3| 85
115|3| 86
116|3| 87
117|3| 88
118|3| 89
119|3| 90
120|3| 91
121|3| 92
122|3| 93
123|3| 94
124|3| 95
125|3| 96
126|3| 97
127|3| 98
128|3| 99
129|3|100
130|3|101
131|3|102
132|3|103
133|3|104
134|3|105
135|3|106
136|3|107
137|3|108
138|3|109
139|3|110
140|3|111
141|3|112
142|3|113
143|3|114
144|3|115
145|3|116
146|3|117
147|3|118
148|3|119
149|3|120
150|3|121
151|3|122
152|3|123
153|3|124
154|3|125
155|3|126
156|3|127
157|3|128
158|3|129
159|3|130
160|3|131
161|3|132
162|3|133
163|3|134
164|3|135
165|3|136
166|3|137
167|3|138
168|3|139
169|3|140
(169 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s3_insert s1begin s3begin s3a_sel_dec s1d_sel_dec s3a_sel_next s3a_sel_next s2_insert s3b_sel_dec s3b_sel_forward s1b_sel_dec s3a_sel_next s1b_sel_prior s1_insert s3a_sel_backward s1b_sel_end s3d_sel_dec s3c_sel_dec s3a_sel_prior s3c_sel_end s1d_sel_next s3abort s1_insert s3begin s3a_sel_next s1c_sel_dec s1c_sel_next s1_insert s3b_sel_prior s3commit s3b_sel_end s1d_sel_end s3a_sel_end s1c_sel_end s3d_sel_end s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(47 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
2|3|2
1|3|1
(2 rows)

step s1b_sel_end: CLOSE s1b_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1commit: COMMIT;

starting permutation: s2begin s3_insert s2c_sel_dec s2a_sel_dec s2d_sel_dec s2commit s1_insert s2c_sel_end s2d_sel_forward s3begin s1begin s3c_sel_dec s3abort s2begin s1abort s2d_sel_next s1_insert s3_insert s1_insert s3c_sel_forward s2a_sel_forward s1_insert s2d_sel_next s2abort s2d_sel_next s2begin s2d_sel_forward s2commit s3c_sel_forward s2a_sel_end s3c_sel_end s2d_sel_end
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2begin: BEGIN;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2commit: COMMIT;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s1_insert s1begin s3begin s3a_sel_dec s3commit s3a_sel_forward s3a_sel_backward s1a_sel_dec s3a_sel_end s1abort s1begin s1d_sel_dec s1a_sel_prior s1d_sel_forward s3_insert s1a_sel_next s2_insert s1a_sel_forward s1a_sel_prior s1abort s1_insert s1begin s1d_sel_end s1d_sel_dec s1a_sel_next s1a_sel_prior s2begin s1abort s2_insert s1a_sel_prior s1a_sel_end s1d_sel_end s2commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(10 rows)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 3|1| 3
 2|1| 2
 1|1| 1
(10 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2commit: COMMIT;

starting permutation: s1_insert s3_insert s1begin s1a_sel_dec s2begin s2c_sel_dec s3begin s2b_sel_dec s1a_sel_backward s1d_sel_dec s1a_sel_end s3commit s2c_sel_forward s2b_sel_backward s2c_sel_forward s2d_sel_dec s2b_sel_next s2b_sel_next s1abort s1d_sel_next s2_insert s2_insert s2c_sel_next s1d_sel_next s2commit s2b_sel_end s1d_sel_next s1d_sel_end s3begin s3b_sel_dec s2d_sel_end s2c_sel_end s3b_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s3commit: COMMIT;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
13|3| 3
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
(38 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s1abort: ROLLBACK;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2commit: COMMIT;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s1begin s2_insert s1commit s3begin s3a_sel_dec s1begin s3abort s2begin s2a_sel_dec s2a_sel_backward s2c_sel_dec s3begin s3a_sel_end s2a_sel_next s3b_sel_dec s1d_sel_dec s3_insert s2abort s3d_sel_dec s2c_sel_next s3b_sel_forward s1b_sel_dec s3d_sel_next s2a_sel_forward s1b_sel_backward s1b_sel_backward s3b_sel_forward s1_insert s1_insert s2a_sel_end s1d_sel_end s3b_sel_end s1b_sel_end s3d_sel_end s2c_sel_end s1commit s3commit
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3_insert s2_insert s1_insert s3_insert s1_insert s3begin s2_insert s3a_sel_dec s1_insert s1begin s3a_sel_end s3b_sel_dec s2_insert s3b_sel_backward s2begin s1c_sel_dec s3d_sel_dec s3d_sel_end s2abort s1_insert s1c_sel_forward s3b_sel_forward s3a_sel_dec s3b_sel_backward s3abort s3a_sel_end s3b_sel_next s1abort s3b_sel_end s2_insert s1c_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|2| 1
 30|2| 2
 31|2| 3
 32|2| 4
 33|2| 5
 34|2| 6
 35|2| 7
 36|2| 8
 37|2| 9
 38|2|10
 39|2|11
 40|2|12
 41|2|13
 42|2|14
 43|2|15
 44|2|16
 45|2|17
 46|2|18
 47|2|19
 48|1| 1
 49|1| 2
 50|1| 3
 51|1| 4
 52|1| 5
 53|1| 6
 54|1| 7
 55|1| 8
 56|1| 9
 57|1|10
 58|3|29
 59|3|30
 60|3|31
 61|3|32
 62|3|33
 63|3|34
 64|3|35
 65|3|36
 66|3|37
 67|3|38
 68|3|39
 69|3|40
 70|3|41
 71|3|42
 72|3|43
 73|3|44
 74|3|45
 75|3|46
 76|3|47
 77|3|48
 78|3|49
 79|3|50
 80|3|51
 81|3|52
 82|3|53
 83|3|54
 84|3|55
 85|3|56
 86|1|11
 87|1|12
 88|1|13
 89|1|14
 90|1|15
 91|1|16
 92|1|17
 93|1|18
 94|1|19
 95|1|20
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
115|1|21
116|1|22
117|1|23
118|1|24
119|1|25
120|1|26
121|1|27
122|1|28
123|1|29
124|1|30
125|2|39
126|2|40
127|2|41
128|2|42
129|2|43
130|2|44
131|2|45
132|2|46
133|2|47
134|2|48
135|2|49
136|2|50
137|2|51
138|2|52
139|2|53
140|2|54
141|2|55
142|2|56
143|2|57
(143 rows)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
  a|b| c
---+-+--
  1|3| 1
  2|3| 2
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 29|2| 1
 30|2| 2
 31|2| 3
 32|2| 4
 33|2| 5
 34|2| 6
 35|2| 7
 36|2| 8
 37|2| 9
 38|2|10
 39|2|11
 40|2|12
 41|2|13
 42|2|14
 43|2|15
 44|2|16
 45|2|17
 46|2|18
 47|2|19
 48|1| 1
 49|1| 2
 50|1| 3
 51|1| 4
 52|1| 5
 53|1| 6
 54|1| 7
 55|1| 8
 56|1| 9
 57|1|10
 58|3|29
 59|3|30
 60|3|31
 61|3|32
 62|3|33
 63|3|34
 64|3|35
 65|3|36
 66|3|37
 67|3|38
 68|3|39
 69|3|40
 70|3|41
 71|3|42
 72|3|43
 73|3|44
 74|3|45
 75|3|46
 76|3|47
 77|3|48
 78|3|49
 79|3|50
 80|3|51
 81|3|52
 82|3|53
 83|3|54
 84|3|55
 85|3|56
 86|1|11
 87|1|12
 88|1|13
 89|1|14
 90|1|15
 91|1|16
 92|1|17
 93|1|18
 94|1|19
 95|1|20
 96|2|20
 97|2|21
 98|2|22
 99|2|23
100|2|24
101|2|25
102|2|26
103|2|27
104|2|28
105|2|29
106|2|30
107|2|31
108|2|32
109|2|33
110|2|34
111|2|35
112|2|36
113|2|37
114|2|38
115|1|21
116|1|22
117|1|23
118|1|24
119|1|25
120|1|26
121|1|27
122|1|28
123|1|29
124|1|30
(124 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
  a|b| c
---+-+--
124|1|30
123|1|29
122|1|28
121|1|27
120|1|26
119|1|25
118|1|24
117|1|23
116|1|22
115|1|21
114|2|38
113|2|37
112|2|36
111|2|35
110|2|34
109|2|33
108|2|32
107|2|31
106|2|30
105|2|29
104|2|28
103|2|27
102|2|26
101|2|25
100|2|24
 99|2|23
 98|2|22
 97|2|21
 96|2|20
 95|1|20
 94|1|19
 93|1|18
 92|1|17
 91|1|16
 90|1|15
 89|1|14
 88|1|13
 87|1|12
 86|1|11
 85|3|56
 84|3|55
 83|3|54
 82|3|53
 81|3|52
 80|3|51
 79|3|50
 78|3|49
 77|3|48
 76|3|47
 75|3|46
 74|3|45
 73|3|44
 72|3|43
 71|3|42
 70|3|41
 69|3|40
 68|3|39
 67|3|38
 66|3|37
 65|3|36
 64|3|35
 63|3|34
 62|3|33
 61|3|32
 60|3|31
 59|3|30
 58|3|29
 57|1|10
 56|1| 9
 55|1| 8
 54|1| 7
 53|1| 6
 52|1| 5
 51|1| 4
 50|1| 3
 49|1| 2
 48|1| 1
 47|2|19
 46|2|18
 45|2|17
 44|2|16
 43|2|15
 42|2|14
 41|2|13
 40|2|12
 39|2|11
 38|2|10
 37|2| 9
 36|2| 8
 35|2| 7
 34|2| 6
 33|2| 5
 32|2| 4
 31|2| 3
 30|2| 2
 29|2| 1
 28|3|28
 27|3|27
 26|3|26
 25|3|25
 24|3|24
 23|3|23
 22|3|22
 21|3|21
 20|3|20
 19|3|19
 18|3|18
 17|3|17
 16|3|16
 15|3|15
 14|3|14
 13|3|13
 12|3|12
 11|3|11
 10|3|10
  9|3| 9
  8|3| 8
  7|3| 7
  6|3| 6
  5|3| 5
  4|3| 4
  3|3| 3
  2|3| 2
  1|3| 1
(124 rows)

step s3abort: ROLLBACK;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1abort: ROLLBACK;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist

starting permutation: s2begin s3begin s1_insert s3_insert s2commit s1_insert s3abort s3begin s1begin s3abort s2_insert s1d_sel_dec s1d_sel_end s2_insert s1commit s2begin s2_insert s1_insert s2a_sel_dec s2a_sel_end s3_insert s3begin s1begin s2c_sel_dec s3commit s2d_sel_dec s2b_sel_dec s2b_sel_next s3_insert s3_insert s2c_sel_end s2d_sel_end s2b_sel_end s2abort s1commit
step s2begin: BEGIN;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s1begin s3begin s1b_sel_dec s1c_sel_dec s2begin s2d_sel_dec s1c_sel_end s2abort s2d_sel_next s3commit s1commit s2d_sel_forward s2begin s2abort s2d_sel_next s3begin s3_insert s1b_sel_backward s3d_sel_dec s1b_sel_prior s3c_sel_dec s2d_sel_end s2begin s3c_sel_forward s3d_sel_end s2d_sel_dec s3c_sel_next s2_insert s3abort s3c_sel_forward s2d_sel_end s3c_sel_end s1b_sel_end s2abort
step s1begin: BEGIN;
step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s2abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3commit: COMMIT;
step s1commit: COMMIT;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2begin: BEGIN;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2abort: ROLLBACK;

starting permutation: s3_insert s3begin s3a_sel_dec s3a_sel_next s3d_sel_dec s3commit s3d_sel_next s3d_sel_end s1begin s3a_sel_backward s3a_sel_prior s1b_sel_dec s1commit s1b_sel_forward s1b_sel_backward s3a_sel_next s3_insert s3a_sel_prior s3a_sel_prior s1b_sel_next s3a_sel_next s1b_sel_forward s1begin s1c_sel_dec s1c_sel_end s1b_sel_backward s3a_sel_forward s1a_sel_dec s1a_sel_backward s3a_sel_backward s1a_sel_end s3a_sel_end s1b_sel_end s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(27 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(28 rows)

step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;

starting permutation: s3_insert s1begin s3_insert s2begin s3begin s1c_sel_dec s2d_sel_dec s1a_sel_dec s1a_sel_backward s1c_sel_forward s1_insert s2_insert s2a_sel_dec s2a_sel_forward s3_insert s1c_sel_next s2d_sel_forward s1a_sel_backward s2_insert s2a_sel_next s2a_sel_backward s2d_sel_end s2c_sel_dec s2a_sel_forward s2a_sel_forward s1a_sel_prior s2abort s2a_sel_next s1_insert s2c_sel_forward s2c_sel_end s2a_sel_end s1c_sel_end s1a_sel_end s3abort s1commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
67|2| 1
68|2| 2
69|2| 3
70|2| 4
71|2| 5
72|2| 6
73|2| 7
74|2| 8
75|2| 9
76|2|10
77|2|11
78|2|12
79|2|13
80|2|14
81|2|15
82|2|16
83|2|17
84|2|18
85|2|19
(75 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
(56 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
85|2|19
84|2|18
83|2|17
82|2|16
81|2|15
80|2|14
79|2|13
78|2|12
77|2|11
76|2|10
75|2| 9
74|2| 8
73|2| 7
72|2| 6
71|2| 5
70|2| 4
69|2| 3
68|2| 2
67|2| 1
56|3|56
55|3|55
54|3|54
53|3|53
52|3|52
51|3|51
50|3|50
49|3|49
48|3|48
47|3|47
46|3|46
45|3|45
44|3|44
43|3|43
42|3|42
41|3|41
40|3|40
39|3|39
38|3|38
37|3|37
36|3|36
35|3|35
34|3|34
33|3|33
32|3|32
31|3|31
30|3|30
29|3|29
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(75 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
67|2| 1
68|2| 2
69|2| 3
70|2| 4
71|2| 5
72|2| 6
73|2| 7
74|2| 8
75|2| 9
76|2|10
77|2|11
78|2|12
79|2|13
80|2|14
81|2|15
82|2|16
83|2|17
84|2|18
85|2|19
(75 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s1begin s1d_sel_dec s2begin s1a_sel_dec s2a_sel_dec s1a_sel_forward s2_insert s2c_sel_dec s1c_sel_dec s2a_sel_forward s1c_sel_end s2a_sel_next s3begin s3abort s2c_sel_next s1a_sel_end s1c_sel_dec s2d_sel_dec s2d_sel_forward s3begin s2d_sel_next s1c_sel_next s2d_sel_next s1abort s1_insert s3a_sel_dec s3d_sel_dec s3a_sel_prior s1begin s2_insert s1c_sel_end s3d_sel_end s2d_sel_end s2c_sel_end s2a_sel_end s3a_sel_end s1d_sel_end s1commit s2commit s3commit
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1a_sel_end: CLOSE s1a_sel;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3begin: BEGIN;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s2_insert s1_insert s3_insert s1_insert s2_insert s2_insert s3begin s3d_sel_dec s3d_sel_end s2_insert s3abort s2_insert s3begin s1_insert s1begin s1a_sel_dec s3commit s3begin s3abort s3begin s1_insert s3commit s1a_sel_next s3begin s3commit s1a_sel_backward s1d_sel_dec s1d_sel_next s1_insert s1d_sel_next s1a_sel_end s1d_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3begin: BEGIN;
step s3commit: COMMIT;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1a_sel_end: CLOSE s1a_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s1abort: ROLLBACK;

starting permutation: s3begin s3a_sel_dec s3c_sel_dec s3b_sel_dec s1begin s3a_sel_end s1b_sel_dec s3b_sel_forward s3b_sel_end s2_insert s3d_sel_dec s1b_sel_forward s3abort s1a_sel_dec s3d_sel_forward s3_insert s3c_sel_forward s1d_sel_dec s1b_sel_backward s1a_sel_prior s1b_sel_forward s3c_sel_next s1abort s1a_sel_next s3d_sel_end s1b_sel_backward s3_insert s1_insert s1d_sel_next s3begin s1a_sel_end s1d_sel_end s1b_sel_end s3c_sel_end s3abort
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1abort: ROLLBACK;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s2begin s3_insert s1begin s1commit s2d_sel_dec s1_insert s2d_sel_end s2c_sel_dec s1_insert s2d_sel_dec s2c_sel_end s2abort s2d_sel_end s3begin s3_insert s3b_sel_dec s1_insert s3b_sel_end s3b_sel_dec s3b_sel_end s3d_sel_dec s3commit s3d_sel_end s1begin s1a_sel_dec s1commit s1a_sel_prior s2_insert s1begin s1a_sel_next s1a_sel_end s1abort
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;

starting permutation: s2begin s2b_sel_dec s1_insert s2b_sel_backward s2_insert s2b_sel_forward s2b_sel_next s2commit s2_insert s2b_sel_end s3_insert s2_insert s2begin s1begin s2d_sel_dec s2c_sel_dec s2c_sel_end s2d_sel_forward s2abort s1commit s1begin s3_insert s1abort s2begin s2b_sel_dec s2d_sel_end s2b_sel_forward s2c_sel_dec s2b_sel_forward s2c_sel_next s2c_sel_end s2b_sel_end s2abort
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|2|20
31|2|21
32|2|22
33|2|23
34|2|24
35|2|25
36|2|26
37|2|27
38|2|28
39|2|29
40|2|30
41|2|31
42|2|32
43|2|33
44|2|34
45|2|35
46|2|36
47|2|37
48|2|38
49|3| 1
50|3| 2
51|3| 3
52|3| 4
53|3| 5
54|3| 6
55|3| 7
56|3| 8
57|3| 9
58|3|10
59|3|11
60|3|12
61|3|13
62|3|14
63|3|15
64|3|16
65|3|17
66|3|18
67|3|19
68|3|20
69|3|21
70|3|22
71|3|23
72|3|24
73|3|25
74|3|26
75|3|27
76|3|28
77|2|39
78|2|40
79|2|41
80|2|42
81|2|43
82|2|44
83|2|45
84|2|46
85|2|47
86|2|48
87|2|49
88|2|50
89|2|51
90|2|52
91|2|53
92|2|54
93|2|55
94|2|56
95|2|57
(95 rows)

step s2abort: ROLLBACK;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
