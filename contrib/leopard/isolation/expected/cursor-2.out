Parsed test spec with 3 sessions

starting permutation: s3begin s3commit s2_update s3_update s3_update s2begin s2d_sel_dec s1_update s3_update s2commit s2d_sel_end s2_delete s1begin s2_update s1_update s1c_sel_dec s1b_sel_dec s1b_sel_backward s1c_sel_forward s2_delete s1b_sel_backward s1c_sel_end s1b_sel_end s1_delete s1a_sel_dec s3begin s1a_sel_end s2_delete s3_insert s3_delete s3commit s1abort
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2commit: COMMIT;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1_update s3begin s3abort s3begin s1_update s3_insert s3commit s3_delete s2_delete s1_delete s1_delete s2_insert s3begin s3abort s1begin s2_update s2begin s3begin s2b_sel_dec s3_update s2_update s1_update s2_insert s2abort s3abort s1abort s3_delete s1begin s1b_sel_dec s1a_sel_dec s1b_sel_end s2b_sel_end s1a_sel_end s1abort
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;

starting permutation: s1_update s1_insert s1_update s1_insert s3_delete s2_update s1_update s3begin s3c_sel_dec s2_insert s3c_sel_end s3_insert s1_delete s3c_sel_dec s3c_sel_forward s2_delete s3_update s3commit s2_update s1_update s3c_sel_end s1_update s2_update s1_insert s3_delete s1_delete s1_delete s1_delete s3begin s3commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|1| 1
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|1|21
23|2| 2
25|2| 4
26|2| 5
27|2| 6
28|2| 7
29|2| 8
30|2| 9
31|2|10
32|2|11
33|2|12
34|2|13
35|2|14
36|2|15
37|2|16
38|2|17
39|2|18
40|2|19
41|2|20
42|3| 1
43|3| 2
44|3| 3
45|3| 4
46|3| 5
47|3| 6
48|3| 7
49|3| 8
50|3| 9
51|3|10
52|3|11
53|3|12
54|3|13
55|3|14
56|3|15
57|3|16
58|3|17
59|3|18
60|3|19
61|3|20
62|3|21
63|3|22
64|3|23
65|3|24
66|3|25
67|3|26
68|3|27
69|3|28
(64 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3c_sel_end: CLOSE s3c_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3commit: COMMIT;

starting permutation: s3_update s3_update s1_insert s1_delete s1_delete s1_delete s1begin s1abort s2begin s2_update s2b_sel_dec s2a_sel_dec s2b_sel_prior s2a_sel_end s2b_sel_end s1begin s2d_sel_dec s1c_sel_dec s3_insert s2_insert s3_delete s1abort s2a_sel_dec s2_delete s2a_sel_end s2_delete s1_delete s1_insert s1c_sel_end s2d_sel_end s2abort
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1abort: ROLLBACK;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_end: CLOSE s2a_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;

starting permutation: s2begin s2_delete s2_insert s1_insert s2_insert s2commit s2begin s1_delete s2d_sel_dec s1_delete s2_delete s2b_sel_dec s2b_sel_backward s2b_sel_end s2_delete s1_delete s2c_sel_dec s1_delete s2d_sel_end s2c_sel_end s1begin s2d_sel_dec s2_delete s2_update s1b_sel_dec s3begin s2commit s1b_sel_end s2d_sel_end s2_update s3abort s1abort
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_end: CLOSE s2b_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s2commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s3_delete s1_insert s2_insert s3begin s1_insert s2begin s3d_sel_dec s2c_sel_dec s2a_sel_dec s2commit s3d_sel_next s2_update s2a_sel_next s3abort s3d_sel_end s2a_sel_end s3begin s2c_sel_next s2begin s2c_sel_end s3b_sel_dec s2c_sel_dec s2b_sel_dec s1begin s3b_sel_next s2b_sel_forward s1commit s2commit s2b_sel_next s2_insert s3b_sel_end s2b_sel_end s2c_sel_end s3abort
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3abort: ROLLBACK;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s3begin: BEGIN;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a| b| c
--+--+--
 1| 1| 1
 2| 1| 2
 4| 1| 4
 5| 1| 5
 6| 1| 6
 7| 1| 7
 8| 1| 8
 9| 1| 9
10| 1|10
11| 2| 1
12| 2| 2
14| 2| 4
15| 2| 5
16| 2| 6
17| 2| 7
18| 2| 8
19| 2| 9
20| 2|10
21| 2|11
22| 2|12
23| 2|13
24| 2|14
25| 2|15
26| 2|16
27| 2|17
28| 2|18
29| 2|19
30| 1|11
31| 1|12
32| 1|13
33| 1|14
34| 1|15
35| 1|16
36| 1|17
37| 1|18
38| 1|19
39| 1|20
40|20| 3
41|21| 3
(39 rows)

step s1commit: COMMIT;
step s2commit: COMMIT;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s3abort: ROLLBACK;

starting permutation: s3begin s1_insert s3_update s3_delete s3c_sel_dec s3abort s2_update s2_delete s2_insert s2_delete s2_update s1_delete s3c_sel_end s2_update s2_insert s3begin s3abort s1_insert s3_insert s2_insert s3_delete s2_delete s1_update s3_insert s3_delete s1begin s1commit s2begin s2b_sel_dec s3_insert s2b_sel_end s2abort
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;

starting permutation: s2_delete s2_update s2begin s2d_sel_dec s3_insert s2c_sel_dec s1begin s1b_sel_dec s1d_sel_dec s1c_sel_dec s2d_sel_forward s2_delete s1abort s1d_sel_end s3_insert s1b_sel_next s2c_sel_forward s2_update s2_insert s2c_sel_next s1_update s1b_sel_prior s2b_sel_dec s1b_sel_end s2_delete s2_delete s2c_sel_forward s2_insert s2a_sel_dec s1_insert s1c_sel_end s2d_sel_end s2c_sel_end s2a_sel_end s2b_sel_end s2commit
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1abort: ROLLBACK;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2commit: COMMIT;

starting permutation: s3_insert s2_insert s1begin s1abort s2begin s2d_sel_dec s2_insert s3_insert s2_delete s2_update s2d_sel_forward s2d_sel_end s1_update s1_insert s1_update s2abort s2_delete s1_insert s2_update s1_update s3_insert s2_update s3_insert s2_update s3_insert s3_delete s1begin s1commit s2begin s1_insert s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(47 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;

starting permutation: s1begin s3begin s2begin s2_insert s3c_sel_dec s2commit s1_insert s3_insert s2begin s2_update s3c_sel_next s1d_sel_dec s3a_sel_dec s3c_sel_end s1a_sel_dec s3a_sel_next s1d_sel_end s1a_sel_forward s3a_sel_end s1a_sel_next s3c_sel_dec s1a_sel_backward s1a_sel_end s2a_sel_dec s2a_sel_prior s1_insert s2b_sel_dec s2b_sel_prior s2_delete s2abort s3c_sel_end s2a_sel_end s2b_sel_end s1commit s3abort
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 2
22|1| 3
23|1| 4
24|1| 5
25|1| 6
26|1| 7
27|1| 8
28|1| 9
29|1|10
(29 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
29|1|10
28|1| 9
27|1| 8
26|1| 7
25|1| 6
24|1| 5
23|1| 4
22|1| 3
21|1| 2
20|1| 1
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
 1|2| 1
(29 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2abort: ROLLBACK;
step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1commit: COMMIT;
step s3abort: ROLLBACK;

starting permutation: s1_update s1_update s3begin s3commit s1_insert s3begin s1_insert s3b_sel_dec s2_update s2_delete s3_delete s3d_sel_dec s3b_sel_backward s2_insert s2_delete s3d_sel_next s3b_sel_forward s2_delete s2_insert s1_insert s3b_sel_end s3d_sel_end s3_update s3abort s1_insert s3begin s1_update s3abort s1_insert s1begin s1abort
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
4|1|4
(1 row)

step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
(20 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;

starting permutation: s1_insert s1_update s3_insert s3_update s2begin s2c_sel_dec s2_update s2c_sel_end s2b_sel_dec s3_insert s2d_sel_dec s2_insert s2_insert s2abort s2_insert s1begin s1abort s2d_sel_end s1_delete s2b_sel_end s3begin s3a_sel_dec s3a_sel_next s2_update s3c_sel_dec s3d_sel_dec s3commit s3a_sel_end s1_insert s3d_sel_end s3c_sel_end
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
4|1|4
(1 row)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3a_sel_end: CLOSE s3a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;

starting permutation: s3_delete s3_delete s3_update s3_update s3_update s2_delete s3_update s2_insert s3_update s2_insert s1_update s1_update s2_insert s2begin s2_insert s1_update s2commit s3_update s1_update s3begin s3abort s3_delete s2_update s1_delete s1_update s2begin s3begin s1begin s2abort s2begin s2commit s3commit s1commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s1begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3commit: COMMIT;
step s1commit: COMMIT;

starting permutation: s3_insert s3_insert s3_insert s3_update s3_update s1_delete s1_delete s3_insert s1_update s3begin s3_insert s1begin s2_delete s3_insert s3b_sel_dec s2begin s3b_sel_next s3b_sel_prior s3_delete s1a_sel_dec s3c_sel_dec s1commit s3a_sel_dec s3b_sel_next s1a_sel_end s3_update s1_delete s2d_sel_dec s3c_sel_end s3b_sel_backward s3b_sel_end s2d_sel_end s3a_sel_end s3commit s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s1a_sel_end: CLOSE s1a_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s2_insert s1_update s1_insert s1_insert s1_update s1_delete s1_insert s1_delete s3_update s1_delete s3_delete s2_insert s3_update s1_update s2_update s3begin s1_delete s3b_sel_dec s1_insert s3b_sel_next s3abort s1_delete s2_update s3b_sel_prior s2_update s3b_sel_prior s3_delete s1_update s2_delete s1_delete s3b_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s1_delete s3_insert s1_insert s3_insert s1_delete s3_delete s3_insert s2_delete s3_insert s1_delete s2_insert s2_update s3begin s2_delete s2begin s3d_sel_dec s2b_sel_dec s2_update s3d_sel_next s2c_sel_dec s2b_sel_forward s2c_sel_next s2c_sel_next s1_update s2b_sel_end s2c_sel_end s3b_sel_dec s1_update s2d_sel_dec s1_insert s3d_sel_end s3b_sel_end s2d_sel_end s3abort s2commit
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
  a| b|  c
---+--+---
  4| 3|  4
  5| 3|  5
  6| 3|  6
  7| 3|  7
  8| 3|  8
  9| 3|  9
 10| 3| 10
 11| 3| 11
 12| 3| 12
 13| 3| 13
 14| 3| 14
 15| 3| 15
 16| 3| 16
 17| 3| 17
 18| 3| 18
 19| 3| 19
 20| 3| 20
 21| 3| 21
 22| 3| 22
 23| 3| 23
 24| 3| 24
 25| 3| 25
 26| 3| 26
 27| 3| 27
 28| 3| 28
 32| 1|  4
 33| 1|  5
 34| 1|  6
 35| 1|  7
 36| 1|  8
 37| 1|  9
 38| 1| 10
 39| 3| 29
 40| 3| 30
 41| 3| 31
 42| 3| 32
 43| 3| 33
 44| 3| 34
 45| 3| 35
 46| 3| 36
 47| 3| 37
 48| 3| 38
 49| 3| 39
 50| 3| 40
 51| 3| 41
 52| 3| 42
 53| 3| 43
 54| 3| 44
 55| 3| 45
 56| 3| 46
 57| 3| 47
 58| 3| 48
 59| 3| 49
 60| 3| 50
 61| 3| 51
 62| 3| 52
 63| 3| 53
 64| 3| 54
 65| 3| 55
 66| 3| 56
 67| 3| 57
 68| 3| 58
 69| 3| 59
 70| 3| 60
 71| 3| 61
 72| 3| 62
 73| 3| 63
 74| 3| 64
 75| 3| 65
 76| 3| 66
 77| 3| 67
 78| 3| 68
 79| 3| 69
 80| 3| 70
 81| 3| 71
 82| 3| 72
 83| 3| 73
 84| 3| 74
 85| 3| 75
 86| 3| 76
 87| 3| 77
 88| 3| 78
 89| 3| 79
 90| 3| 80
 91| 3| 81
 92| 3| 82
 93| 3| 83
 94| 3| 84
 95| 3| 85
 96| 3| 86
 97| 3| 87
 98| 3| 88
 99| 3| 89
100| 3| 90
101| 3| 91
102| 3| 92
103| 3| 93
104| 3| 94
105| 3| 95
106| 3| 96
107| 3| 97
108| 3| 98
109| 3| 99
110| 3|100
111| 3|101
112| 3|102
113| 3|103
114| 3|104
115| 3|105
116| 3|106
117| 3|107
118| 3|108
119| 3|109
120| 3|110
121| 3|111
122| 3|112
124| 2|  2
126| 2|  4
127| 2|  5
128| 2|  6
129| 2|  7
130| 2|  8
131| 2|  9
132| 2| 10
133| 2| 11
134| 2| 12
135| 2| 13
136| 2| 14
137| 2| 15
138| 2| 16
139| 2| 17
140| 2| 18
141| 2| 19
142|20|  3
(134 rows)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
5|3|5
(1 row)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2b_sel_end: CLOSE s2b_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s3abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s2_update s3_insert s3begin s2_insert s2_delete s1_insert s3abort s1begin s1c_sel_dec s1abort s1begin s1d_sel_dec s1c_sel_forward s2_delete s3begin s2begin s2b_sel_dec s3abort s1b_sel_dec s1d_sel_next s1d_sel_end s2b_sel_forward s1b_sel_backward s2_delete s2_update s2b_sel_backward s2commit s2b_sel_prior s1_update s1_insert s2b_sel_end s1b_sel_end s1c_sel_end s1commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
30|2| 2
31|2| 3
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
49|1| 2
50|1| 3
51|1| 4
52|1| 5
53|1| 6
54|1| 7
55|1| 8
56|1| 9
57|1|10
(54 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
57|1|10
56|1| 9
55|1| 8
54|1| 7
53|1| 6
52|1| 5
51|1| 4
50|1| 3
49|1| 2
47|2|19
46|2|18
45|2|17
44|2|16
43|2|15
42|2|14
41|2|13
40|2|12
39|2|11
38|2|10
37|2| 9
36|2| 8
35|2| 7
34|2| 6
33|2| 5
32|2| 4
31|2| 3
30|2| 2
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
(54 rows)

step s2commit: COMMIT;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;

starting permutation: s2_insert s2_insert s1_delete s1_insert s3begin s2_insert s3_insert s2_update s3_update s3d_sel_dec s2begin s3a_sel_dec s3commit s2d_sel_dec s1_delete s1_update s3d_sel_next s2c_sel_dec s1_update s1_delete s2commit s2_update s3a_sel_end s2_delete s3begin s2c_sel_end s1begin s3a_sel_dec s3d_sel_end s3b_sel_dec s3b_sel_end s2d_sel_end s3a_sel_end s3abort s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_end: CLOSE s3a_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s2c_sel_end: CLOSE s2c_sel;
step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2_delete s3_update s1_insert s2begin s2_delete s2_insert s3_insert s2a_sel_dec s2a_sel_forward s2d_sel_dec s1begin s2a_sel_backward s2a_sel_next s2commit s1a_sel_dec s2begin s2a_sel_backward s1a_sel_prior s1_insert s1a_sel_prior s2_insert s1a_sel_next s2abort s1a_sel_prior s1_delete s1d_sel_dec s1a_sel_prior s1a_sel_backward s1a_sel_prior s1d_sel_next s2d_sel_end s1d_sel_end s1a_sel_end s2a_sel_end s1abort
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
30|3| 1
31|3| 2
32|3| 3
33|3| 4
34|3| 5
35|3| 6
36|3| 7
37|3| 8
38|3| 9
39|3|10
40|3|11
41|3|12
42|3|13
43|3|14
44|3|15
45|3|16
46|3|17
47|3|18
48|3|19
49|3|20
50|3|21
51|3|22
52|3|23
53|3|24
54|3|25
55|3|26
56|3|27
57|3|28
(56 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
57|3|28
56|3|27
55|3|26
54|3|25
53|3|24
52|3|23
51|3|22
50|3|21
49|3|20
48|3|19
47|3|18
46|3|17
45|3|16
44|3|15
43|3|14
42|3|13
41|3|12
40|3|11
39|3|10
38|3| 9
37|3| 8
36|3| 7
35|3| 6
34|3| 5
33|3| 4
32|3| 3
31|3| 2
30|3| 1
29|2|19
28|2|18
27|2|17
26|2|16
25|2|15
24|2|14
23|2|13
22|2|12
21|2|11
20|2|10
19|2| 9
18|2| 8
17|2| 7
16|2| 6
15|2| 5
14|2| 4
13|2| 3
12|2| 2
11|2| 1
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 3|1| 3
 2|1| 2
(56 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2commit: COMMIT;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2abort: ROLLBACK;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s1abort: ROLLBACK;

starting permutation: s3_insert s2begin s2_insert s2commit s3_delete s2_update s2_insert s2_update s1begin s1a_sel_dec s1c_sel_dec s3_update s1d_sel_dec s1a_sel_backward s3begin s2_insert s1a_sel_prior s2begin s2_delete s1c_sel_next s3abort s1_delete s1_insert s1_insert s1a_sel_next s1a_sel_end s3begin s2d_sel_dec s2_delete s2d_sel_next s1d_sel_end s2d_sel_end s1c_sel_end s2commit s3commit s1abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1a_sel_end: CLOSE s1a_sel;
step s3begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s1d_sel_end: CLOSE s1d_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s2commit: COMMIT;
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1_update s2_delete s1_delete s1_update s3_delete s2_delete s2begin s1_update s3begin s3b_sel_dec s3c_sel_dec s2b_sel_dec s2b_sel_end s3_update s3c_sel_end s1_update s3b_sel_prior s3_delete s2b_sel_dec s2a_sel_dec s2d_sel_dec s3b_sel_forward s3b_sel_next s3b_sel_backward s3a_sel_dec s3b_sel_end s2a_sel_next s3_delete s1_insert s2commit s2d_sel_end s3a_sel_end s2a_sel_end s2b_sel_end s3commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3c_sel_end: CLOSE s3c_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3commit: COMMIT;

starting permutation: s2_update s2begin s2_update s2a_sel_dec s2a_sel_next s2_insert s2c_sel_dec s2_insert s2_insert s2_update s2a_sel_forward s2abort s3_update s1_update s1_delete s1_update s3_insert s1_insert s1_insert s2_delete s3_update s2c_sel_next s2a_sel_backward s2a_sel_next s3begin s3b_sel_dec s3abort s3begin s2a_sel_next s2a_sel_backward s3b_sel_end s2a_sel_end s2c_sel_end s3commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3commit: COMMIT;

starting permutation: s1begin s3_insert s2_insert s1abort s1begin s1_delete s1b_sel_dec s3_update s1b_sel_backward s1c_sel_dec s3_insert s1c_sel_next s1b_sel_backward s3begin s3d_sel_dec s3abort s1b_sel_backward s3begin s3_insert s3_insert s1_insert s3abort s1a_sel_dec s3d_sel_forward s1_insert s1b_sel_forward s3_update s3d_sel_next s1b_sel_backward s1b_sel_prior s1c_sel_end s1a_sel_end s3d_sel_end s1b_sel_end s1abort
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|2| 1
30|2| 2
32|2| 4
33|2| 5
34|2| 6
35|2| 7
36|2| 8
37|2| 9
38|2|10
39|2|11
40|2|12
41|2|13
42|2|14
43|2|15
44|2|16
45|2|17
46|2|18
47|2|19
(45 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
47|2|19
46|2|18
45|2|17
44|2|16
43|2|15
42|2|14
41|2|13
40|2|12
39|2|11
38|2|10
37|2| 9
36|2| 8
35|2| 7
34|2| 6
33|2| 5
32|2| 4
30|2| 2
29|2| 1
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 2|3| 2
 1|3| 1
(45 rows)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;

starting permutation: s1_update s1begin s1b_sel_dec s1b_sel_backward s1b_sel_next s2begin s2_update s1abort s3_insert s2d_sel_dec s1b_sel_forward s1_insert s3_delete s1begin s3_insert s1a_sel_dec s1a_sel_next s1a_sel_next s1commit s2commit s2_insert s1a_sel_prior s3_delete s3_insert s1a_sel_next s1b_sel_end s2_insert s1a_sel_forward s1a_sel_forward s1_delete s2d_sel_end s1a_sel_end
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s1commit: COMMIT;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 1
31|1| 3
32|1| 4
33|1| 5
34|1| 6
35|1| 7
36|1| 8
37|1| 9
38|1|10
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
(62 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;

starting permutation: s2_insert s2begin s2d_sel_dec s1_delete s1_update s3_update s2c_sel_dec s2c_sel_forward s3_delete s2c_sel_next s3_insert s1_update s3_delete s2commit s3_delete s1_update s2_insert s2c_sel_end s3_update s1_update s2begin s1begin s2commit s3begin s1b_sel_dec s2d_sel_next s2d_sel_next s1b_sel_prior s3abort s1a_sel_dec s1b_sel_end s1a_sel_end s2d_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 2
21|1| 1
(18 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1abort: ROLLBACK;

starting permutation: s2_delete s3_delete s1_update s2_update s1_delete s3_insert s3_insert s1begin s1c_sel_dec s1c_sel_end s1d_sel_dec s2_update s1_insert s1a_sel_dec s2_delete s3begin s3c_sel_dec s1_delete s3d_sel_dec s1commit s3_update s3b_sel_dec s3_insert s2begin s1d_sel_forward s3b_sel_next s1d_sel_end s2a_sel_dec s2a_sel_forward s3c_sel_forward s3c_sel_end s2a_sel_end s3d_sel_end s1a_sel_end s3b_sel_end s3abort s2abort
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
58|1| 1
59|1| 2
61|1| 4
62|1| 5
63|1| 6
64|1| 7
65|1| 8
66|1| 9
67|1|10
(63 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 3
(55 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s1_update s2begin s3_update s2d_sel_dec s2_insert s3begin s3_delete s2_delete s3a_sel_dec s3a_sel_next s2d_sel_next s2commit s2_update s3a_sel_forward s2d_sel_next s2_update s1_insert s1_insert s3a_sel_forward s3a_sel_next s3a_sel_end s1_update s2d_sel_end s3_update s3d_sel_dec s3d_sel_forward s3b_sel_dec s3d_sel_end s3_delete s3b_sel_backward s3b_sel_end s3commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a| b| c
--+--+--
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
21|21| 3
24| 1| 3
25| 1| 4
26| 1| 5
27| 1| 6
28| 1| 7
29| 1| 8
30| 1| 9
31| 1|10
32| 1|11
33| 1|12
34| 1|13
35| 1|14
36| 1|15
37| 1|16
38| 1|17
39| 1|18
40| 1|19
41| 1|20
42|21| 2
43|22| 2
44| 1| 1
(38 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s2_insert s3_insert s3begin s3c_sel_dec s3c_sel_next s3_delete s3_delete s2begin s1_delete s3_update s2b_sel_dec s3commit s2_update s3c_sel_forward s3c_sel_next s2b_sel_forward s3c_sel_next s3_update s2c_sel_dec s2c_sel_end s2_insert s2b_sel_next s1_update s3_delete s2c_sel_dec s2_update s2_delete s3_insert s2b_sel_backward s2c_sel_forward s2c_sel_end s2b_sel_end s3c_sel_end s2abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(46 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|3| 1
21|3| 2
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(45 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
47|3|28
46|3|27
45|3|26
44|3|25
43|3|24
42|3|23
41|3|22
40|3|21
39|3|20
38|3|19
37|3|18
36|3|17
35|3|16
34|3|15
33|3|14
32|3|13
31|3|12
30|3|11
29|3|10
28|3| 9
27|3| 8
26|3| 7
25|3| 6
24|3| 5
23|3| 4
21|3| 2
20|3| 1
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 2|2| 2
 1|2| 1
(45 rows)

step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a| b| c
--+--+--
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
23| 3| 4
24| 3| 5
25| 3| 6
26| 3| 7
27| 3| 8
28| 3| 9
29| 3|10
30| 3|11
31| 3|12
32| 3|13
33| 3|14
34| 3|15
35| 3|16
36| 3|17
37| 3|18
38| 3|19
39| 3|20
40| 3|21
41| 3|22
42| 3|23
43| 3|24
44| 3|25
45| 3|26
46| 3|27
47| 3|28
50|31| 1
51|32| 1
52| 2|20
53| 2|21
54| 2|22
55| 2|23
56| 2|24
57| 2|25
58| 2|26
59| 2|27
60| 2|28
61| 2|29
62| 2|30
63| 2|31
64| 2|32
65| 2|33
66| 2|34
67| 2|35
68| 2|36
69| 2|37
70| 2|38
(62 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2abort: ROLLBACK;

starting permutation: s2_delete s2_insert s2begin s2_insert s2_update s3_insert s3_update s2_insert s2a_sel_dec s3_delete s2a_sel_prior s2a_sel_prior s1_delete s2commit s2a_sel_forward s3_delete s2_insert s2a_sel_end s2_delete s3begin s3abort s1_delete s1_insert s2_update s1begin s1_delete s1d_sel_dec s1d_sel_next s1b_sel_dec s2_update s1d_sel_end s1b_sel_end s1commit
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3; <waiting ...>
step s2commit: COMMIT;
step s1_delete: <... completed>
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a| b| c
--+--+--
 2| 2| 2
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
20| 2|20
21| 2|21
22| 2|22
23| 2|23
24| 2|24
25| 2|25
26| 2|26
27| 2|27
28| 2|28
29| 2|29
30| 2|30
31| 2|31
32| 2|32
33| 2|33
34| 2|34
35| 2|35
36| 2|36
37| 2|37
38| 2|38
39|39| 3
41| 3| 2
42| 3| 3
43| 3| 4
44| 3| 5
45| 3| 6
46| 3| 7
47| 3| 8
48| 3| 9
49| 3|10
50| 3|11
51| 3|12
52| 3|13
53| 3|14
54| 3|15
55| 3|16
56| 3|17
57| 3|18
58| 3|19
59| 3|20
60| 3|21
61| 3|22
62| 3|23
63| 3|24
64| 3|25
65| 3|26
66| 3|27
67| 3|28
68|29| 1
69|30| 1
70| 2|40
71| 2|41
72| 2|42
73| 2|43
74| 2|44
75| 2|45
76| 2|46
77| 2|47
78| 2|48
79| 2|49
80| 2|50
81| 2|51
82| 2|52
83| 2|53
84| 2|54
85| 2|55
86| 2|56
87| 2|57
88| 2|58
(85 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_end: CLOSE s2a_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3; <waiting ...>
step s1d_sel_end: CLOSE s1d_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1commit: COMMIT;
step s2_update: <... completed>

starting permutation: s2begin s2_update s2c_sel_dec s2commit s2_delete s2_update s3_insert s2c_sel_forward s2_delete s3begin s3_delete s3d_sel_dec s3a_sel_dec s3a_sel_end s1_insert s3_update s2c_sel_end s3commit s2_insert s3d_sel_next s2_update s1_update s2_insert s2_insert s2_update s3_update s2_delete s3begin s3b_sel_dec s1_insert s3b_sel_end s3d_sel_end s3commit
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3commit: COMMIT;

starting permutation: s2_update s3_delete s1_update s1_update s2_update s3_delete s2_update s3_insert s1_delete s1_update s2begin s2_update s3begin s3commit s2commit s1_update s1_insert s3_update s1_insert s3_insert s2_update s1_delete s1_delete s2_delete s3_update s3_delete s1_insert s1begin s3_update s3_insert s1commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2commit: COMMIT;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1commit: COMMIT;

starting permutation: s2begin s1_insert s2b_sel_dec s3begin s3d_sel_dec s2b_sel_backward s2d_sel_dec s1_update s3b_sel_dec s3a_sel_dec s2c_sel_dec s3a_sel_next s2b_sel_backward s3b_sel_backward s3d_sel_end s3abort s2b_sel_prior s3a_sel_prior s3b_sel_prior s3b_sel_prior s3a_sel_end s2b_sel_backward s3b_sel_end s2b_sel_prior s2b_sel_backward s2_insert s2b_sel_end s2_update s2a_sel_dec s1begin s2a_sel_end s2c_sel_end s2d_sel_end s2commit s1abort
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s3abort: ROLLBACK;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_end: CLOSE s2b_sel;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1_delete s2_update s1begin s1_update s1commit s2_delete s2_delete s3begin s3a_sel_dec s1_insert s2_delete s3d_sel_dec s3a_sel_backward s1_delete s3d_sel_forward s2_update s3a_sel_next s3a_sel_prior s2_delete s1_delete s3d_sel_forward s3_insert s1_delete s3a_sel_prior s1begin s1d_sel_dec s3a_sel_forward s3a_sel_next s1_delete s3c_sel_dec s3a_sel_end s1d_sel_end s3d_sel_end s3c_sel_end s1abort s3commit
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
(9 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s3_delete s3_update s3_insert s2_insert s3_insert s1_delete s2_update s3_delete s1_delete s1begin s2_insert s1_update s1abort s3_insert s3_delete s1begin s2_delete s1_insert s1_update s2_update s1_update s2_insert s2_delete s3begin s3c_sel_dec s1abort s3commit s3c_sel_end s1_insert s3begin s3commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s3commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;

starting permutation: s1begin s3_update s1commit s3_update s3begin s3_update s2begin s2commit s3commit s2_update s2_update s1_insert s3_delete s3_delete s1_update s3_update s2begin s2abort s1_update s2_insert s2_update s1begin s2begin s3begin s1commit s3abort s2_update s1begin s2abort s3begin s1commit s3abort
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s1commit: COMMIT;
step s3abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s1commit: COMMIT;
step s3abort: ROLLBACK;

starting permutation: s1_update s1begin s2_update s2_insert s2_insert s3_insert s1d_sel_dec s2_delete s1_update s1d_sel_end s1_insert s1_delete s1_update s3begin s1_update s3b_sel_dec s2_insert s1abort s3c_sel_dec s2_insert s3d_sel_dec s3b_sel_end s3d_sel_end s3commit s2_update s3c_sel_forward s3c_sel_forward s1_insert s2_delete s3_update s3c_sel_end
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1d_sel_end: CLOSE s1d_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
  a|b| c
---+-+--
  2|2| 2
  3|2| 3
  4|2| 4
  5|2| 5
  6|2| 6
  7|2| 7
  8|2| 8
  9|2| 9
 10|2|10
 11|2|11
 12|2|12
 13|2|13
 14|2|14
 15|2|15
 16|2|16
 17|2|17
 18|2|18
 19|2|19
 20|2|20
 21|2|21
 22|2|22
 23|2|23
 24|2|24
 25|2|25
 26|2|26
 27|2|27
 28|2|28
 29|2|29
 30|2|30
 31|2|31
 32|2|32
 33|2|33
 34|2|34
 35|2|35
 36|2|36
 37|2|37
 38|2|38
 40|3| 2
 41|3| 3
 42|3| 4
 43|3| 5
 44|3| 6
 45|3| 7
 46|3| 8
 47|3| 9
 48|3|10
 49|3|11
 50|3|12
 51|3|13
 52|3|14
 53|3|15
 54|3|16
 55|3|17
 56|3|18
 57|3|19
 58|3|20
 59|3|21
 60|3|22
 61|3|23
 62|3|24
 63|3|25
 64|3|26
 65|3|27
 66|3|28
 83|2|39
 84|2|40
 85|2|41
 86|2|42
 87|2|43
 88|2|44
 89|2|45
 90|2|46
 91|2|47
 92|2|48
 93|2|49
 94|2|50
 95|2|51
 96|2|52
 97|2|53
 98|2|54
 99|2|55
100|2|56
101|2|57
(83 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3c_sel_end: CLOSE s3c_sel;

starting permutation: s2begin s2_delete s2d_sel_dec s2d_sel_forward s2_delete s1_delete s3_delete s2commit s3_insert s3_delete s2_insert s3_update s2begin s2d_sel_end s1_update s2_insert s2_delete s3_insert s2abort s3_delete s2_delete s2_update s1_update s1_delete s2_delete s3_delete s3_delete s2_insert s1_update s2_delete
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;

starting permutation: s1_update s1_insert s3_delete s1_update s1begin s3_insert s1commit s1begin s1_update s3begin s3_delete s1b_sel_dec s1b_sel_backward s1b_sel_forward s1commit s3abort s3_delete s1b_sel_backward s1b_sel_forward s1b_sel_forward s1b_sel_backward s1_update s1_insert s1_update s1b_sel_end s1_delete s1_update s3_insert s1_delete s2begin s2abort
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2; <waiting ...>
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a| b| c
--+--+--
 1| 1| 1
 3| 1| 3
 4| 1| 4
 5| 1| 5
 6| 1| 6
 7| 1| 7
 8| 1| 8
 9| 1| 9
10| 1|10
11| 3| 1
13| 3| 3
14| 3| 4
15| 3| 5
16| 3| 6
17| 3| 7
18| 3| 8
19| 3| 9
20| 3|10
21| 3|11
22| 3|12
23| 3|13
24| 3|14
25| 3|15
26| 3|16
27| 3|17
28| 3|18
29| 3|19
30| 3|20
31| 3|21
32| 3|22
33| 3|23
34| 3|24
35| 3|25
36| 3|26
37| 3|27
38| 3|28
39|11| 2
(37 rows)

step s1commit: COMMIT;
step s3_delete: <... completed>
step s3abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s2abort: ROLLBACK;

starting permutation: s3_insert s3_insert s2_delete s3begin s2_delete s1_update s3c_sel_dec s1_insert s2begin s3abort s1_update s2commit s3_update s3_delete s3begin s3c_sel_forward s3_insert s1_delete s3b_sel_dec s3b_sel_end s2_delete s2begin s3c_sel_forward s2a_sel_dec s2a_sel_end s3c_sel_next s3_delete s3_insert s2_delete s3d_sel_dec s3c_sel_end s3d_sel_end s2abort s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_delete: DELETE FROM tbl WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s3_delete s2begin s2_delete s2a_sel_dec s2a_sel_end s3_insert s3_insert s3_update s2d_sel_dec s2a_sel_dec s3_delete s2a_sel_prior s2a_sel_forward s2commit s2_update s3_insert s2a_sel_backward s3_delete s2begin s2_update s1_delete s2d_sel_forward s2_delete s2_delete s2_insert s2b_sel_dec s2d_sel_end s2b_sel_end s2_delete s1_update s2a_sel_end s2abort
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a| b| c
--+--+--
 2| 3| 2
 3| 3| 3
 4| 3| 4
 5| 3| 5
 6| 3| 6
 7| 3| 7
 8| 3| 8
 9| 3| 9
10| 3|10
11| 3|11
12| 3|12
13| 3|13
14| 3|14
15| 3|15
16| 3|16
17| 3|17
18| 3|18
19| 3|19
20| 3|20
21| 3|21
22| 3|22
23| 3|23
24| 3|24
25| 3|25
26| 3|26
27| 3|27
28| 3|28
29| 3|29
30| 3|30
31| 3|31
32| 3|32
33| 3|33
34| 3|34
35| 3|35
36| 3|36
37| 3|37
38| 3|38
39| 3|39
40| 3|40
41| 3|41
42| 3|42
43| 3|43
44| 3|44
45| 3|45
46| 3|46
47| 3|47
48| 3|48
49| 3|49
50| 3|50
51| 3|51
52| 3|52
53| 3|53
54| 3|54
55| 3|55
56| 3|56
57|57| 1
(56 rows)

step s2commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
 a| b| c
--+--+--
57|57| 1
56| 3|56
55| 3|55
54| 3|54
53| 3|53
52| 3|52
51| 3|51
50| 3|50
49| 3|49
48| 3|48
47| 3|47
46| 3|46
45| 3|45
44| 3|44
43| 3|43
42| 3|42
41| 3|41
40| 3|40
39| 3|39
38| 3|38
37| 3|37
36| 3|36
35| 3|35
34| 3|34
33| 3|33
32| 3|32
31| 3|31
30| 3|30
29| 3|29
28| 3|28
27| 3|27
26| 3|26
25| 3|25
24| 3|24
23| 3|23
22| 3|22
21| 3|21
20| 3|20
19| 3|19
18| 3|18
17| 3|17
16| 3|16
15| 3|15
14| 3|14
13| 3|13
12| 3|12
11| 3|11
10| 3|10
 9| 3| 9
 8| 3| 8
 7| 3| 7
 6| 3| 6
 5| 3| 5
 4| 3| 4
 3| 3| 3
 2| 3| 2
(56 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3; <waiting ...>
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_delete: <... completed>
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;

starting permutation: s1_insert s2_update s3begin s3abort s1_delete s3_delete s3begin s1_insert s2_delete s3_update s3abort s3begin s3d_sel_dec s3commit s1begin s1abort s1_insert s1_delete s3begin s2begin s1_update s3_insert s2commit s3abort s1_delete s2_insert s1_insert s3d_sel_forward s3d_sel_forward s2_delete s3d_sel_end
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist

starting permutation: s3_insert s3begin s3commit s2_delete s1_insert s3_update s3_update s2begin s2abort s1begin s1c_sel_dec s1c_sel_end s1commit s1_delete s1_update s1_insert s2_delete s2begin s2abort s2_update s2begin s3begin s3commit s1_insert s3begin s3abort s3_update s3_insert s1_insert s3_update s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2commit: COMMIT;

starting permutation: s2begin s2c_sel_dec s2b_sel_dec s2_delete s2commit s1_update s2_insert s2b_sel_prior s3_update s2begin s2b_sel_prior s2b_sel_forward s2b_sel_next s1_insert s3_insert s1_delete s2c_sel_end s1_delete s2c_sel_dec s2b_sel_prior s2b_sel_next s2_insert s1begin s1d_sel_dec s2d_sel_dec s2b_sel_backward s1commit s2c_sel_forward s1d_sel_next s2_delete s2d_sel_end s1d_sel_end s2c_sel_end s2b_sel_end s2abort
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2commit: COMMIT;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;

starting permutation: s3_delete s3_delete s2begin s1_insert s1begin s1abort s3_update s2_delete s2a_sel_dec s2b_sel_dec s2b_sel_next s3_update s2b_sel_forward s2b_sel_prior s2a_sel_backward s2a_sel_forward s2_insert s2a_sel_backward s1_insert s2a_sel_forward s2_update s3_insert s2a_sel_forward s2_delete s2abort s2b_sel_end s1_update s2a_sel_forward s2_update s3begin s2a_sel_end s3commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s2a_sel" already exists
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a| b| c
--+--+--
 2| 3| 2
 3| 3| 3
 4| 3| 4
 5| 3| 5
 6| 3| 6
 7| 3| 7
 8| 3| 8
 9| 3| 9
10| 3|10
11| 3|11
12| 3|12
13| 3|13
14| 3|14
15| 3|15
16| 3|16
17| 3|17
18| 3|18
19| 3|19
20| 3|20
21| 3|21
22| 3|22
23| 3|23
24| 3|24
25| 3|25
26| 3|26
27| 3|27
28| 3|28
29| 3|29
30| 3|30
31| 3|31
32| 3|32
33| 3|33
34| 3|34
35| 3|35
36| 3|36
37| 3|37
38| 3|38
39| 3|39
40| 3|40
41| 3|41
42| 3|42
43| 3|43
44| 3|44
45| 3|45
46| 3|46
47| 3|47
48| 3|48
49| 3|49
50| 3|50
51| 3|51
52| 3|52
53| 3|53
54| 3|54
55| 3|55
56| 3|56
57|57| 1
(56 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s2a_sel_end: CLOSE s2a_sel;
step s3commit: COMMIT;

starting permutation: s2begin s3_delete s3_delete s1_delete s1_delete s2commit s3begin s3_insert s3commit s1_insert s3_insert s1begin s2_insert s1commit s2_update s3_delete s3_update s1_insert s2_update s2_insert s3begin s3_insert s1_insert s3b_sel_dec s2_update s1begin s1b_sel_dec s3b_sel_forward s3a_sel_dec s1commit s3b_sel_end s3a_sel_end s1b_sel_end s3commit
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
  a| b| c
---+--+--
  4| 3| 4
  5| 3| 5
  6| 3| 6
  7| 3| 7
  8| 3| 8
  9| 3| 9
 10| 3|10
 11| 3|11
 12| 3|12
 13| 3|13
 14| 3|14
 15| 3|15
 16| 3|16
 17| 3|17
 18| 3|18
 19| 3|19
 20| 3|20
 21| 3|21
 22| 3|22
 23| 3|23
 24| 3|24
 25| 3|25
 26| 3|26
 27| 3|27
 28| 3|28
 32| 1| 4
 33| 1| 5
 34| 1| 6
 35| 1| 7
 36| 1| 8
 37| 1| 9
 38| 1|10
 39| 3|29
 40| 3|30
 41| 3|31
 42| 3|32
 43| 3|33
 44| 3|34
 45| 3|35
 46| 3|36
 47| 3|37
 48| 3|38
 49| 3|39
 50| 3|40
 51| 3|41
 52| 3|42
 53| 3|43
 54| 3|44
 55| 3|45
 56| 3|46
 57| 3|47
 58| 3|48
 59| 3|49
 60| 3|50
 61| 3|51
 62| 3|52
 63| 3|53
 64| 3|54
 65| 3|55
 66| 3|56
 70| 2| 4
 71| 2| 5
 72| 2| 6
 73| 2| 7
 74| 2| 8
 75| 2| 9
 76| 2|10
 77| 2|11
 78| 2|12
 79| 2|13
 80| 2|14
 81| 2|15
 82| 2|16
 83| 2|17
 84| 2|18
 85| 2|19
 89|57| 1
 90|58| 1
 91|59| 1
 92| 1|11
 93| 1|12
 94| 1|13
 95| 1|14
 96| 1|15
 97| 1|16
 98| 1|17
 99| 1|18
100| 1|19
101| 1|20
102|23| 3
103|24| 3
104|25| 3
105| 2|26
106| 2|27
107| 2|28
108| 2|29
109| 2|30
110| 2|31
111| 2|32
112| 2|33
113| 2|34
114| 2|35
115| 2|36
116| 2|37
117| 2|38
118| 2|39
119| 2|40
120| 2|41
121| 2|42
122| 2|43
123| 2|44
124| 3|60
125| 3|61
126| 3|62
127| 3|63
128| 3|64
129| 3|65
130| 3|66
131| 3|67
132| 3|68
133| 3|69
134| 3|70
135| 3|71
136| 3|72
137| 3|73
138| 3|74
139| 3|75
140| 3|76
141| 3|77
142| 3|78
143| 3|79
144| 3|80
145| 3|81
146| 3|82
147| 3|83
148| 3|84
149| 3|85
150| 3|86
151| 3|87
152| 1|21
153| 1|22
154| 1|23
155| 1|24
156| 1|25
157| 1|26
158| 1|27
159| 1|28
160| 1|29
161| 1|30
(149 rows)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s3b_sel_end: CLOSE s3b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3commit: COMMIT;

starting permutation: s3_update s2_update s1begin s1abort s1_delete s3_insert s3_delete s3_update s1_delete s1_insert s1_delete s3_update s1_delete s1_delete s2_update s1_insert s3begin s3_update s3c_sel_dec s3a_sel_dec s3b_sel_dec s3b_sel_backward s1_insert s1begin s3_insert s3b_sel_prior s3commit s1_insert s1b_sel_dec s1b_sel_next s3c_sel_end s1b_sel_end s3a_sel_end s3b_sel_end s1commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1commit: COMMIT;

starting permutation: s1_update s1_delete s1_insert s2begin s2_insert s2_insert s2_insert s1_insert s2_update s2_update s2abort s2begin s3_insert s2d_sel_dec s3_delete s3_delete s2d_sel_next s2d_sel_end s2abort s1_delete s1_delete s2_delete s1_delete s3_insert s1_delete s3_insert s2_update s1_delete s3_update s3_delete
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s2d_sel_end: CLOSE s2d_sel;
step s2abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;

starting permutation: s3_delete s3_update s3begin s3commit s2_delete s3_update s3begin s3a_sel_dec s3_delete s3_update s3a_sel_prior s3d_sel_dec s2begin s2_insert s3commit s2commit s3a_sel_forward s2begin s3a_sel_forward s3a_sel_backward s3a_sel_forward s1_insert s2commit s2_update s1_delete s3begin s3a_sel_next s3abort s3d_sel_next s3a_sel_prior s3d_sel_end s3a_sel_end
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s2commit: COMMIT;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;

starting permutation: s3_delete s1begin s3_update s1a_sel_dec s2_update s1a_sel_end s1abort s2begin s1_update s1_update s2_insert s1begin s2c_sel_dec s1_insert s3_delete s2c_sel_forward s2_update s1abort s3_delete s1_update s2c_sel_next s1begin s2c_sel_next s2c_sel_forward s2c_sel_forward s1abort s2b_sel_dec s1begin s1c_sel_dec s2_update s1c_sel_end s2c_sel_end s2b_sel_end s2abort s1abort
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s2c_sel" already exists
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2_insert s1_update s2_update s2begin s1_update s2abort s2_delete s2_delete s1_update s1_update s3_insert s3begin s2_insert s3b_sel_dec s2_insert s3_insert s3b_sel_prior s1_update s3a_sel_dec s2_delete s3_insert s3_delete s3b_sel_forward s3a_sel_next s3abort s2begin s3b_sel_next s1_update s1_insert s3a_sel_end s3b_sel_end s2commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a| b| c
--+--+--
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
21|20| 3
24| 4| 2
25| 3| 1
26| 3| 2
27| 3| 3
28| 3| 4
29| 3| 5
30| 3| 6
31| 3| 7
32| 3| 8
33| 3| 9
34| 3|10
35| 3|11
36| 3|12
37| 3|13
38| 3|14
39| 3|15
40| 3|16
41| 3|17
42| 3|18
43| 3|19
44| 3|20
45| 3|21
46| 3|22
47| 3|23
48| 3|24
49| 3|25
50| 3|26
51| 3|27
52| 3|28
53| 2|21
54| 2|22
55| 2|23
56| 2|24
57| 2|25
58| 2|26
59| 2|27
60| 2|28
61| 2|29
62| 2|30
63| 2|31
64| 2|32
65| 2|33
66| 2|34
67| 2|35
68| 2|36
69| 2|37
70| 2|38
71| 2|39
(65 rows)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2commit: COMMIT;

starting permutation: s3_insert s1_delete s2_update s2_update s2_delete s1_delete s2_update s2_insert s3_update s3begin s3_update s3abort s2_insert s2begin s2_update s2c_sel_dec s2d_sel_dec s2d_sel_next s1_insert s2commit s3_insert s3_insert s2begin s2_delete s1_insert s2c_sel_next s2commit s3_insert s2_delete s2begin s2d_sel_end s2c_sel_end s2abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s2c_sel" already exists
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;

starting permutation: s3_delete s2begin s3_update s2_update s2c_sel_dec s2b_sel_dec s2b_sel_backward s2_delete s2a_sel_dec s2b_sel_prior s1_update s3_update s2a_sel_next s2_delete s2b_sel_backward s1_delete s1begin s2a_sel_prior s2commit s3_insert s2_delete s2c_sel_end s1_delete s2a_sel_end s1abort s1_insert s1begin s3begin s3_update s2_insert s2b_sel_end s1commit s3abort
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s2c_sel" already exists
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1commit: COMMIT;
step s3abort: ROLLBACK;

starting permutation: s1_update s1_insert s1_update s2_update s3_update s2begin s1_insert s2c_sel_dec s1_delete s2commit s1_insert s3_update s1_delete s1_delete s2_update s3_delete s1_delete s2c_sel_next s2_update s2c_sel_next s2_update s1_insert s2_delete s2c_sel_next s1_delete s3begin s2_insert s3commit s1_update s2c_sel_next s2c_sel_end
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
4|1|4
(1 row)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
5|1|5
(1 row)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
6|1|6
(1 row)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3commit: COMMIT;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
7|1|7
(1 row)

step s2c_sel_end: CLOSE s2c_sel;

starting permutation: s3_insert s2begin s3_insert s2abort s1_update s1_update s3_insert s2_insert s3_delete s1_insert s2_update s2begin s3_delete s2abort s3begin s2_update s2_delete s1_delete s2_delete s3abort s2begin s2abort s2_insert s3begin s2_delete s2_insert s3b_sel_dec s1_update s1_insert s2begin s3b_sel_end s2abort s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3b_sel_end: CLOSE s3b_sel;
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1begin s2begin s2_update s1abort s3_update s2_insert s2_delete s2commit s2_insert s3begin s2_delete s2_delete s2begin s2b_sel_dec s2abort s1_update s3b_sel_dec s2b_sel_backward s1_insert s3b_sel_end s2_delete s1begin s3d_sel_dec s3commit s2b_sel_backward s3begin s3d_sel_next s3c_sel_dec s2b_sel_backward s2b_sel_forward s2b_sel_end s3c_sel_end s3d_sel_end s1abort s3abort
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3begin: BEGIN;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2_insert s3_delete s3begin s1_delete s2_insert s2_insert s3abort s3_insert s1begin s2_insert s3_delete s3begin s3_delete s3b_sel_dec s3abort s3b_sel_next s3b_sel_backward s3begin s2_insert s2_update s3b_sel_forward s3d_sel_dec s1_delete s1_update s3d_sel_forward s3b_sel_forward s3_delete s2_delete s3b_sel_prior s1_update s3b_sel_end s3d_sel_end s1commit s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_delete: DELETE FROM tbl WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s1_insert s1begin s3_insert s3begin s2begin s2abort s2_update s2begin s2c_sel_dec s1b_sel_dec s2_insert s1b_sel_prior s2commit s2_delete s1a_sel_dec s3_insert s1a_sel_next s3d_sel_dec s3_insert s2_update s1a_sel_forward s2_insert s1b_sel_end s3d_sel_next s3a_sel_dec s1_update s3d_sel_next s1a_sel_forward s2_update s2_insert s3d_sel_end s2c_sel_end s3a_sel_end s1a_sel_end s3commit s1abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
12|3| 2
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|1| 3
40|2| 3
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|2|20
59|2|21
(54 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
4|1|4
(1 row)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3commit: COMMIT;
step s1abort: ROLLBACK;

starting permutation: s1_insert s1_insert s1begin s1a_sel_dec s3_insert s1_delete s1a_sel_end s1a_sel_dec s3_update s1a_sel_prior s1a_sel_forward s1a_sel_backward s1a_sel_forward s1a_sel_prior s1_insert s1_delete s3begin s2_insert s3c_sel_dec s1a_sel_forward s1_insert s1d_sel_dec s1a_sel_end s1commit s3a_sel_dec s2_delete s3a_sel_next s3_insert s3c_sel_next s2_insert s3c_sel_end s1d_sel_end s3a_sel_end s3abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_end: CLOSE s1a_sel;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|3| 1
22|3| 2
24|3| 4
25|3| 5
26|3| 6
27|3| 7
28|3| 8
29|3| 9
30|3|10
31|3|11
32|3|12
33|3|13
34|3|14
35|3|15
36|3|16
37|3|17
38|3|18
39|3|19
40|3|20
41|3|21
42|3|22
43|3|23
44|3|24
45|3|25
46|3|26
47|3|27
48|3|28
(46 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
48|3|28
47|3|27
46|3|26
45|3|25
44|3|24
43|3|23
42|3|22
41|3|21
40|3|20
39|3|19
38|3|18
37|3|17
36|3|16
35|3|15
34|3|14
33|3|13
32|3|12
31|3|11
30|3|10
29|3| 9
28|3| 8
27|3| 7
26|3| 6
25|3| 5
24|3| 4
22|3| 2
21|3| 1
20|1|20
19|1|19
18|1|18
17|1|17
16|1|16
15|1|15
14|1|14
13|1|13
12|1|12
11|1|11
10|1|10
 9|1| 9
 8|1| 8
 7|1| 7
 6|1| 6
 5|1| 5
 4|1| 4
 2|1| 2
 1|1| 1
(46 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1|11
12|1|12
13|1|13
14|1|14
15|1|15
16|1|16
17|1|17
18|1|18
19|1|19
20|1|20
21|3| 1
22|3| 2
24|3| 4
25|3| 5
26|3| 6
27|3| 7
28|3| 8
29|3| 9
30|3|10
31|3|11
32|3|12
33|3|13
34|3|14
35|3|15
36|3|16
37|3|17
38|3|18
39|3|19
40|3|20
41|3|21
42|3|22
43|3|23
44|3|24
45|3|25
46|3|26
47|3|27
48|3|28
(46 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
 a|b| c
--+-+--
48|3|28
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_end: CLOSE s3c_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
step s3abort: ROLLBACK;

starting permutation: s2_delete s1_update s1_insert s3_insert s2_delete s2_update s3_delete s2_insert s3_delete s3_update s3_update s1begin s1abort s2_update s3_insert s2_delete s1_delete s1_update s3_delete s1_update s1_update s3_update s2_delete s3_insert s1_delete s2begin s2c_sel_dec s2c_sel_end s1_insert s3_delete s2commit
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2commit: COMMIT;

starting permutation: s3begin s2_delete s3b_sel_dec s3b_sel_backward s1begin s2_delete s1a_sel_dec s1_insert s1b_sel_dec s3abort s3_insert s3_insert s1b_sel_end s1a_sel_forward s1c_sel_dec s1b_sel_dec s1a_sel_backward s1c_sel_end s1commit s1_delete s3begin s3c_sel_dec s3_update s1a_sel_next s3c_sel_forward s3c_sel_next s1_update s1_insert s3_delete s3a_sel_dec s3a_sel_end s1a_sel_end s3c_sel_end s1b_sel_end s3b_sel_end s3abort
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|3| 1
12|3| 2
14|3| 4
15|3| 5
16|3| 6
17|3| 7
18|3| 8
19|3| 9
20|3|10
21|3|11
22|3|12
23|3|13
24|3|14
25|3|15
26|3|16
27|3|17
28|3|18
29|3|19
30|3|20
31|3|21
32|3|22
33|3|23
34|3|24
35|3|25
36|3|26
37|3|27
38|3|28
39|3|29
40|3|30
41|3|31
42|3|32
43|3|33
44|3|34
45|3|35
46|3|36
47|3|37
48|3|38
49|3|39
50|3|40
51|3|41
52|3|42
53|3|43
54|3|44
55|3|45
56|3|46
57|3|47
58|3|48
59|3|49
60|3|50
61|3|51
62|3|52
63|3|53
64|3|54
65|3|55
66|3|56
(64 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s3_delete s1_update s3_insert s3_insert s1_insert s2begin s2_insert s2b_sel_dec s2_update s2_update s1_insert s3_update s2abort s3_delete s3_update s2b_sel_next s1begin s2_insert s3begin s3a_sel_dec s3abort s3begin s2_update s1_insert s1c_sel_dec s3a_sel_next s3d_sel_dec s3a_sel_forward s3_insert s1c_sel_forward s3d_sel_end s3a_sel_end s2b_sel_end s1c_sel_end s3abort s1commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
  a| b| c
---+--+--
  4| 3| 4
  5| 3| 5
  6| 3| 6
  7| 3| 7
  8| 3| 8
  9| 3| 9
 10| 3|10
 11| 3|11
 12| 3|12
 13| 3|13
 14| 3|14
 15| 3|15
 16| 3|16
 17| 3|17
 18| 3|18
 19| 3|19
 20| 3|20
 21| 3|21
 22| 3|22
 23| 3|23
 24| 3|24
 25| 3|25
 26| 3|26
 27| 3|27
 28| 3|28
 29| 3|29
 30| 3|30
 31| 3|31
 32| 3|32
 33| 3|33
 34| 3|34
 35| 3|35
 36| 3|36
 37| 3|37
 38| 3|38
 39| 3|39
 40| 3|40
 41| 3|41
 42| 3|42
 43| 3|43
 44| 3|44
 45| 3|45
 46| 3|46
 47| 3|47
 48| 3|48
 49| 3|49
 50| 3|50
 51| 3|51
 52| 3|52
 53| 3|53
 54| 3|54
 55| 3|55
 56| 3|56
 60| 1| 4
 61| 1| 5
 62| 1| 6
 63| 1| 7
 64| 1| 8
 65| 1| 9
 66| 1|10
 92| 1|11
 93| 1|12
 94| 1|13
 95| 1|14
 96| 1|15
 97| 1|16
 98| 1|17
 99| 1|18
100| 1|19
101| 1|20
104|59| 1
105|60| 1
106| 2|26
107| 2|27
108| 2|28
109| 2|29
110| 2|30
111| 2|31
112| 2|32
113| 2|33
114| 2|34
115| 2|35
116| 2|36
117| 2|37
118| 2|38
119| 2|39
120| 2|40
121| 2|41
122| 2|42
123| 2|43
124| 2|44
125|45| 3
126|46| 3
127| 1|21
128| 1|22
129| 1|23
130| 1|24
131| 1|25
132| 1|26
133| 1|27
134| 1|28
135| 1|29
136| 1|30
(103 rows)

step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s3abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s1begin s3_insert s1d_sel_dec s1b_sel_dec s1_delete s1d_sel_forward s1b_sel_prior s3begin s2_delete s2_insert s1_delete s1b_sel_forward s1b_sel_next s1b_sel_backward s1a_sel_dec s1_insert s1commit s3abort s2begin s1_insert s1d_sel_forward s2a_sel_dec s2b_sel_dec s1a_sel_prior s1_update s3_update s1d_sel_next s2_insert s1b_sel_backward s1_insert s1d_sel_end s1a_sel_end s1b_sel_end s2a_sel_end s2b_sel_end s2abort
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
28|3|28
27|3|27
26|3|26
25|3|25
24|3|24
23|3|23
22|3|22
21|3|21
20|3|20
19|3|19
18|3|18
17|3|17
16|3|16
15|3|15
14|3|14
13|3|13
12|3|12
11|3|11
10|3|10
 9|3| 9
 8|3| 8
 7|3| 7
 6|3| 6
 5|3| 5
 4|3| 4
 3|3| 3
 2|3| 2
 1|3| 1
(28 rows)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2abort: ROLLBACK;

starting permutation: s2begin s2a_sel_dec s3_update s2b_sel_dec s2d_sel_dec s1begin s2_insert s1abort s2commit s2b_sel_prior s2a_sel_end s2b_sel_prior s1_delete s1begin s3_insert s1c_sel_dec s3_update s3begin s2b_sel_backward s3a_sel_dec s1c_sel_next s2b_sel_next s2d_sel_end s1b_sel_dec s3abort s1d_sel_dec s3a_sel_next s1d_sel_next s1_delete s1_update s2b_sel_end s1b_sel_end s3a_sel_end s1d_sel_end s1c_sel_end s1abort
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s2commit: COMMIT;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
step s1c_sel_end: CLOSE s1c_sel;
step s1abort: ROLLBACK;

starting permutation: s1_delete s2_update s2_insert s3_insert s3_insert s3begin s1begin s1c_sel_dec s2_insert s1abort s1begin s3_insert s2_delete s3d_sel_dec s2begin s1c_sel_next s1c_sel_forward s1b_sel_dec s2abort s1_delete s1b_sel_end s3abort s1abort s3d_sel_end s2_update s3_delete s1begin s1_insert s1commit s1_insert s1c_sel_end
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist

starting permutation: s1_insert s2_insert s2_update s3_update s1_delete s3_update s1_delete s2_delete s1_delete s1_insert s3begin s2begin s2a_sel_dec s2abort s3abort s2_delete s1_update s1_delete s2_delete s3_update s1begin s2begin s1abort s3_update s1_delete s2d_sel_dec s2a_sel_backward s2c_sel_dec s1begin s2a_sel_next s2d_sel_end s2c_sel_end s2a_sel_end s1abort s2commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1begin: BEGIN;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s3_delete s1_insert s2begin s1begin s2_insert s1commit s3begin s3a_sel_dec s2commit s1begin s3_delete s1_insert s2_delete s3a_sel_end s1commit s1_insert s3c_sel_dec s3commit s3c_sel_end s2begin s3_delete s2_insert s1_delete s2_insert s2c_sel_dec s3_update s2commit s3_insert s3_update s1_update s2c_sel_end
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3a_sel_end: CLOSE s3a_sel;
step s1commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3c_sel_end: CLOSE s3c_sel;
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2c_sel_end: CLOSE s2c_sel;

starting permutation: s3_update s2_update s3_update s1_delete s3_insert s1_delete s3_delete s1_delete s2begin s3_insert s3begin s3commit s2a_sel_dec s2a_sel_prior s2a_sel_end s2b_sel_dec s2abort s1_insert s2b_sel_forward s3_delete s3_insert s1begin s2b_sel_prior s2_update s1b_sel_dec s1d_sel_dec s2b_sel_next s2b_sel_prior s1abort s1b_sel_end s1d_sel_end s2b_sel_end
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1abort: ROLLBACK;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist

starting permutation: s2begin s2d_sel_dec s2_delete s2d_sel_next s2d_sel_end s2_delete s2a_sel_dec s1_delete s1begin s3_insert s1_insert s2commit s3_delete s2a_sel_backward s1_insert s3_insert s3_delete s1d_sel_dec s2a_sel_backward s1commit s2begin s2a_sel_prior s2a_sel_next s1_update s2commit s3begin s2_delete s3_delete s1d_sel_end s3a_sel_dec s3a_sel_end s2a_sel_end s3commit
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s2begin: BEGIN;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_end: CLOSE s3a_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3commit: COMMIT;

starting permutation: s1_insert s3_update s2begin s3_delete s2a_sel_dec s2abort s2a_sel_prior s3_delete s2_insert s2_delete s2a_sel_forward s3_delete s3_update s3_delete s3begin s2begin s2commit s2_delete s2begin s3b_sel_dec s3b_sel_next s3b_sel_end s3_update s2c_sel_dec s2a_sel_next s3c_sel_dec s3commit s3_update s1_delete s1_update s2c_sel_end s3c_sel_end s2a_sel_end s2abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
3|1|3
(1 row)

step s3b_sel_end: CLOSE s3b_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;

starting permutation: s2begin s3_insert s2_delete s2_insert s2_update s3begin s2_insert s2commit s3abort s1_insert s1_insert s2_update s1begin s1commit s3_insert s3_insert s2begin s3begin s3c_sel_dec s3c_sel_end s3a_sel_dec s1_insert s3a_sel_end s3d_sel_dec s3d_sel_next s2_insert s3d_sel_forward s2d_sel_dec s3d_sel_forward s2a_sel_dec s2d_sel_end s2a_sel_end s3d_sel_end s3commit s2commit
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2commit: COMMIT;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|3|2
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a| b| c
---+--+--
  4| 3| 4
  5| 3| 5
  6| 3| 6
  7| 3| 7
  8| 3| 8
  9| 3| 9
 10| 3|10
 11| 3|11
 12| 3|12
 13| 3|13
 14| 3|14
 15| 3|15
 16| 3|16
 17| 3|17
 18| 3|18
 19| 3|19
 20| 3|20
 21| 3|21
 22| 3|22
 23| 3|23
 24| 3|24
 25| 3|25
 26| 3|26
 27| 3|27
 28| 3|28
 29| 2| 1
 30| 2| 2
 32| 2| 4
 33| 2| 5
 34| 2| 6
 35| 2| 7
 36| 2| 8
 37| 2| 9
 38| 2|10
 39| 2|11
 40| 2|12
 41| 2|13
 42| 2|14
 43| 2|15
 44| 2|16
 45| 2|17
 46| 2|18
 47| 2|19
 50| 2|22
 51| 2|23
 52| 2|24
 53| 2|25
 54| 2|26
 55| 2|27
 56| 2|28
 57| 2|29
 58| 2|30
 59| 2|31
 60| 2|32
 61| 2|33
 62| 2|34
 63| 2|35
 64| 2|36
 65| 2|37
 66| 2|38
 67| 2|39
 68| 2|40
 69| 1| 1
 70| 1| 2
 72| 1| 4
 73| 1| 5
 74| 1| 6
 75| 1| 7
 76| 1| 8
 77| 1| 9
 78| 1|10
 79| 1|11
 80| 1|12
 81| 1|13
 82| 1|14
 83| 1|15
 84| 1|16
 85| 1|17
 86| 1|18
 87| 1|19
 88| 1|20
 89|41| 3
 90|42| 3
 91|43| 3
 92| 3|29
 93| 3|30
 94| 3|31
 95| 3|32
 96| 3|33
 97| 3|34
 98| 3|35
 99| 3|36
100| 3|37
101| 3|38
102| 3|39
103| 3|40
104| 3|41
105| 3|42
106| 3|43
107| 3|44
108| 3|45
109| 3|46
110| 3|47
111| 3|48
112| 3|49
113| 3|50
114| 3|51
115| 3|52
116| 3|53
117| 3|54
118| 3|55
119| 3|56
120| 3|57
121| 3|58
122| 3|59
123| 3|60
124| 3|61
125| 3|62
126| 3|63
127| 3|64
128| 3|65
129| 3|66
130| 3|67
131| 3|68
132| 3|69
133| 3|70
134| 3|71
135| 3|72
136| 3|73
137| 3|74
138| 3|75
139| 3|76
140| 3|77
141| 3|78
142| 3|79
143| 3|80
144| 3|81
145| 3|82
146| 3|83
147| 3|84
148| 1|21
149| 1|22
150| 1|23
151| 1|24
152| 1|25
153| 1|26
154| 1|27
155| 1|28
156| 1|29
157| 1|30
(150 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s3begin s3d_sel_dec s3b_sel_dec s2begin s1_insert s3commit s3b_sel_forward s3begin s1_delete s3_insert s1_update s3b_sel_next s1_update s3d_sel_end s1_insert s2d_sel_dec s3b_sel_next s1_update s3_insert s3_insert s3a_sel_dec s2_insert s2_delete s2d_sel_next s3c_sel_dec s3abort s2c_sel_dec s2abort s1_delete s2_update s2c_sel_end s3a_sel_end s3c_sel_end s2d_sel_end s3b_sel_end
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s1_insert s3_delete s3_insert s3begin s1begin s2_delete s3abort s1abort s2_insert s3_delete s2_insert s2begin s2_delete s2abort s3begin s3commit s2_delete s1_delete s2begin s2_insert s1_insert s3_delete s2_insert s3begin s3c_sel_dec s1_insert s2a_sel_dec s2_update s3_insert s2a_sel_prior s3c_sel_end s2a_sel_end s2commit s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s1begin s1c_sel_dec s2_delete s1commit s1c_sel_next s1c_sel_forward s1begin s1c_sel_next s1d_sel_dec s1d_sel_end s2_delete s1a_sel_dec s1abort s1a_sel_prior s1a_sel_next s3_delete s3_delete s1a_sel_forward s2_insert s1_insert s2_delete s1_delete s1a_sel_next s1_update s2_insert s1c_sel_next s3_update s1c_sel_end s1_update s1a_sel_backward s1a_sel_end
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1commit: COMMIT;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1c_sel_end: CLOSE s1c_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist

starting permutation: s1begin s3_update s1d_sel_dec s1_delete s1d_sel_end s1_delete s2begin s3_delete s1_update s1_insert s1_insert s2d_sel_dec s2d_sel_next s3_delete s1commit s3_delete s1_insert s2commit s2_delete s3_insert s2begin s1_insert s2d_sel_next s3begin s1begin s3_delete s2_delete s2d_sel_forward s3_delete s2_delete s2d_sel_end s2commit s1commit s3commit
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_end: CLOSE s1d_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s1begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s2_update s2_delete s2_update s1_insert s2_insert s3_delete s1_update s3_update s2_update s2begin s2abort s2begin s2d_sel_dec s2d_sel_forward s2abort s2d_sel_next s3_insert s2d_sel_forward s1_update s2begin s3_insert s2c_sel_dec s1_delete s2c_sel_end s2d_sel_forward s1_delete s2d_sel_forward s2commit s1_delete s2d_sel_forward s2d_sel_end
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a| b| c
--+--+--
 4| 1| 4
 5| 1| 5
 6| 1| 6
 7| 1| 7
 8| 1| 8
 9| 1| 9
10| 1|10
14| 2| 4
15| 2| 5
16| 2| 6
17| 2| 7
18| 2| 8
19| 2| 9
20| 2|10
21| 2|11
22| 2|12
23| 2|13
24| 2|14
25| 2|15
26| 2|16
27| 2|17
28| 2|18
29| 2|19
30| 1| 1
31| 2| 1
32|20| 3
33|21| 3
(27 rows)

step s2abort: ROLLBACK;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_end: CLOSE s2c_sel;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s3_update s3_update s3_update s1_update s3_delete s1_insert s2_insert s1_delete s2_update s2_delete s1_update s3begin s3abort s2_update s1_update s3_update s1_update s2_delete s2begin s3begin s3c_sel_dec s2c_sel_dec s2commit s1_delete s3commit s3_delete s2_insert s2begin s2c_sel_forward s2_delete s3c_sel_end s2c_sel_end s2commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a| b| c
--+--+--
 4| 1| 4
 5| 1| 5
 6| 1| 6
 7| 1| 7
 8| 1| 8
 9| 1| 9
10| 1|10
14| 2| 4
15| 2| 5
16| 2| 6
17| 2| 7
18| 2| 8
19| 2| 9
20| 2|10
21| 2|11
22| 2|12
23| 2|13
24| 2|14
25| 2|15
26| 2|16
27| 2|17
28| 2|18
29| 2|19
34|15| 2
35|16| 2
(25 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3c_sel_end: CLOSE s3c_sel;
step s2c_sel_end: CLOSE s2c_sel;
step s2commit: COMMIT;

starting permutation: s3begin s2_insert s3_update s3b_sel_dec s1begin s2_delete s3b_sel_prior s1commit s3_insert s3_insert s1begin s3commit s2_insert s3_delete s1c_sel_dec s1_insert s1c_sel_next s3_delete s1c_sel_end s3b_sel_end s1d_sel_dec s1abort s2_update s1_delete s1d_sel_forward s3begin s1d_sel_next s2_delete s3d_sel_dec s1d_sel_end s3d_sel_end s3abort
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1; <waiting ...>
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3commit: COMMIT;
step s2_delete: <... completed>
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
3|2|3
(1 row)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_end: CLOSE s1c_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
step s3abort: ROLLBACK;

starting permutation: s3_update s1_delete s2_update s1begin s1_update s1d_sel_dec s2_delete s2begin s1d_sel_next s1c_sel_dec s1c_sel_forward s2b_sel_dec s3begin s3commit s1_delete s2abort s1a_sel_dec s3_delete s1c_sel_next s2_update s2begin s1d_sel_next s1abort s2a_sel_dec s1_insert s2abort s3begin s3_delete s2a_sel_next s2b_sel_backward s1a_sel_end s1d_sel_end s2a_sel_end s2b_sel_end s1c_sel_end s3commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2abort: ROLLBACK;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3commit: COMMIT;

starting permutation: s1_delete s1_delete s2_delete s3_update s1begin s2_delete s3_insert s1commit s3begin s3_delete s2_update s2_update s3commit s3_update s1_delete s3_delete s2_insert s2_update s2_delete s3begin s3_delete s1_insert s2begin s1_update s3b_sel_dec s2abort s3commit s2_update s1_update s1_update s3b_sel_end
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1commit: COMMIT;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s1_delete s2_update s2_update s3_update s2begin s1_delete s3_update s2_delete s2a_sel_dec s2_update s3_delete s2_update s3_update s3_update s2abort s2_delete s1_insert s3_delete s3_update s1begin s2a_sel_backward s1b_sel_dec s1b_sel_backward s1_insert s2a_sel_backward s1b_sel_next s1c_sel_dec s2a_sel_backward s2begin s1b_sel_backward s1c_sel_end s2a_sel_end s1b_sel_end s2abort s1abort
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
3|1|3
(1 row)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s2begin s1_delete s2b_sel_dec s3_insert s1begin s3_insert s2_delete s2b_sel_end s2_delete s1_insert s2_delete s1b_sel_dec s1_delete s2_delete s1commit s2d_sel_dec s2a_sel_dec s2_insert s1b_sel_backward s2d_sel_forward s2d_sel_forward s2_insert s2d_sel_next s2_delete s1b_sel_end s2a_sel_backward s1_update s2d_sel_forward s1_update s1_insert s2a_sel_end s2d_sel_end s2commit
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2b_sel_end: CLOSE s2b_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1commit: COMMIT;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
(63 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_end: CLOSE s2a_sel;
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;

starting permutation: s3_insert s3_update s1_delete s1_delete s2_insert s1begin s3_delete s1a_sel_dec s1_insert s1abort s1_delete s3_insert s1a_sel_end s3_insert s2begin s2c_sel_dec s2_update s2c_sel_next s2c_sel_next s2a_sel_dec s2a_sel_end s2c_sel_forward s1_update s3_update s2commit s3begin s2c_sel_next s2c_sel_end s3_delete s1_insert s3commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
5|3|5
(1 row)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
  a| b| c
---+--+--
  6| 3| 6
  7| 3| 7
  8| 3| 8
  9| 3| 9
 10| 3|10
 11| 3|11
 12| 3|12
 13| 3|13
 14| 3|14
 15| 3|15
 16| 3|16
 17| 3|17
 18| 3|18
 19| 3|19
 20| 3|20
 21| 3|21
 22| 3|22
 23| 3|23
 24| 3|24
 25| 3|25
 26| 3|26
 27| 3|27
 28| 3|28
 29|29| 1
 30| 2| 1
 33| 2| 4
 34| 2| 5
 35| 2| 6
 36| 2| 7
 37| 2| 8
 38| 2| 9
 39| 2|10
 40| 2|11
 41| 2|12
 42| 2|13
 43| 2|14
 44| 2|15
 45| 2|16
 46| 2|17
 47| 2|18
 48| 2|19
 59| 3|30
 60| 3|31
 61| 3|32
 62| 3|33
 63| 3|34
 64| 3|35
 65| 3|36
 66| 3|37
 67| 3|38
 68| 3|39
 69| 3|40
 70| 3|41
 71| 3|42
 72| 3|43
 73| 3|44
 74| 3|45
 75| 3|46
 76| 3|47
 77| 3|48
 78| 3|49
 79| 3|50
 80| 3|51
 81| 3|52
 82| 3|53
 83| 3|54
 84| 3|55
 85| 3|56
 86| 3|57
 87| 3|58
 88| 3|59
 89| 3|60
 90| 3|61
 91| 3|62
 92| 3|63
 93| 3|64
 94| 3|65
 95| 3|66
 96| 3|67
 97| 3|68
 98| 3|69
 99| 3|70
100| 3|71
101| 3|72
102| 3|73
103| 3|74
104| 3|75
105| 3|76
106| 3|77
107| 3|78
108| 3|79
109| 3|80
110| 3|81
111| 3|82
112| 3|83
113| 3|84
114| 3|85
(97 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;

starting permutation: s3begin s3b_sel_dec s2_delete s2_insert s1_delete s2begin s2a_sel_dec s3abort s3b_sel_backward s2a_sel_next s3_update s2a_sel_backward s1_update s2a_sel_forward s2a_sel_prior s3_delete s2a_sel_prior s2a_sel_prior s3b_sel_end s2abort s1_delete s3begin s3d_sel_dec s2a_sel_end s3d_sel_next s2_insert s3d_sel_forward s3_insert s1_insert s3abort s3d_sel_end
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
19|2|19
(1 row)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
18|2|18
(1 row)

step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
17|2|17
(1 row)

step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
(16 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist

starting permutation: s2_delete s1_update s1_delete s2_delete s1_insert s1_update s1_insert s3_update s3_insert s3begin s3abort s2_delete s2begin s2abort s2_delete s3_insert s3begin s2_delete s3commit s1begin s1a_sel_dec s3_insert s2_insert s1_update s3_insert s1a_sel_backward s2_update s1d_sel_dec s2_delete s2_insert s1d_sel_end s1a_sel_end s1commit
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3commit: COMMIT;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_end: CLOSE s1d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;

starting permutation: s3_delete s3_insert s2_delete s3_delete s1_update s2begin s3begin s2abort s1begin s1a_sel_dec s1c_sel_dec s3_delete s1commit s2_insert s3abort s1a_sel_backward s2begin s3begin s2d_sel_dec s3_delete s3_update s3d_sel_dec s1c_sel_end s3c_sel_dec s3d_sel_forward s2d_sel_next s1_insert s2d_sel_end s3a_sel_dec s2_delete s3d_sel_end s3a_sel_end s1a_sel_end s3c_sel_end s3abort s2abort
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2abort: ROLLBACK;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3abort: ROLLBACK;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s3begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_end: CLOSE s1c_sel;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a| b| c
--+--+--
 3| 3| 3
 4| 3| 4
 5| 3| 5
 6| 3| 6
 7| 3| 7
 8| 3| 8
 9| 3| 9
10| 3|10
11| 3|11
12| 3|12
13| 3|13
14| 3|14
15| 3|15
16| 3|16
17| 3|17
18| 3|18
19| 3|19
20| 3|20
21| 3|21
22| 3|22
23| 3|23
24| 3|24
25| 3|25
26| 3|26
27| 3|27
28| 3|28
31| 2| 3
32| 2| 4
33| 2| 5
34| 2| 6
35| 2| 7
36| 2| 8
37| 2| 9
38| 2|10
39| 2|11
40| 2|12
41| 2|13
42| 2|14
43| 2|15
44| 2|16
45| 2|17
46| 2|18
47| 2|19
48|29| 1
(44 rows)

step s2d_sel_next: FETCH NEXT FROM s2d_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_end: CLOSE s2d_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1; <waiting ...>
step s3d_sel_end: CLOSE s3d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s3abort: ROLLBACK;
step s2_delete: <... completed>
step s2abort: ROLLBACK;

starting permutation: s1_delete s3_delete s2_delete s3_delete s3begin s3_update s1_insert s1_insert s1_update s2_insert s3_insert s2_insert s2_insert s3c_sel_dec s3c_sel_next s3_update s1begin s1abort s3_update s2_update s2_delete s3c_sel_end s1_delete s3_delete s3commit s1_insert s2_update s2_insert s3_delete s3_insert
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1; <waiting ...>
step s3c_sel_end: CLOSE s3c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3commit: COMMIT;
step s2_delete: <... completed>
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);

starting permutation: s1begin s1b_sel_dec s1b_sel_forward s3begin s3b_sel_dec s3abort s2_delete s1b_sel_backward s1b_sel_next s2_update s3b_sel_forward s1b_sel_end s1_update s1commit s3b_sel_prior s3_update s3b_sel_backward s2_update s1_insert s3b_sel_next s2_delete s1_delete s3_update s1_update s1_update s3_update s3b_sel_next s3_update s2_update s3b_sel_prior s3b_sel_end
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1commit: COMMIT;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s2_update s1_update s2begin s2commit s1_insert s3_update s3begin s1begin s1abort s3d_sel_dec s1_delete s3_update s1_update s3_insert s3_update s3b_sel_dec s3a_sel_dec s3d_sel_next s3a_sel_next s3abort s3_delete s3b_sel_end s2_delete s1_insert s1_update s2_delete s3a_sel_backward s1_update s3d_sel_end s3a_sel_end
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
2|1|2
(1 row)

step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
4|1|4
(1 row)

step s3abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist

starting permutation: s1_update s2_insert s3begin s3_insert s2_insert s3_update s2_update s3abort s2_delete s1begin s3_insert s3_update s1a_sel_dec s1_insert s3_delete s2_update s3_insert s1a_sel_forward s1a_sel_forward s1a_sel_backward s1a_sel_end s2begin s2commit s3_delete s1c_sel_dec s2_delete s3_delete s1_insert s2begin s2_insert s1c_sel_end s1abort s2commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a| b| c
--+--+--
 2| 2| 2
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
48| 2|20
49| 2|21
50| 2|22
51| 2|23
52| 2|24
53| 2|25
54| 2|26
55| 2|27
56| 2|28
57| 2|29
58| 2|30
59| 2|31
60| 2|32
61| 2|33
62| 2|34
63| 2|35
64| 2|36
65| 2|37
66| 2|38
69|39| 3
70| 3|31
71| 3|32
72| 3|33
73| 3|34
74| 3|35
75| 3|36
76| 3|37
77| 3|38
78| 3|39
79| 3|40
80| 3|41
81| 3|42
82| 3|43
83| 3|44
84| 3|45
85| 3|46
86| 3|47
87| 3|48
88| 3|49
89| 3|50
90| 3|51
91| 3|52
92| 3|53
93| 3|54
94| 3|55
95| 3|56
96| 3|57
97| 3|58
(65 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
 a| b| c
--+--+--
97| 3|58
96| 3|57
95| 3|56
94| 3|55
93| 3|54
92| 3|53
91| 3|52
90| 3|51
89| 3|50
88| 3|49
87| 3|48
86| 3|47
85| 3|46
84| 3|45
83| 3|44
82| 3|43
81| 3|42
80| 3|41
79| 3|40
78| 3|39
77| 3|38
76| 3|37
75| 3|36
74| 3|35
73| 3|34
72| 3|33
71| 3|32
70| 3|31
69|39| 3
66| 2|38
65| 2|37
64| 2|36
63| 2|35
62| 2|34
61| 2|33
60| 2|32
59| 2|31
58| 2|30
57| 2|29
56| 2|28
55| 2|27
54| 2|26
53| 2|25
52| 2|24
51| 2|23
50| 2|22
49| 2|21
48| 2|20
19| 2|19
18| 2|18
17| 2|17
16| 2|16
15| 2|15
14| 2|14
13| 2|13
12| 2|12
11| 2|11
10| 2|10
 9| 2| 9
 8| 2| 8
 7| 2| 7
 6| 2| 6
 5| 2| 5
 4| 2| 4
 2| 2| 2
(65 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1abort: ROLLBACK;
step s2commit: COMMIT;

starting permutation: s3_insert s1_update s3_update s3_update s3_insert s1begin s3_delete s1a_sel_dec s1a_sel_prior s1a_sel_end s1_insert s1a_sel_dec s1a_sel_backward s3_update s3_update s2_delete s3_delete s1commit s1_update s3begin s1_insert s1a_sel_next s3_insert s3_delete s3a_sel_dec s3a_sel_backward s3a_sel_forward s3d_sel_dec s3_insert s3_delete s3d_sel_end s3a_sel_end s1a_sel_end s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1commit: COMMIT;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
3|3|3
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
  a|b| c
---+-+--
  3|3| 3
  4|3| 4
  5|3| 5
  6|3| 6
  7|3| 7
  8|3| 8
  9|3| 9
 10|3|10
 11|3|11
 12|3|12
 13|3|13
 14|3|14
 15|3|15
 16|3|16
 17|3|17
 18|3|18
 19|3|19
 20|3|20
 21|3|21
 22|3|22
 23|3|23
 24|3|24
 25|3|25
 26|3|26
 27|3|27
 28|3|28
 32|3|31
 33|3|32
 34|3|33
 35|3|34
 36|3|35
 37|3|36
 38|3|37
 39|3|38
 40|3|39
 41|3|40
 42|3|41
 43|3|42
 44|3|43
 45|3|44
 46|3|45
 47|3|46
 48|3|47
 49|3|48
 50|3|49
 51|3|50
 52|3|51
 53|3|52
 54|3|53
 55|3|54
 56|3|55
 57|3|56
 58|3|57
 59|3|58
 61|1| 3
 62|1| 4
 63|1| 5
 64|1| 6
 65|1| 7
 66|1| 8
 67|1| 9
 68|1|10
 69|1|11
 73|1|13
 74|1|14
 75|1|15
 76|1|16
 77|1|17
 78|1|18
 79|1|19
 80|1|20
 81|1|21
 82|1|22
 83|3|61
 84|3|62
 85|3|63
 86|3|64
 87|3|65
 88|3|66
 89|3|67
 90|3|68
 91|3|69
 92|3|70
 93|3|71
 94|3|72
 95|3|73
 96|3|74
 97|3|75
 98|3|76
 99|3|77
100|3|78
101|3|79
102|3|80
103|3|81
104|3|82
105|3|83
106|3|84
107|3|85
108|3|86
109|3|87
110|3|88
(101 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3d_sel_end: CLOSE s3d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;

starting permutation: s3_delete s1_update s1_update s1_delete s2begin s3_update s3_delete s2_insert s2_delete s3_delete s2c_sel_dec s1_delete s2c_sel_forward s3_delete s2b_sel_dec s2a_sel_dec s2_insert s1_delete s2b_sel_next s2b_sel_forward s2abort s2a_sel_end s2b_sel_forward s3_delete s2_update s2b_sel_next s2_delete s2b_sel_forward s2c_sel_forward s2b_sel_forward s2b_sel_end s2c_sel_end
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
 a|b| c
--+-+--
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(17 rows)

step s2abort: ROLLBACK;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_forward: FETCH FORWARD ALL FROM s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist

starting permutation: s3_update s3_delete s2_update s1_delete s3begin s3d_sel_dec s3_update s1begin s3d_sel_end s1d_sel_dec s1b_sel_dec s1a_sel_dec s1d_sel_forward s1d_sel_forward s1d_sel_forward s3c_sel_dec s1c_sel_dec s1commit s2_delete s2begin s1_update s1d_sel_next s1d_sel_end s3d_sel_dec s1a_sel_prior s3_update s2_delete s1a_sel_backward s1a_sel_forward s1b_sel_next s1c_sel_end s3d_sel_end s1a_sel_end s3c_sel_end s1b_sel_end s2abort s3commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s2_insert s2begin s2c_sel_dec s3_update s2c_sel_end s1_delete s1_insert s2d_sel_dec s3_insert s2d_sel_forward s2_insert s3_insert s1begin s1commit s2_update s2b_sel_dec s2b_sel_next s2b_sel_forward s1_delete s2_insert s2_delete s2d_sel_forward s2d_sel_end s3_insert s2abort s1_update s2_delete s1_insert s2b_sel_next s2b_sel_forward s2b_sel_end
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 2|2| 2
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|1| 1
21|1| 1
22|1| 2
23|1| 3
24|1| 4
25|1| 5
26|1| 6
27|1| 7
28|1| 8
29|1| 9
30|1|10
(28 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
  a| b| c
---+--+--
  4| 2| 4
  5| 2| 5
  6| 2| 6
  7| 2| 7
  8| 2| 8
  9| 2| 9
 10| 2|10
 11| 2|11
 12| 2|12
 13| 2|13
 14| 2|14
 15| 2|15
 16| 2|16
 17| 2|17
 18| 2|18
 19| 2|19
 20| 1| 1
 21| 1| 1
 22| 1| 2
 24| 1| 4
 25| 1| 5
 26| 1| 6
 27| 1| 7
 28| 1| 8
 29| 1| 9
 30| 1|10
 31| 3| 2
 33| 3| 4
 34| 3| 5
 35| 3| 6
 36| 3| 7
 37| 3| 8
 38| 3| 9
 39| 3|10
 40| 3|11
 41| 3|12
 42| 3|13
 43| 3|14
 44| 3|15
 45| 3|16
 46| 3|17
 47| 3|18
 48| 3|19
 49| 3|20
 50| 3|21
 51| 3|22
 52| 3|23
 53| 3|24
 54| 3|25
 55| 3|26
 56| 3|27
 57| 3|28
 58| 3|29
 59| 2|20
 60| 2|21
 61| 2|22
 62| 2|23
 63| 2|24
 64| 2|25
 65| 2|26
 66| 2|27
 67| 2|28
 68| 2|29
 69| 2|30
 70| 2|31
 71| 2|32
 72| 2|33
 73| 2|34
 74| 2|35
 75| 2|36
 76| 2|37
 77| 2|38
 78| 3|30
 79| 3|31
 80| 3|32
 81| 3|33
 82| 3|34
 83| 3|35
 84| 3|36
 85| 3|37
 86| 3|38
 87| 3|39
 88| 3|40
 89| 3|41
 90| 3|42
 91| 3|43
 92| 3|44
 93| 3|45
 94| 3|46
 95| 3|47
 96| 3|48
 97| 3|49
 98| 3|50
 99| 3|51
100| 3|52
101| 3|53
102| 3|54
103| 3|55
104| 3|56
105| 3|57
106|39| 3
107|40| 3
(102 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3; <waiting ...>
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_end: CLOSE s2d_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2abort: ROLLBACK;
step s1_delete: <... completed>
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist

starting permutation: s2_insert s1begin s1abort s3_insert s2_update s3_update s3_delete s2_delete s3_insert s3_delete s3_update s3_update s2begin s1begin s1_update s2a_sel_dec s2commit s2_insert s3_delete s3_update s1c_sel_dec s2a_sel_next s1a_sel_dec s1_update s2begin s1b_sel_dec s2a_sel_prior s1c_sel_end s1b_sel_prior s2a_sel_forward s1a_sel_end s1b_sel_end s2a_sel_end s2abort s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_end: CLOSE s1c_sel;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a| b| c
--+--+--
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
23| 3| 4
24| 3| 5
25| 3| 6
26| 3| 7
27| 3| 8
28| 3| 9
29| 3|10
30| 3|11
31| 3|12
32| 3|13
33| 3|14
34| 3|15
35| 3|16
36| 3|17
37| 3|18
38| 3|19
39| 3|20
40| 3|21
41| 3|22
42| 3|23
43| 3|24
44| 3|25
45| 3|26
46| 3|27
47| 3|28
48|20| 3
49|21| 3
52| 3|31
53| 3|32
54| 3|33
55| 3|34
56| 3|35
57| 3|36
58| 3|37
59| 3|38
60| 3|39
61| 3|40
62| 3|41
63| 3|42
64| 3|43
65| 3|44
66| 3|45
67| 3|46
68| 3|47
69| 3|48
70| 3|49
71| 3|50
72| 3|51
73| 3|52
74| 3|53
75| 3|54
76| 3|55
77| 3|56
78| 3|57
79| 3|58
(71 rows)

step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s3_update s3begin s1_insert s2_update s3a_sel_dec s3_insert s3a_sel_prior s2_update s3a_sel_forward s1_delete s2_insert s3a_sel_next s2_delete s2begin s3d_sel_dec s3a_sel_forward s2b_sel_dec s3a_sel_forward s2commit s2_insert s2_update s2begin s2_update s3d_sel_forward s2b_sel_forward s3d_sel_next s2b_sel_next s3_update s1_delete s3a_sel_forward s3a_sel_end s3d_sel_end s2b_sel_end s2commit s3commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1| 3
(10 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
12|3| 1
13|3| 2
14|3| 3
15|3| 4
16|3| 5
17|3| 6
18|3| 7
19|3| 8
20|3| 9
21|3|10
22|3|11
23|3|12
24|3|13
25|3|14
26|3|15
27|3|16
28|3|17
29|3|18
30|3|19
31|3|20
32|3|21
33|3|22
34|3|23
35|3|24
36|3|25
37|3|26
38|3|27
39|3|28
41|2| 3
42|2| 4
43|2| 5
44|2| 6
45|2| 7
46|2| 8
47|2| 9
48|2|10
49|2|11
50|2|12
51|2|13
52|2|14
53|2|15
54|2|16
55|2|17
56|2|18
57|2|19
58|2|20
59|2|21
(55 rows)

step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s2begin s3_update s2_update s2abort s3_delete s3_delete s1begin s1a_sel_dec s1_delete s1a_sel_end s3_delete s1_insert s1commit s3_delete s1_insert s3_update s1_insert s1_insert s1_delete s2_update s1begin s2begin s2_delete s1a_sel_dec s3_update s2commit s2_update s1abort s2_delete s2_update s1a_sel_end
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_end: CLOSE s1a_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1; <waiting ...>
step s2commit: COMMIT;
step s3_update: <... completed>
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist

starting permutation: s3_update s1_update s1_update s3_insert s3_insert s1_delete s1_insert s2_update s1_insert s3begin s1_insert s3b_sel_dec s3_delete s2_delete s3b_sel_forward s3c_sel_dec s3commit s1_delete s3begin s3c_sel_forward s1_update s3a_sel_dec s3b_sel_end s2begin s3b_sel_dec s3a_sel_prior s3b_sel_backward s3a_sel_forward s3b_sel_prior s3b_sel_prior s3b_sel_end s3a_sel_end s3c_sel_end s2abort s3abort
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
57|1| 1
58|1| 2
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1| 3
68|1|11
69|1|12
70|1|13
71|1|14
72|1|15
73|1|16
74|1|17
75|1|18
76|1|19
77|1|20
78|1|21
79|1|22
80|1|23
81|1|24
82|1|25
83|1|26
84|1|27
85|1|28
86|1|29
87|1|30
(85 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|3|29
30|3|30
31|3|31
32|3|32
33|3|33
34|3|34
35|3|35
36|3|36
37|3|37
38|3|38
39|3|39
40|3|40
41|3|41
42|3|42
43|3|43
44|3|44
45|3|45
46|3|46
47|3|47
48|3|48
49|3|49
50|3|50
51|3|51
52|3|52
53|3|53
54|3|54
55|3|55
56|3|56
60|1| 4
61|1| 5
62|1| 6
63|1| 7
64|1| 8
65|1| 9
66|1|10
67|1| 3
68|1|11
69|1|12
70|1|13
71|1|14
72|1|15
73|1|16
74|1|17
75|1|18
76|1|19
77|1|20
78|1|21
79|1|22
80|1|23
81|1|24
82|1|25
83|1|26
84|1|27
85|1|28
86|1|29
87|1|30
(81 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2begin s2_delete s3begin s2b_sel_dec s1_update s2a_sel_dec s2_delete s2abort s2a_sel_next s3_delete s2a_sel_next s2b_sel_next s1begin s3_update s2a_sel_backward s2a_sel_backward s3_delete s1abort s2b_sel_forward s3d_sel_dec s2_delete s1begin s3_delete s1_insert s2_insert s1b_sel_dec s2b_sel_end s2begin s1b_sel_backward s1b_sel_forward s2a_sel_end s1b_sel_end s3d_sel_end s1commit s3commit s2abort
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1abort: ROLLBACK;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2begin: BEGIN;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
 a|b| c
--+-+--
 1|1| 1
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|2| 1
12|2| 2
13|2| 3
14|2| 4
15|2| 5
16|2| 6
17|2| 7
18|2| 8
19|2| 9
20|2|10
21|2|11
22|2|12
23|2|13
24|2|14
25|2|15
26|2|16
27|2|17
28|2|18
29|2|19
(29 rows)

step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s1commit: COMMIT;
step s3commit: COMMIT;
step s2abort: ROLLBACK;

starting permutation: s2begin s2_update s2_update s2b_sel_dec s2b_sel_prior s2_update s2b_sel_backward s2b_sel_backward s2_delete s1_insert s1_delete s3_delete s2_insert s3_delete s2_delete s3_delete s2abort s2_insert s3begin s1_delete s2b_sel_prior s3a_sel_dec s3_update s3c_sel_dec s3a_sel_forward s3c_sel_next s2begin s2_update s2a_sel_dec s2b_sel_prior s3c_sel_end s2a_sel_end s2b_sel_end s3a_sel_end s2commit s3abort
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3abort: ROLLBACK;

starting permutation: s3_update s2_insert s3_update s1_delete s2_insert s2_insert s2_update s1_delete s2begin s2_update s3begin s1_insert s3_delete s2d_sel_dec s3_update s3b_sel_dec s3commit s2d_sel_end s2_insert s3b_sel_end s2abort s2_delete s3_insert s1_insert s3_update s3begin s2_delete s1_delete s1_insert s3c_sel_dec s3c_sel_end s3commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s2d_sel_end: CLOSE s2d_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;

starting permutation: s1_update s2_delete s1_insert s2_insert s2begin s3_insert s2commit s1_insert s3begin s2_insert s3c_sel_dec s3c_sel_end s1_update s1begin s1c_sel_dec s2_insert s1c_sel_end s2_insert s1a_sel_dec s3c_sel_dec s1a_sel_forward s1a_sel_backward s3c_sel_end s3_insert s3commit s2_insert s1b_sel_dec s1_delete s1_insert s3_update s1b_sel_end s1a_sel_end s1commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
  a| b| c
---+--+--
  1| 1| 1
  3| 1| 3
  4| 1| 4
  5| 1| 5
  6| 1| 6
  7| 1| 7
  8| 1| 8
  9| 1| 9
 10| 1|10
 11| 2| 1
 13| 2| 3
 14| 2| 4
 15| 2| 5
 16| 2| 6
 17| 2| 7
 18| 2| 8
 19| 2| 9
 20| 2|10
 21| 2|11
 22| 2|12
 23| 2|13
 24| 2|14
 25| 2|15
 26| 2|16
 27| 2|17
 28| 2|18
 29| 2|19
 30| 3| 1
 32| 3| 3
 33| 3| 4
 34| 3| 5
 35| 3| 6
 36| 3| 7
 37| 3| 8
 38| 3| 9
 39| 3|10
 40| 3|11
 41| 3|12
 42| 3|13
 43| 3|14
 44| 3|15
 45| 3|16
 46| 3|17
 47| 3|18
 48| 3|19
 49| 3|20
 50| 3|21
 51| 3|22
 52| 3|23
 53| 3|24
 54| 3|25
 55| 3|26
 56| 3|27
 57| 3|28
 58| 1|11
 59| 1|12
 60| 1|13
 61| 1|14
 62| 1|15
 63| 1|16
 64| 1|17
 65| 1|18
 66| 1|19
 67| 1|20
 68| 2|20
 69| 2|21
 70| 2|22
 71| 2|23
 72| 2|24
 73| 2|25
 74| 2|26
 75| 2|27
 76| 2|28
 77| 2|29
 78| 2|30
 79| 2|31
 80| 2|32
 81| 2|33
 82| 2|34
 83| 2|35
 84| 2|36
 85| 2|37
 86| 2|38
 87|21| 2
 88|22| 2
 89|23| 2
 90| 2|39
 91| 2|40
 92| 2|41
 93| 2|42
 94| 2|43
 95| 2|44
 96| 2|45
 97| 2|46
 98| 2|47
 99| 2|48
100| 2|49
101| 2|50
102| 2|51
103| 2|52
104| 2|53
105| 2|54
106| 2|55
107| 2|56
108| 2|57
109| 2|58
110| 2|59
111| 2|60
112| 2|61
113| 2|62
114| 2|63
115| 2|64
116| 2|65
117| 2|66
118| 2|67
119| 2|68
120| 2|69
121| 2|70
122| 2|71
123| 2|72
124| 2|73
125| 2|74
126| 2|75
127| 2|76
(124 rows)

step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
  a| b| c
---+--+--
127| 2|76
126| 2|75
125| 2|74
124| 2|73
123| 2|72
122| 2|71
121| 2|70
120| 2|69
119| 2|68
118| 2|67
117| 2|66
116| 2|65
115| 2|64
114| 2|63
113| 2|62
112| 2|61
111| 2|60
110| 2|59
109| 2|58
108| 2|57
107| 2|56
106| 2|55
105| 2|54
104| 2|53
103| 2|52
102| 2|51
101| 2|50
100| 2|49
 99| 2|48
 98| 2|47
 97| 2|46
 96| 2|45
 95| 2|44
 94| 2|43
 93| 2|42
 92| 2|41
 91| 2|40
 90| 2|39
 89|23| 2
 88|22| 2
 87|21| 2
 86| 2|38
 85| 2|37
 84| 2|36
 83| 2|35
 82| 2|34
 81| 2|33
 80| 2|32
 79| 2|31
 78| 2|30
 77| 2|29
 76| 2|28
 75| 2|27
 74| 2|26
 73| 2|25
 72| 2|24
 71| 2|23
 70| 2|22
 69| 2|21
 68| 2|20
 67| 1|20
 66| 1|19
 65| 1|18
 64| 1|17
 63| 1|16
 62| 1|15
 61| 1|14
 60| 1|13
 59| 1|12
 58| 1|11
 57| 3|28
 56| 3|27
 55| 3|26
 54| 3|25
 53| 3|24
 52| 3|23
 51| 3|22
 50| 3|21
 49| 3|20
 48| 3|19
 47| 3|18
 46| 3|17
 45| 3|16
 44| 3|15
 43| 3|14
 42| 3|13
 41| 3|12
 40| 3|11
 39| 3|10
 38| 3| 9
 37| 3| 8
 36| 3| 7
 35| 3| 6
 34| 3| 5
 33| 3| 4
 32| 3| 3
 30| 3| 1
 29| 2|19
 28| 2|18
 27| 2|17
 26| 2|16
 25| 2|15
 24| 2|14
 23| 2|13
 22| 2|12
 21| 2|11
 20| 2|10
 19| 2| 9
 18| 2| 8
 17| 2| 7
 16| 2| 6
 15| 2| 5
 14| 2| 4
 13| 2| 3
 11| 2| 1
 10| 1|10
  9| 1| 9
  8| 1| 8
  7| 1| 7
  6| 1| 6
  5| 1| 5
  4| 1| 4
  3| 1| 3
  1| 1| 1
(124 rows)

step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1commit: COMMIT;

starting permutation: s1_insert s2begin s3_delete s3_update s1begin s3_update s3_insert s1b_sel_dec s3_insert s2commit s1b_sel_end s1commit s3begin s1_update s1_delete s3commit s3begin s2begin s2commit s3_delete s3commit s2_insert s2_update s1_update s1_delete s1begin s3_update s1abort s2_delete s2begin s2abort
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s1b_sel_end: CLOSE s1b_sel;
step s1commit: COMMIT;
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2begin: BEGIN;
step s2abort: ROLLBACK;

starting permutation: s3_update s1begin s1b_sel_dec s1_update s1commit s1_delete s3_update s3_delete s1b_sel_backward s3_update s1b_sel_prior s1b_sel_forward s2_delete s3_delete s2begin s1_update s1_insert s1_insert s2abort s3_delete s3begin s1b_sel_prior s3_insert s1begin s3b_sel_dec s3_insert s1d_sel_dec s3abort s1abort s3_insert s3b_sel_end s1b_sel_end s1d_sel_end
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist

starting permutation: s3_delete s1_update s1_insert s3_update s3begin s3a_sel_dec s2_update s2begin s2_delete s2d_sel_dec s2b_sel_dec s3b_sel_dec s1_insert s2a_sel_dec s2abort s2_update s3b_sel_forward s3a_sel_prior s3a_sel_forward s2b_sel_end s3b_sel_forward s3c_sel_dec s1begin s3b_sel_prior s2_delete s3c_sel_next s3b_sel_next s3b_sel_next s3b_sel_next s2a_sel_prior s3b_sel_end s2d_sel_end s2a_sel_end s3c_sel_end s3a_sel_end s1abort s3commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 2|1| 2
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1| 1
12|1| 3
(10 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|1| 2
 3|1| 3
 4|1| 4
 5|1| 5
 6|1| 6
 7|1| 7
 8|1| 8
 9|1| 9
10|1|10
11|1| 1
(10 rows)

step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s1begin: BEGIN;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s2begin s2c_sel_dec s3_insert s2_insert s2b_sel_dec s1_update s3_insert s3_insert s1_update s2c_sel_next s2c_sel_end s3_insert s2commit s2b_sel_next s2b_sel_next s1_insert s3_delete s2_insert s3_insert s2b_sel_backward s2_insert s1_delete s2b_sel_forward s2_insert s2b_sel_end s1_update s1_insert s2_update s3begin s3_insert s3abort
step s2begin: BEGIN;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2commit: COMMIT;
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2b_sel_next: FETCH NEXT FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_forward: FETCH FORWARD ALL FROM s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3abort: ROLLBACK;

starting permutation: s2_update s1_delete s3_update s3_delete s1begin s1abort s1_insert s3_update s3_insert s3_update s3begin s1_insert s3commit s3_update s2_update s1_update s2_update s2begin s1_update s2d_sel_dec s2d_sel_end s2c_sel_dec s1_insert s2_delete s2c_sel_end s2_insert s2_delete s3begin s1_delete s2_insert s2abort s3commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2d_sel_end: CLOSE s2d_sel;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s2_update s1begin s3_insert s3_delete s1a_sel_dec s1a_sel_next s3_insert s1abort s1_insert s1a_sel_next s3_update s1_delete s1_update s3_update s3_delete s2_update s1a_sel_next s1a_sel_backward s1begin s2begin s1a_sel_end s1_delete s3_insert s3_insert s3_insert s2_update s2c_sel_dec s1b_sel_dec s1_insert s2_delete s2c_sel_end s1b_sel_end s2commit s1commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1begin: BEGIN;
step s2begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s1commit: COMMIT;

starting permutation: s3_delete s3begin s3_update s2begin s2_insert s3_delete s3b_sel_dec s1_insert s2_insert s1_delete s3c_sel_dec s3b_sel_prior s3b_sel_end s3d_sel_dec s3d_sel_forward s2a_sel_dec s3d_sel_next s3d_sel_next s3c_sel_end s3d_sel_forward s2a_sel_end s1_insert s3b_sel_dec s3b_sel_backward s2commit s3b_sel_forward s2begin s1_update s3b_sel_end s2a_sel_dec s3d_sel_end s2a_sel_end s2commit s3commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2commit: COMMIT;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s2commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s3_insert s3_insert s1_insert s2_insert s2_update s1_delete s3_insert s2_insert s1_insert s2_update s2_delete s1_delete s1_update s3_insert s2_update s2_update s2_delete s3begin s1_insert s1_update s3_update s2_insert s3a_sel_dec s3a_sel_forward s3a_sel_forward s2_update s3a_sel_backward s1begin s1b_sel_dec s1b_sel_prior s3a_sel_end s1b_sel_end s1abort s3abort
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
  a| b|  c
---+--+---
  4| 3|  4
  5| 3|  5
  6| 3|  6
  7| 3|  7
  8| 3|  8
  9| 3|  9
 10| 3| 10
 11| 3| 11
 12| 3| 12
 13| 3| 13
 14| 3| 14
 15| 3| 15
 16| 3| 16
 17| 3| 17
 18| 3| 18
 19| 3| 19
 20| 3| 20
 21| 3| 21
 22| 3| 22
 23| 3| 23
 24| 3| 24
 25| 3| 25
 26| 3| 26
 27| 3| 27
 28| 3| 28
 29| 3| 29
 30| 3| 30
 31| 3| 31
 32| 3| 32
 33| 3| 33
 34| 3| 34
 35| 3| 35
 36| 3| 36
 37| 3| 37
 38| 3| 38
 39| 3| 39
 40| 3| 40
 41| 3| 41
 42| 3| 42
 43| 3| 43
 44| 3| 44
 45| 3| 45
 46| 3| 46
 47| 3| 47
 48| 3| 48
 49| 3| 49
 50| 3| 50
 51| 3| 51
 52| 3| 52
 53| 3| 53
 54| 3| 54
 55| 3| 55
 56| 3| 56
 60| 1|  4
 61| 1|  5
 62| 1|  6
 63| 1|  7
 64| 1|  8
 65| 1|  9
 66| 1| 10
 70| 2|  4
 71| 2|  5
 72| 2|  6
 73| 2|  7
 74| 2|  8
 75| 2|  9
 76| 2| 10
 77| 2| 11
 78| 2| 12
 79| 2| 13
 80| 2| 14
 81| 2| 15
 82| 2| 16
 83| 2| 17
 84| 2| 18
 85| 2| 19
 89| 3| 57
 90| 3| 58
 91| 3| 59
 92| 3| 60
 93| 3| 61
 94| 3| 62
 95| 3| 63
 96| 3| 64
 97| 3| 65
 98| 3| 66
 99| 3| 67
100| 3| 68
101| 3| 69
102| 3| 70
103| 3| 71
104| 3| 72
105| 3| 73
106| 3| 74
107| 3| 75
108| 3| 76
109| 3| 77
110| 3| 78
111| 3| 79
112| 3| 80
113| 3| 81
114| 3| 82
115| 3| 83
116| 3| 84
117| 2| 23
118| 2| 24
119| 2| 25
120| 2| 26
121| 2| 27
122| 2| 28
123| 2| 29
124| 2| 30
125| 2| 31
126| 2| 32
127| 2| 33
128| 2| 34
129| 2| 35
130| 2| 36
131| 2| 37
132| 2| 38
133| 2| 39
134| 2| 40
135| 2| 41
136| 1| 11
137| 1| 12
138| 1| 13
139| 1| 14
140| 1| 15
141| 1| 16
142| 1| 17
143| 1| 18
144| 1| 19
145| 1| 20
149| 3| 85
150| 3| 86
151| 3| 87
152| 3| 88
153| 3| 89
154| 3| 90
155| 3| 91
156| 3| 92
157| 3| 93
158| 3| 94
159| 3| 95
160| 3| 96
161| 3| 97
162| 3| 98
163| 3| 99
164| 3|100
165| 3|101
166| 3|102
167| 3|103
168| 3|104
169| 3|105
170| 3|106
171| 3|107
172| 3|108
173| 3|109
174| 3|110
175| 3|111
176| 3|112
177| 1| 24
178| 1| 25
179| 1| 26
180| 1| 27
181| 1| 28
182| 1| 29
183| 1| 30
184| 1| 31
185| 1| 32
186| 1| 33
187|34|  2
188|35|  2
189|36|  2
190| 2| 42
191| 2| 43
192| 2| 44
193| 2| 45
194| 2| 46
195| 2| 47
196| 2| 48
197| 2| 49
198| 2| 50
199| 2| 51
200| 2| 52
201| 2| 53
202| 2| 54
203| 2| 55
204| 2| 56
205| 2| 57
206| 2| 58
207| 2| 59
208| 2| 60
(193 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
  a| b|  c
---+--+---
208| 2| 60
207| 2| 59
206| 2| 58
205| 2| 57
204| 2| 56
203| 2| 55
202| 2| 54
201| 2| 53
200| 2| 52
199| 2| 51
198| 2| 50
197| 2| 49
196| 2| 48
195| 2| 47
194| 2| 46
193| 2| 45
192| 2| 44
191| 2| 43
190| 2| 42
189|36|  2
188|35|  2
187|34|  2
186| 1| 33
185| 1| 32
184| 1| 31
183| 1| 30
182| 1| 29
181| 1| 28
180| 1| 27
179| 1| 26
178| 1| 25
177| 1| 24
176| 3|112
175| 3|111
174| 3|110
173| 3|109
172| 3|108
171| 3|107
170| 3|106
169| 3|105
168| 3|104
167| 3|103
166| 3|102
165| 3|101
164| 3|100
163| 3| 99
162| 3| 98
161| 3| 97
160| 3| 96
159| 3| 95
158| 3| 94
157| 3| 93
156| 3| 92
155| 3| 91
154| 3| 90
153| 3| 89
152| 3| 88
151| 3| 87
150| 3| 86
149| 3| 85
145| 1| 20
144| 1| 19
143| 1| 18
142| 1| 17
141| 1| 16
140| 1| 15
139| 1| 14
138| 1| 13
137| 1| 12
136| 1| 11
135| 2| 41
134| 2| 40
133| 2| 39
132| 2| 38
131| 2| 37
130| 2| 36
129| 2| 35
128| 2| 34
127| 2| 33
126| 2| 32
125| 2| 31
124| 2| 30
123| 2| 29
122| 2| 28
121| 2| 27
120| 2| 26
119| 2| 25
118| 2| 24
117| 2| 23
116| 3| 84
115| 3| 83
114| 3| 82
113| 3| 81
112| 3| 80
111| 3| 79
110| 3| 78
109| 3| 77
108| 3| 76
107| 3| 75
106| 3| 74
105| 3| 73
104| 3| 72
103| 3| 71
102| 3| 70
101| 3| 69
100| 3| 68
 99| 3| 67
 98| 3| 66
 97| 3| 65
 96| 3| 64
 95| 3| 63
 94| 3| 62
 93| 3| 61
 92| 3| 60
 91| 3| 59
 90| 3| 58
 89| 3| 57
 85| 2| 19
 84| 2| 18
 83| 2| 17
 82| 2| 16
 81| 2| 15
 80| 2| 14
 79| 2| 13
 78| 2| 12
 77| 2| 11
 76| 2| 10
 75| 2|  9
 74| 2|  8
 73| 2|  7
 72| 2|  6
 71| 2|  5
 70| 2|  4
 66| 1| 10
 65| 1|  9
 64| 1|  8
 63| 1|  7
 62| 1|  6
 61| 1|  5
 60| 1|  4
 56| 3| 56
 55| 3| 55
 54| 3| 54
 53| 3| 53
 52| 3| 52
 51| 3| 51
 50| 3| 50
 49| 3| 49
 48| 3| 48
 47| 3| 47
 46| 3| 46
 45| 3| 45
 44| 3| 44
 43| 3| 43
 42| 3| 42
 41| 3| 41
 40| 3| 40
 39| 3| 39
 38| 3| 38
 37| 3| 37
 36| 3| 36
 35| 3| 35
 34| 3| 34
 33| 3| 33
 32| 3| 32
 31| 3| 31
 30| 3| 30
 29| 3| 29
 28| 3| 28
 27| 3| 27
 26| 3| 26
 25| 3| 25
 24| 3| 24
 23| 3| 23
 22| 3| 22
 21| 3| 21
 20| 3| 20
 19| 3| 19
 18| 3| 18
 17| 3| 17
 16| 3| 16
 15| 3| 15
 14| 3| 14
 13| 3| 13
 12| 3| 12
 11| 3| 11
 10| 3| 10
  9| 3|  9
  8| 3|  8
  7| 3|  7
  6| 3|  6
  5| 3|  5
  4| 3|  4
(193 rows)

step s1begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;
step s3abort: ROLLBACK;

starting permutation: s2begin s2commit s3begin s3_delete s1begin s1c_sel_dec s1_update s1c_sel_forward s3d_sel_dec s3abort s1c_sel_end s1_delete s1abort s2_delete s3d_sel_next s3d_sel_next s3d_sel_forward s1begin s3d_sel_end s1d_sel_dec s2_delete s1_delete s1a_sel_dec s1a_sel_next s3begin s1_insert s1a_sel_forward s1c_sel_dec s3_update s2_update s1c_sel_end s1a_sel_end s1d_sel_end s3abort s1abort
step s2begin: BEGIN;
step s2commit: COMMIT;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s1c_sel_end: CLOSE s1c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_next: FETCH NEXT FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s3abort: ROLLBACK;
step s1abort: ROLLBACK;

starting permutation: s1begin s1commit s2_delete s3_update s2begin s3_insert s2b_sel_dec s2c_sel_dec s1_delete s3begin s3c_sel_dec s2_insert s2b_sel_backward s2abort s2b_sel_end s2c_sel_end s3c_sel_forward s3a_sel_dec s2begin s2_insert s1begin s2d_sel_dec s3d_sel_dec s3b_sel_dec s2_insert s2d_sel_forward s3commit s3_update s2b_sel_dec s1commit s2d_sel_end s3b_sel_end s3d_sel_end s3a_sel_end s3c_sel_end s2b_sel_end s2commit
step s1begin: BEGIN;
step s1commit: COMMIT;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s3c_sel" already exists
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
ERROR:  cursor "s2c_sel" does not exist
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
48|2|20
49|2|21
50|2|22
51|2|23
52|2|24
53|2|25
54|2|26
55|2|27
56|2|28
57|2|29
58|2|30
59|2|31
60|2|32
61|2|33
62|2|34
63|2|35
64|2|36
65|2|37
66|2|38
(46 rows)

step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2d_sel_end: CLOSE s2d_sel;
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3d_sel_end: CLOSE s3d_sel;
ERROR:  cursor "s3d_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2commit: COMMIT;

starting permutation: s2_insert s3_insert s1begin s1a_sel_dec s3begin s1abort s3c_sel_dec s2_delete s3c_sel_end s3a_sel_dec s3_update s3commit s3a_sel_prior s3begin s1a_sel_end s3abort s3begin s1_update s3a_sel_forward s3d_sel_dec s2_insert s2begin s3d_sel_end s3_delete s2a_sel_dec s3abort s2a_sel_next s3a_sel_backward s2_update s3_delete s2a_sel_end s3a_sel_end s2commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3begin: BEGIN;
step s1abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3c_sel_end: CLOSE s3c_sel;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3commit: COMMIT;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
21|3| 2
22|3| 3
23|3| 4
24|3| 5
25|3| 6
26|3| 7
27|3| 8
28|3| 9
29|3|10
30|3|11
31|3|12
32|3|13
33|3|14
34|3|15
35|3|16
36|3|17
37|3|18
38|3|19
39|3|20
40|3|21
41|3|22
42|3|23
43|3|24
44|3|25
45|3|26
46|3|27
47|3|28
(45 rows)

step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2begin: BEGIN;
step s3d_sel_end: CLOSE s3d_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
3|2|3
(1 row)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
47|3|28
46|3|27
45|3|26
44|3|25
43|3|24
42|3|23
41|3|22
40|3|21
39|3|20
38|3|19
37|3|18
36|3|17
35|3|16
34|3|15
33|3|14
32|3|13
31|3|12
30|3|11
29|3|10
28|3| 9
27|3| 8
26|3| 7
25|3| 6
24|3| 5
23|3| 4
22|3| 3
21|3| 2
19|2|19
18|2|18
17|2|17
16|2|16
15|2|15
14|2|14
13|2|13
12|2|12
11|2|11
10|2|10
 9|2| 9
 8|2| 8
 7|2| 7
 6|2| 6
 5|2| 5
 4|2| 4
 3|2| 3
 2|2| 2
(45 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_end: CLOSE s2a_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s2commit: COMMIT;

starting permutation: s3begin s2_insert s3c_sel_dec s3abort s3begin s3commit s3c_sel_forward s3c_sel_next s3c_sel_next s1_delete s3c_sel_next s3begin s3c_sel_next s3_insert s3_update s2_update s3_update s3c_sel_forward s2_insert s1_delete s2_update s3_update s2_update s2begin s3c_sel_end s3_delete s1_update s1_delete s1_delete s2c_sel_dec s2c_sel_end s3abort s2abort
step s3begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3begin: BEGIN;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_delete: DELETE FROM tbl WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s2_insert s1begin s2_update s3_insert s1_update s3_insert s2_insert s1commit s1_delete s3_update s2_delete s3_insert s3_delete s3_update s2_delete s3_delete s1_delete s3_insert s2begin s1begin s1_insert s1a_sel_dec s1c_sel_dec s1_update s1a_sel_next s1a_sel_prior s2commit s1_insert s1_update s3_insert s1c_sel_end s1a_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s1a_sel_end: CLOSE s1a_sel;
step s1abort: ROLLBACK;

starting permutation: s3_insert s2_delete s3begin s3_insert s2_insert s2_update s1_insert s3abort s1_delete s1_delete s1_delete s3begin s2_update s3_update s3abort s2begin s2commit s2begin s2abort s1_insert s1_insert s3_delete s2_insert s2_delete s1_update s2begin s2_update s3_update s3begin s3c_sel_dec s3c_sel_end s3commit s2commit
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3abort: ROLLBACK;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3abort: ROLLBACK;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s2abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3commit: COMMIT;
step s2commit: COMMIT;

starting permutation: s2_insert s1_insert s1begin s1_update s2_delete s1d_sel_dec s2_delete s1commit s1begin s1d_sel_forward s1_update s1abort s1_update s3_delete s1d_sel_next s1d_sel_end s2_insert s2_insert s1_insert s3_insert s3_delete s2_insert s2_update s1_insert s3_delete s1_insert s3begin s3d_sel_dec s3c_sel_dec s3d_sel_forward s3c_sel_end s3d_sel_end s3commit
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1commit: COMMIT;
step s1begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a| b| c
---+--+--
  4| 2| 4
  5| 2| 5
  6| 2| 6
  7| 2| 7
  8| 2| 8
  9| 2| 9
 10| 2|10
 11| 2|11
 12| 2|12
 13| 2|13
 14| 2|14
 15| 2|15
 16| 2|16
 17| 2|17
 18| 2|18
 19| 2|19
 23| 1| 4
 24| 1| 5
 25| 1| 6
 26| 1| 7
 27| 1| 8
 28| 1| 9
 29| 1|10
 34| 2|20
 35| 2|21
 36| 2|22
 37| 2|23
 38| 2|24
 39| 2|25
 40| 2|26
 41| 2|27
 42| 2|28
 43| 2|29
 44| 2|30
 45| 2|31
 46| 2|32
 47| 2|33
 48| 2|34
 49| 2|35
 50| 2|36
 51| 2|37
 52| 2|38
 53| 2|39
 54| 2|40
 55| 2|41
 56| 2|42
 57| 2|43
 58| 2|44
 59| 2|45
 60| 2|46
 61| 2|47
 62| 2|48
 63| 2|49
 64| 2|50
 65| 2|51
 66| 2|52
 67| 2|53
 68| 2|54
 69| 2|55
 70| 2|56
 71| 2|57
 72| 1|15
 73| 1|16
 74| 1|17
 75| 1|18
 76| 1|19
 77| 1|20
 78| 1|21
 79| 1|22
 80| 1|23
 81| 1|24
 82| 3| 1
 85| 3| 4
 86| 3| 5
 87| 3| 6
 88| 3| 7
 89| 3| 8
 90| 3| 9
 91| 3|10
 92| 3|11
 93| 3|12
 94| 3|13
 95| 3|14
 96| 3|15
 97| 3|16
 98| 3|17
 99| 3|18
100| 3|19
101| 3|20
102| 3|21
103| 3|22
104| 3|23
105| 3|24
106| 3|25
107| 3|26
108| 3|27
109| 3|28
110| 2|58
111| 2|59
112| 2|60
113| 2|61
114| 2|62
115| 2|63
116| 2|64
117| 2|65
118| 2|66
119| 2|67
120| 2|68
121| 2|69
122| 2|70
123| 2|71
124| 2|72
125| 2|73
126| 2|74
127| 2|75
128| 2|76
129|77| 3
130|78| 3
131|79| 3
132| 1|25
133| 1|26
134| 1|27
135| 1|28
136| 1|29
137| 1|30
138| 1|31
139| 1|32
140| 1|33
141| 1|34
142| 1|35
143| 1|36
144| 1|37
145| 1|38
146| 1|39
147| 1|40
148| 1|41
149| 1|42
150| 1|43
151| 1|44
(139 rows)

step s3c_sel_end: CLOSE s3c_sel;
step s3d_sel_end: CLOSE s3d_sel;
step s3commit: COMMIT;

starting permutation: s3_update s3_delete s1_update s1_delete s2_update s3begin s3_delete s3_delete s1_insert s3_insert s3commit s2_insert s1_update s2_update s1_delete s2_insert s1_delete s1begin s1_update s1abort s2_delete s3begin s3commit s3_delete s1_update s1_delete s1_update s1begin s1_insert s1commit
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1commit: COMMIT;

starting permutation: s1begin s1_delete s3begin s1c_sel_dec s2_insert s1d_sel_dec s3c_sel_dec s2_insert s1d_sel_forward s3_insert s1a_sel_dec s1abort s1begin s3a_sel_dec s3a_sel_backward s3abort s3c_sel_next s1b_sel_dec s3a_sel_next s3_insert s1b_sel_end s1a_sel_backward s2begin s1d_sel_forward s1a_sel_end s3_update s2commit s2_update s3a_sel_prior s3begin s1d_sel_end s3a_sel_end s3c_sel_end s1c_sel_end s3abort s1commit
step s1begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a|b| c
--+-+--
 1|2| 1
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(19 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1abort: ROLLBACK;
step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3abort: ROLLBACK;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_end: CLOSE s1b_sel;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2begin: BEGIN;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2commit: COMMIT;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3begin: BEGIN;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3abort: ROLLBACK;
step s1commit: COMMIT;

starting permutation: s2_delete s3_insert s2_update s2_delete s1_insert s3_delete s1begin s1abort s2_delete s1_delete s2_update s3begin s3_insert s3_delete s2_delete s3a_sel_dec s3c_sel_dec s3_update s2_delete s3c_sel_forward s3c_sel_next s1_insert s3c_sel_forward s3a_sel_forward s3_delete s3_delete s3_insert s1_delete s3commit s3a_sel_next s3a_sel_end s3c_sel_end
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
33|1| 4
34|1| 5
35|1| 6
36|1| 7
37|1| 8
38|1| 9
39|1|10
40|3|29
41|3|30
42|3|31
43|3|32
44|3|33
45|3|34
46|3|35
47|3|36
48|3|37
49|3|38
50|3|39
51|3|40
52|3|41
53|3|42
54|3|43
55|3|44
56|3|45
57|3|46
58|3|47
59|3|48
60|3|49
61|3|50
62|3|51
63|3|52
64|3|53
65|3|54
66|3|55
67|3|56
(60 rows)

step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
 a|b| c
--+-+--
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
33|1| 4
34|1| 5
35|1| 6
36|1| 7
37|1| 8
38|1| 9
39|1|10
40|3|29
41|3|30
42|3|31
43|3|32
44|3|33
45|3|34
46|3|35
47|3|36
48|3|37
49|3|38
50|3|39
51|3|40
52|3|41
53|3|42
54|3|43
55|3|44
56|3|45
57|3|46
58|3|47
59|3|48
60|3|49
61|3|50
62|3|51
63|3|52
64|3|53
65|3|54
66|3|55
67|3|56
(60 rows)

step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3commit: COMMIT;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_end: CLOSE s3a_sel;
step s3c_sel_end: CLOSE s3c_sel;

starting permutation: s1_delete s1_insert s3begin s2_update s3commit s3begin s3b_sel_dec s3b_sel_backward s1begin s3a_sel_dec s3b_sel_next s3b_sel_end s3_update s3a_sel_end s2_insert s1a_sel_dec s3_insert s1abort s3c_sel_dec s1a_sel_prior s1a_sel_backward s3_update s3abort s1_insert s1_update s1_delete s3_delete s3_delete s3begin s3_delete s3c_sel_end s1a_sel_end s3abort
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3commit: COMMIT;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
1|1|1
(1 row)

step s3b_sel_end: CLOSE s3b_sel;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3a_sel_end: CLOSE s3a_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1abort: ROLLBACK;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3abort: ROLLBACK;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s3_insert s2_update s1_insert s3begin s3a_sel_dec s3a_sel_backward s3a_sel_prior s3b_sel_dec s3c_sel_dec s3c_sel_next s2_update s1_insert s3c_sel_forward s1_delete s1_update s3b_sel_forward s3c_sel_forward s2_update s3b_sel_next s3a_sel_prior s2_update s1_insert s1_update s2_delete s3abort s3b_sel_next s3c_sel_next s3b_sel_end s1_update s2_delete s3c_sel_end s3a_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
a|b|c
-+-+-
1|3|1
(1 row)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
 a|b| c
--+-+--
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 3
30|1| 1
31|1| 2
32|1| 3
33|1| 4
34|1| 5
35|1| 6
36|1| 7
37|1| 8
38|1| 9
39|1|10
(37 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
29|1| 3
30|1| 1
31|1| 2
32|1| 3
33|1| 4
34|1| 5
35|1| 6
36|1| 7
37|1| 8
38|1| 9
39|1|10
(38 rows)

step s3c_sel_forward: FETCH FORWARD ALL FROM s3c_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3abort: ROLLBACK;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3c_sel_next: FETCH NEXT FROM s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3c_sel_end: CLOSE s3c_sel;
ERROR:  cursor "s3c_sel" does not exist
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist

starting permutation: s2_update s1_delete s1_delete s2_update s2begin s1begin s3_update s1abort s2c_sel_dec s3_delete s3_delete s2a_sel_dec s3_delete s2a_sel_backward s2d_sel_dec s3_update s1_insert s2a_sel_next s2d_sel_forward s2_delete s2c_sel_end s1_delete s2d_sel_forward s2abort s2a_sel_backward s2a_sel_next s1_update s2a_sel_end s1_delete s3_insert s2d_sel_end
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1abort: ROLLBACK;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2c_sel_end: CLOSE s2c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
a|b|c
-+-+-
(0 rows)

step s2abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s2a_sel_next: FETCH NEXT FROM s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_end: CLOSE s2a_sel;
ERROR:  cursor "s2a_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist

starting permutation: s1_delete s3_delete s2_update s3_delete s1_delete s3_delete s3begin s3abort s1_update s2_insert s3begin s3c_sel_dec s3commit s1_insert s1begin s1c_sel_dec s1_insert s2_update s1a_sel_dec s1_delete s3_delete s1a_sel_end s2_delete s1d_sel_dec s3c_sel_end s3_delete s1_delete s2_update s1d_sel_end s1_update s1c_sel_end s1commit
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3begin: BEGIN;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_end: CLOSE s1a_sel;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3; <waiting ...>
step s1d_sel_end: CLOSE s1d_sel;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1c_sel_end: CLOSE s1c_sel;
step s1commit: COMMIT;
step s2_update: <... completed>

starting permutation: s1_update s1begin s1d_sel_dec s2_update s1d_sel_next s1abort s2_insert s1_delete s1_delete s1d_sel_forward s2_update s2_update s1_update s2_delete s3_update s1begin s2_update s2begin s2_update s3_delete s3_delete s3begin s3_update s1_delete s2commit s1b_sel_dec s1b_sel_prior s3_insert s1d_sel_end s1_update s1b_sel_end s1commit s3commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1d_sel_next: FETCH NEXT FROM s1d_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2commit: COMMIT;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1commit: COMMIT;
step s3commit: COMMIT;

starting permutation: s2_update s2_insert s3_insert s1begin s3_update s2_insert s1c_sel_dec s1a_sel_dec s1a_sel_prior s1a_sel_prior s1a_sel_next s1c_sel_forward s3begin s1b_sel_dec s1a_sel_end s3abort s1c_sel_forward s1commit s2begin s2a_sel_dec s1b_sel_backward s3_insert s1b_sel_forward s3_update s3_update s1c_sel_next s1begin s1a_sel_dec s2a_sel_backward s1_insert s1a_sel_end s1b_sel_end s2a_sel_end s1c_sel_end s1abort s2abort
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a| b| c
--+--+--
 2| 2| 2
 3| 2| 3
 4| 2| 4
 5| 2| 5
 6| 2| 6
 7| 2| 7
 8| 2| 8
 9| 2| 9
10| 2|10
11| 2|11
12| 2|12
13| 2|13
14| 2|14
15| 2|15
16| 2|16
17| 2|17
18| 2|18
19| 2|19
21| 3| 2
22| 3| 3
23| 3| 4
24| 3| 5
25| 3| 6
26| 3| 7
27| 3| 8
28| 3| 9
29| 3|10
30| 3|11
31| 3|12
32| 3|13
33| 3|14
34| 3|15
35| 3|16
36| 3|17
37| 3|18
38| 3|19
39| 3|20
40| 3|21
41| 3|22
42| 3|23
43| 3|24
44| 3|25
45| 3|26
46| 3|27
47| 3|28
48|29| 1
49|30| 1
50| 2|20
51| 2|21
52| 2|22
53| 2|23
54| 2|24
55| 2|25
56| 2|26
57| 2|27
58| 2|28
59| 2|29
60| 2|30
61| 2|31
62| 2|32
63| 2|33
64| 2|34
65| 2|35
66| 2|36
67| 2|37
68| 2|38
(66 rows)

step s3begin: BEGIN;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
step s3abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1commit: COMMIT;
step s2begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1a_sel_end: CLOSE s1a_sel;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2a_sel_end: CLOSE s2a_sel;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s1begin s2begin s3_insert s2a_sel_dec s2a_sel_forward s1abort s2a_sel_forward s2commit s3_delete s2a_sel_prior s2_delete s2a_sel_end s3_insert s2begin s2_delete s2_update s2c_sel_dec s2commit s3_update s3_insert s2c_sel_next s2begin s2_insert s3_delete s2b_sel_dec s2_insert s2a_sel_dec s2_delete s1_update s2a_sel_prior s2c_sel_end s2b_sel_end s2a_sel_end s2abort
step s1begin: BEGIN;
step s2begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
 a|b| c
--+-+--
 1|3| 1
 2|3| 2
 3|3| 3
 4|3| 4
 5|3| 5
 6|3| 6
 7|3| 7
 8|3| 8
 9|3| 9
10|3|10
11|3|11
12|3|12
13|3|13
14|3|14
15|3|15
16|3|16
17|3|17
18|3|18
19|3|19
20|3|20
21|3|21
22|3|22
23|3|23
24|3|24
25|3|25
26|3|26
27|3|27
28|3|28
(28 rows)

step s1abort: ROLLBACK;
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
 a|b| c
--+-+--
28|3|28
(1 row)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_end: CLOSE s2a_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
4|3|4
(1 row)

step s2begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s2a_sel_end: CLOSE s2a_sel;
step s2abort: ROLLBACK;

starting permutation: s2_update s3_delete s3_update s3_insert s2begin s3_update s2_insert s2_update s2d_sel_dec s2abort s3_delete s2d_sel_next s3_insert s3_insert s2_insert s3_delete s2_delete s2_update s2_update s1_delete s3_delete s2_insert s2d_sel_forward s3_delete s2_insert s1_delete s2d_sel_forward s3begin s1_delete s3b_sel_dec s3b_sel_end s2d_sel_end s3commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2d_sel_next: FETCH NEXT FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2d_sel_forward: FETCH FORWARD ALL FROM s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_end: CLOSE s3b_sel;
step s2d_sel_end: CLOSE s2d_sel;
ERROR:  cursor "s2d_sel" does not exist
step s3commit: COMMIT;

starting permutation: s1begin s2begin s3_update s2_insert s2_delete s1_update s1a_sel_dec s2b_sel_dec s3_delete s1_delete s1a_sel_backward s2_delete s1_update s1a_sel_forward s2c_sel_dec s2_insert s1_update s1abort s1_update s2_insert s1_insert s2_update s3begin s2_update s2c_sel_end s2b_sel_backward s2c_sel_dec s3c_sel_dec s3d_sel_dec s3d_sel_forward s3d_sel_end s1a_sel_end s2c_sel_end s3c_sel_end s2b_sel_end s3abort s2abort
step s1begin: BEGIN;
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_end: CLOSE s2c_sel;
step s2b_sel_backward: FETCH BACKWARD ALL FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
 a|b| c
--+-+--
58|1| 1
59|1| 2
60|1| 3
61|1| 4
62|1| 5
63|1| 6
64|1| 7
65|1| 8
66|1| 9
67|1|10
(10 rows)

step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2c_sel_end: CLOSE s2c_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s2b_sel_end: CLOSE s2b_sel;
step s3abort: ROLLBACK;
step s2abort: ROLLBACK;

starting permutation: s1_update s1begin s1_update s1a_sel_dec s1b_sel_dec s1a_sel_forward s1_delete s1abort s1_update s3_insert s1a_sel_forward s1a_sel_forward s1a_sel_next s1_update s1a_sel_next s1b_sel_next s1a_sel_next s2_insert s3_delete s2_update s1b_sel_prior s1b_sel_end s1_update s3_update s1a_sel_next s1a_sel_prior s1_delete s1a_sel_next s2begin s2d_sel_dec s1a_sel_end s2d_sel_end s2commit
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1abort: ROLLBACK;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2begin: BEGIN;
step s2d_sel_dec: DECLARE s2d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2d_sel_end: CLOSE s2d_sel;
step s2commit: COMMIT;

starting permutation: s3_delete s2_delete s1_update s2_delete s2_delete s1_delete s2_insert s2_insert s3_update s3begin s3abort s2_delete s2_update s3_insert s3_insert s3begin s2_delete s3commit s3_update s3_insert s3_insert s3_insert s1begin s3begin s3_update s2_update s2_delete s1b_sel_dec s3_delete s2_delete s1b_sel_end s1abort s3commit
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3begin: BEGIN;
step s3abort: ROLLBACK;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1begin: BEGIN;
step s3begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1b_sel_end: CLOSE s1b_sel;
step s1abort: ROLLBACK;
step s3commit: COMMIT;

starting permutation: s1begin s3_update s1_update s1c_sel_dec s1b_sel_dec s3begin s3commit s1b_sel_backward s1a_sel_dec s1a_sel_prior s3begin s3_insert s1_update s1b_sel_forward s1_insert s1b_sel_end s2_update s1commit s1c_sel_next s1_update s3_delete s3b_sel_dec s3b_sel_prior s2_insert s3b_sel_end s1_insert s1c_sel_end s3_insert s3d_sel_dec s2_insert s3d_sel_end s1a_sel_end s3abort
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3begin: BEGIN;
step s3commit: COMMIT;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3begin: BEGIN;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1commit: COMMIT;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s1c_sel_end: CLOSE s1c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3d_sel_end: CLOSE s3d_sel;
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s2_update s1_insert s3_update s1begin s2_update s2begin s3begin s2abort s2begin s2commit s2_insert s3_delete s1c_sel_dec s1_delete s1abort s3abort s3begin s1_update s1_delete s1c_sel_end s3commit s2begin s2_update s2b_sel_dec s2_insert s1_update s2b_sel_prior s2_insert s3_delete s1_delete s2b_sel_end s2commit
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s3begin: BEGIN;
step s2abort: ROLLBACK;
step s2begin: BEGIN;
step s2commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1abort: ROLLBACK;
step s3abort: ROLLBACK;
step s3begin: BEGIN;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3commit: COMMIT;
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2b_sel_end: CLOSE s2b_sel;
step s2commit: COMMIT;

starting permutation: s1begin s1abort s3_delete s2_update s1begin s3begin s2begin s2_delete s2abort s2_update s3abort s1c_sel_dec s1_update s1c_sel_next s2begin s1abort s2c_sel_dec s2c_sel_end s3begin s2a_sel_dec s3b_sel_dec s3b_sel_next s2commit s2a_sel_end s1begin s3b_sel_next s1d_sel_dec s3b_sel_prior s1abort s2_insert s1c_sel_end s3b_sel_end s1d_sel_end s3abort
step s1begin: BEGIN;
step s1abort: ROLLBACK;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1begin: BEGIN;
step s3begin: BEGIN;
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2abort: ROLLBACK;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3abort: ROLLBACK;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1c_sel_next: FETCH NEXT FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2begin: BEGIN;
step s1abort: ROLLBACK;
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s3begin: BEGIN;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s2a_sel_end: CLOSE s2a_sel;
step s1begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  cursor "s1c_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s3begin s3a_sel_dec s2begin s1_insert s2a_sel_dec s3a_sel_next s3a_sel_backward s3_update s3a_sel_prior s3c_sel_dec s3d_sel_dec s3d_sel_end s3d_sel_dec s3a_sel_next s2commit s3d_sel_end s1begin s2_insert s3a_sel_forward s2a_sel_end s2_update s3_insert s1d_sel_dec s3a_sel_backward s3_insert s3commit s3_update s1b_sel_dec s1d_sel_forward s1_delete s1d_sel_end s3a_sel_end s1b_sel_end s3c_sel_end s1commit
step s3begin: BEGIN;
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2begin: BEGIN;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3a_sel_prior: FETCH PRIOR FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_end: CLOSE s3d_sel;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_next: FETCH NEXT FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3d_sel_end: CLOSE s3d_sel;
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3a_sel_forward: FETCH FORWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3a_sel_backward: FETCH BACKWARD ALL FROM s3a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
 a| b| c
--+--+--
 1| 1| 1
 2| 1| 2
 4| 1| 4
 5| 1| 5
 6| 1| 6
 7| 1| 7
 8| 1| 8
 9| 1| 9
10| 1|10
12| 2| 1
13| 2| 2
15| 2| 4
16| 2| 5
17| 2| 6
18| 2| 7
19| 2| 8
20| 2| 9
21| 2|10
22| 2|11
23| 2|12
24| 2|13
25| 2|14
26| 2|15
27| 2|16
28| 2|17
29| 2|18
30| 2|19
31|20| 3
32|21| 3
(29 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1d_sel_end: CLOSE s1d_sel;
step s3a_sel_end: CLOSE s3a_sel;
step s1b_sel_end: CLOSE s1b_sel;
step s3c_sel_end: CLOSE s3c_sel;
step s1commit: COMMIT;

starting permutation: s2_insert s1_update s1begin s1c_sel_dec s1d_sel_dec s2_update s3_insert s3_update s1_insert s3_delete s1a_sel_dec s3_delete s1c_sel_end s1d_sel_end s2_insert s1_update s2_insert s1commit s1_update s1a_sel_backward s3_insert s2_delete s3_update s3_insert s1_update s1a_sel_backward s1_update s1a_sel_end s1begin s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1c_sel_end: CLOSE s1c_sel;
step s1d_sel_end: CLOSE s1d_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_backward: FETCH BACKWARD ALL FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1a_sel_end: CLOSE s1a_sel;
step s1begin: BEGIN;
step s1abort: ROLLBACK;

starting permutation: s2_insert s2_update s1_delete s2_update s2begin s1_delete s3_delete s1begin s1c_sel_dec s1d_sel_dec s1commit s2a_sel_dec s1_delete s1begin s1c_sel_forward s1abort s1c_sel_forward s2commit s3_update s1_delete s1c_sel_forward s2_insert s1begin s2a_sel_backward s1_delete s2a_sel_backward s2a_sel_next s1d_sel_forward s3_update s1_update s1c_sel_end s2a_sel_end s1d_sel_end s1abort
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1begin: BEGIN;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1commit: COMMIT;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1begin: BEGIN;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
 a|b| c
--+-+--
 1|2| 1
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(17 rows)

step s1abort: ROLLBACK;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1c_sel_forward: FETCH FORWARD ALL FROM s1c_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1begin: BEGIN;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_next: FETCH NEXT FROM s2a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1c_sel_end: CLOSE s1c_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s2a_sel_end: CLOSE s2a_sel;
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1abort: ROLLBACK;

starting permutation: s3_delete s3_delete s2begin s2_delete s2a_sel_dec s3_insert s1_update s2_insert s3_insert s2a_sel_forward s3begin s2_delete s2a_sel_prior s2_insert s1_insert s2a_sel_forward s2a_sel_forward s2commit s3abort s2a_sel_backward s2a_sel_forward s2_delete s1_delete s1_update s1_update s2a_sel_prior s2a_sel_end s3_delete s1_delete s1_update
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2commit: COMMIT;
step s3abort: ROLLBACK;
step s2a_sel_backward: FETCH BACKWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_forward: FETCH FORWARD ALL FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2a_sel_prior: FETCH PRIOR FROM s2a_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_end: CLOSE s2a_sel;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;

starting permutation: s3_insert s2_delete s2_delete s1_delete s3_insert s2_update s2_insert s1_delete s2begin s3_update s2b_sel_dec s3_insert s2b_sel_end s1begin s2commit s2begin s1_delete s3_insert s2c_sel_dec s2c_sel_end s2_insert s3_update s1b_sel_dec s1b_sel_backward s1_delete s1abort s2abort s2_insert s1_delete s2_update s1b_sel_end
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2b_sel_end: CLOSE s2b_sel;
step s1begin: BEGIN;
step s2commit: COMMIT;
step s2begin: BEGIN;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2c_sel_end: CLOSE s2c_sel;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1abort: ROLLBACK;
step s2abort: ROLLBACK;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist

starting permutation: s1begin s3begin s1commit s3b_sel_dec s3b_sel_next s1begin s3b_sel_next s3b_sel_prior s2_insert s1commit s3b_sel_backward s3b_sel_prior s3commit s2_insert s3_update s1begin s3_update s1a_sel_dec s3b_sel_forward s2_insert s2_insert s3b_sel_prior s3begin s1a_sel_prior s3b_sel_backward s3a_sel_dec s3b_sel_prior s1a_sel_forward s3commit s1commit s1a_sel_end s3a_sel_end s3b_sel_end
step s1begin: BEGIN;
step s3begin: BEGIN;
step s1commit: COMMIT;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s1begin: BEGIN;
step s3b_sel_next: FETCH NEXT FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1commit: COMMIT;
step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
a|b|c
-+-+-
(0 rows)

step s3commit: COMMIT;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1begin: BEGIN;
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3b_sel_forward: FETCH FORWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3begin: BEGIN;
step s1a_sel_prior: FETCH PRIOR FROM s1a_sel;
a|b|c
-+-+-
(0 rows)

step s3b_sel_backward: FETCH BACKWARD ALL FROM s3b_sel;
ERROR:  cursor "s3b_sel" does not exist
step s3a_sel_dec: DECLARE s3a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s3b_sel_prior: FETCH PRIOR FROM s3b_sel;
ERROR:  current transaction is aborted, commands ignored until end of transaction block
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
20|2|20
21|2|21
22|2|22
23|2|23
24|2|24
25|2|25
26|2|26
27|2|27
28|2|28
29|2|29
30|2|30
31|2|31
32|2|32
33|2|33
34|2|34
35|2|35
36|2|36
37|2|37
38|2|38
40|2| 1
(38 rows)

step s3commit: COMMIT;
step s1commit: COMMIT;
step s1a_sel_end: CLOSE s1a_sel;
step s3a_sel_end: CLOSE s3a_sel;
ERROR:  cursor "s3a_sel" does not exist
step s3b_sel_end: CLOSE s3b_sel;
ERROR:  cursor "s3b_sel" does not exist

starting permutation: s1_insert s3_update s2_delete s2_insert s1_update s3_delete s1_delete s3_delete s3_insert s3_update s3_delete s2_delete s3begin s3b_sel_dec s3_insert s3b_sel_end s3b_sel_dec s3_insert s3_delete s3c_sel_dec s3c_sel_end s1_delete s1_update s2_insert s3_update s3d_sel_dec s3d_sel_forward s3d_sel_forward s2_delete s2_delete s3d_sel_end s3b_sel_end s3commit
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3b_sel_end: CLOSE s3b_sel;
step s3b_sel_dec: DECLARE s3b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s3c_sel_dec: DECLARE s3c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s3c_sel_end: CLOSE s3c_sel;
step s1_delete: DELETE FROM tbl WHERE c = 3;
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s3seq') WHERE c = 1;
step s3d_sel_dec: DECLARE s3d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
  a|b| c
---+-+--
  4|1| 4
  5|1| 5
  6|1| 6
  7|1| 7
  8|1| 8
  9|1| 9
 10|1|10
 15|2| 4
 16|2| 5
 17|2| 6
 18|2| 7
 19|2| 8
 20|2| 9
 21|2|10
 22|2|11
 23|2|12
 24|2|13
 25|2|14
 26|2|15
 27|2|16
 28|2|17
 29|2|18
 30|2|19
 35|3| 4
 36|3| 5
 37|3| 6
 38|3| 7
 39|3| 8
 40|3| 9
 41|3|10
 42|3|11
 43|3|12
 44|3|13
 45|3|14
 46|3|15
 47|3|16
 48|3|17
 49|3|18
 50|3|19
 51|3|20
 52|3|21
 53|3|22
 54|3|23
 55|3|24
 56|3|25
 57|3|26
 58|3|27
 59|3|28
 60|3|29
 62|3|31
 63|3|32
 64|3|33
 65|3|34
 66|3|35
 67|3|36
 68|3|37
 69|3|38
 70|3|39
 71|3|40
 72|3|41
 73|3|42
 74|3|43
 75|3|44
 76|3|45
 77|3|46
 78|3|47
 79|3|48
 80|3|49
 81|3|50
 82|3|51
 83|3|52
 84|3|53
 85|3|54
 86|3|55
 87|3|56
 88|3|57
 89|3|58
 90|3|59
 91|3|60
 92|3|61
 93|3|62
 94|3|63
 95|3|64
 96|3|65
 97|3|66
 98|3|67
 99|3|68
100|3|69
101|3|70
102|3|71
103|3|72
104|3|73
105|3|74
106|3|75
107|3|76
108|3|77
109|3|78
110|3|79
111|3|80
112|3|81
113|3|82
114|3|83
115|3|84
116|3|85
117|3|86
118|2|20
119|2|21
120|2|22
121|2|23
122|2|24
123|2|25
124|2|26
125|2|27
126|2|28
127|2|29
128|2|30
129|2|31
130|2|32
131|2|33
132|2|34
133|2|35
134|2|36
135|2|37
136|2|38
(124 rows)

step s3d_sel_forward: FETCH FORWARD ALL FROM s3d_sel;
a|b|c
-+-+-
(0 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3d_sel_end: CLOSE s3d_sel;
step s3b_sel_end: CLOSE s3b_sel;
step s3commit: COMMIT;

starting permutation: s1begin s2_insert s1a_sel_dec s1b_sel_dec s2_insert s1_update s1b_sel_backward s1a_sel_next s1d_sel_dec s2_insert s3_insert s1a_sel_forward s2_delete s1c_sel_dec s1commit s1a_sel_next s2begin s1a_sel_forward s2_delete s2_insert s1b_sel_next s1a_sel_end s3begin s1b_sel_prior s2commit s1b_sel_forward s1c_sel_end s3_insert s1d_sel_forward s1d_sel_end s1b_sel_end s3abort
step s1begin: BEGIN;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1a_sel_dec: DECLARE s1a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s1b_sel_dec: DECLARE s1b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
step s1b_sel_backward: FETCH BACKWARD ALL FROM s1b_sel;
a|b|c
-+-+-
(0 rows)

step s1a_sel_next: FETCH NEXT FROM s1a_sel;
a|b|c
-+-+-
1|2|1
(1 row)

step s1d_sel_dec: DECLARE s1d_sel INSENSITIVE NO SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
 a|b| c
--+-+--
 2|2| 2
 3|2| 3
 4|2| 4
 5|2| 5
 6|2| 6
 7|2| 7
 8|2| 8
 9|2| 9
10|2|10
11|2|11
12|2|12
13|2|13
14|2|14
15|2|15
16|2|16
17|2|17
18|2|18
19|2|19
(18 rows)

step s2_delete: DELETE FROM tbl WHERE c = 1;
step s1c_sel_dec: DECLARE s1c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
ERROR:  cursor "s1c_sel" already exists
step s1commit: COMMIT;
step s1a_sel_next: FETCH NEXT FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2begin: BEGIN;
step s1a_sel_forward: FETCH FORWARD ALL FROM s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s1b_sel_next: FETCH NEXT FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1a_sel_end: CLOSE s1a_sel;
ERROR:  cursor "s1a_sel" does not exist
step s3begin: BEGIN;
step s1b_sel_prior: FETCH PRIOR FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s2commit: COMMIT;
step s1b_sel_forward: FETCH FORWARD ALL FROM s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s1c_sel_end: CLOSE s1c_sel;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1d_sel_forward: FETCH FORWARD ALL FROM s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1d_sel_end: CLOSE s1d_sel;
ERROR:  cursor "s1d_sel" does not exist
step s1b_sel_end: CLOSE s1b_sel;
ERROR:  cursor "s1b_sel" does not exist
step s3abort: ROLLBACK;

starting permutation: s2_insert s2_delete s3_insert s2begin s2_update s3_insert s2c_sel_dec s2b_sel_dec s2b_sel_prior s2a_sel_dec s2a_sel_end s2_update s2c_sel_next s2c_sel_next s2commit s3_delete s2_delete s2b_sel_end s1_insert s2_delete s3begin s2_delete s3commit s1_insert s2c_sel_end s2_update s2_update s1_insert s3_insert s1_update
step s2_insert: INSERT INTO tbl (b, c) (SELECT 2, NEXTVAL('s2seq') FROM generate_series(2,20) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2begin: BEGIN;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s2c_sel_dec: DECLARE s2c_sel INSENSITIVE NO SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_dec: DECLARE s2b_sel INSENSITIVE SCROLL CURSOR WITHOUT HOLD FOR SELECT a, b, c FROM tbl;
step s2b_sel_prior: FETCH PRIOR FROM s2b_sel;
a|b|c
-+-+-
(0 rows)

step s2a_sel_dec: DECLARE s2a_sel INSENSITIVE SCROLL CURSOR WITH HOLD FOR SELECT a, b, c FROM tbl;
step s2a_sel_end: CLOSE s2a_sel;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
2|2|2
(1 row)

step s2c_sel_next: FETCH NEXT FROM s2c_sel;
a|b|c
-+-+-
4|2|4
(1 row)

step s2commit: COMMIT;
step s3_delete: DELETE FROM tbl WHERE c = 2;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s2b_sel_end: CLOSE s2b_sel;
ERROR:  cursor "s2b_sel" does not exist
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3begin: BEGIN;
step s2_delete: DELETE FROM tbl WHERE c = 1;
step s3commit: COMMIT;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s2c_sel_end: CLOSE s2c_sel;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s2_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s2seq') WHERE c = 3;
step s1_insert: INSERT INTO tbl (b, c) (SELECT 1, NEXTVAL('s1seq') FROM generate_series(1,10) gs);
step s3_insert: INSERT INTO tbl (b, c) (SELECT 3, NEXTVAL('s3seq') FROM generate_series(3,30) gs);
step s1_update: UPDATE tbl SET a = NEXTVAL('tbl_seq'), b = NEXTVAL('s1seq') WHERE c = 2;
